0001   0000             	proc	z80
basic2.asm line 0001: unrecognized instruction.          (PROC)
0002   0000             	radix	hex
basic2.asm line 0002: unrecognized instruction.          (RADIX)
0003   0000             
0004   0000             ;===============================================================================
0005   0000             ; "Boot to BASIC" for the Space-Time Productions MCB
0006   0000             ; Replaces Monitor Rom IC-21 (4K) and adds IC-22 (4K)
0007   0000             ;
0008   0000             ; BASIC language interpreter
0009   0000             ; (c) 1978 Microsoft
0010   0000             ; Originally written for the NASCOM(c) Z80 computer
0011   0000             ; Ported over for Space-Time Productions MCB Board 2004-2005
0012   0000             ; 
0013   0000             ; Adjusted to allow 'Boot to BASIC' Nov 2010-Feb 2011
0014   0000             ;===============================================================================
0015   0000             ;------------------------------------------------------------------------------
0016   0000             ; Memory Map
0017   0000             ;------------------------------------------------------------------------------
0018   0000             RAM:	.EQU	$3000		; STACK BOT        ($3000-307F) [128]
0019   0000             STACK:	.EQU	$3080		; STACK TOP        ($3000-307F)
0020   0000             INBUFF:	.EQU	$3080		; INPUT  BUFFER    ($3080-30CF)
0021   0000             BUFFER:	.EQU	$30D0		; CRUNCH BUFFER    ($30D0-311F)
0022   0000             BASICV:	.EQU	$3120		; BASIC VAR SPACE  ($3120-3219)
0023   0000             TEXT:	.EQU	$3220		; BASIC PROGRAM    ($3220-37FF)
0024   0000             ;------------------------------------------------------------------------------
0025   0000             ;General Equates
0026   0000             ;------------------------------------------------------------------------------	
0027   0000             LF:	.EQU	$0A		; LINE FEED
0028   0000             CS:	.EQU	$0C		; FORM FEED
0029   0000             CR:	.EQU	$0D		; CARRIAGE RETURN
0030   0000             CTRLC:	.EQU	$03		; <CTRL-C>
0031   0000             CTRLG:	.EQU	$07		; <CTRL-G>
0032   0000             CTRLO:	.EQU	$0F		; <CTRL-O>
0033   0000             CTRLQ:	.EQU	$11		; <CTRL-Q>
0034   0000             CTRLR:	.EQU	$12		; <CTRL-R>
0035   0000             CTRLS:	.EQU	$13		; <CTRL-S>
0036   0000             CTRLU:	.EQU	$15		; <CTRL-U>
0037   0000             CTRLZ:	.EQU	$1A		; <CTRL-Z>
0038   0000             ESC:	.EQU	$1B		; ESCAPE KEY
0039   0000             DEL:	.EQU	$7F		; DELETE KEY
0040   0000             BKSP:	.EQU	$08		; BACK SPACE
0041   0000             ZERBYT:	.EQU	$-1		; A zero byte (?)
0042   0000             ;------------------------------------------------------------------------------
0043   0000             ; BASIC ERROR CODE VALUES
0044   0000             ;------------------------------------------------------------------------------
0045   0000             NF:	.EQU	$01		; NEXT without FOR
0046   0000             SN:	.EQU	$02		; Syntax error
0047   0000             RG:	.EQU	$03		; RETURN without GOSUB
0048   0000             OD:	.EQU	$04		; Out of DATA
0049   0000             FC:	.EQU	$05		; Function call error
0050   0000             OV:	.EQU	$06		; Overflow
0051   0000             OM:	.EQU	$07		; Out of memory
0052   0000             UL:	.EQU	$08		; Undefined line number
0053   0000             BS:	.EQU	$09		; Bad subscript
0054   0000             DD:	.EQU	$0A		; Re-DIMensioned array
0055   0000             DZ:	.EQU	$0B		; Division by zero (/0)
0056   0000             ID:	.EQU	$0C		; Illegal direct
0057   0000             TM:	.EQU	$0D		; Type miss-match
0058   0000             OS:	.EQU	$0E		; Out of string space
0059   0000             LS:	.EQU	$0F		; String too long
0060   0000             ST:	.EQU	$10		; String formula too complex
0061   0000             CN:	.EQU	$11		; Can't CONTinue
0062   0000             UF:	.EQU	$12		; UnDEFined FN function
0063   0000             MO:	.EQU	$13		; Missing operand
0064   0000             SO:	.EQU	$14		; Stack overflow
0065   0000             HX:	.EQU	$15		; Not valid HEX value
0066   0000             ;------------------------------------------------------------------------------
0067   0000             ; RESERVED WORD TOKEN VALUES
0068   0000             ;	Tokens occupy from $80 thru $CF connected to each reserved word in the
0069   0000             ;	"WORDS:" list; these are the only ones referenced by indexing routines
0070   0000             ;------------------------------------------------------------------------------
0071   0000             ZEND:	.EQU	080H		; END
0072   0000             ZFOR:	.EQU	081H		; FOR
0073   0000             ZDATA:	.EQU	083H		; DATA
0074   0000             ZGOTO:	.EQU	088H		; GOTO
0075   0000             ZGOSUB:	.EQU	08CH		; GOSUB
0076   0000             ZREM:	.EQU	08EH		; REM
0077   0000             ZPRINT:	.EQU	09EH		; PRINT
0078   0000             ZNEW:	.EQU	0A4H		; NEW
0079   0000             ZTAB:	.EQU	0A5H		; TAB
0080   0000             ZTO:	.EQU	0A6H		; TO
0081   0000             ZFN:	.EQU	0A7H		; FN
0082   0000             ZSPC:	.EQU	0A8H		; SPC
0083   0000             ZTHEN:	.EQU	0A9H		; THEN
0084   0000             ZNOT:	.EQU	0AAH		; NOT
0085   0000             ZSTEP:	.EQU	0ABH		; STEP
0086   0000             ZPLUS:	.EQU	0ACH		; +
0087   0000             ZMINUS:	.EQU	0ADH		; -
0088   0000             ZTIMES:	.EQU	0AEH		; *
0089   0000             ZDIV:	.EQU	0AFH		; /
0090   0000             ZOR:	.EQU	0B2H		; OR
0091   0000             ZGTR:	.EQU	0B3H		; >
0092   0000             ZEQUAL:	.EQU	0B4H		; M
0093   0000             ZLTH:	.EQU	0B5H		; <
0094   0000             ZSGN:	.EQU	0B6H		; SGN
0095   0000             ZPOINT:	.EQU	0C7H		; POINT
0096   0000             ZLEFT:	.EQU	0CDH		; LEFT$
0097   0000             ;------------------------------------------------------------------------------
0098   0000             ; BASIC WORKSPACE LOCATIONS
0099   0000             ;------------------------------------------------------------------------------
0100   0000             WRKSPC:	.EQU	BASICV		; $3120, can be relocated dynamically if needed
0101   0000             USR:	.EQU	BASICV+$03	; "USR(X)" JUMP, SET INITALLY TO FN ERROR
0102   0000             OUTSUB:	.EQU	BASICV+$06	; "OUT P,N"
0103   0000             OTPORT:	.EQU	BASICV+$07	; PORT (P)
0104   0000             DIVSUP:	.EQU	BASICV+$09	; DIVISION SUPPORT ROUTINE
0105   0000             DIV1:	.EQU	BASICV+$0A	; <- VALUES TO
0106   0000             DIV2:	.EQU	BASICV+$0E	; <- ADDED
0107   0000             DIV3:	.EQU	BASICV+$12	; <- DURING
0108   0000             DIV4:	.EQU	BASICV+$15	; <- DIVISION CALC
0109   0000             SEED:	.EQU	BASICV+$17	; RANDOM SEED NUMBER
0110   0000             LSTRND:	.EQU	BASICV+$3A	; LAST RANDOM NUMBER
0111   0000             INPSUB:	.EQU	BASICV+$3E	; "INP(X)" ROUTINE
0112   0000             INPORT:	.EQU	BASICV+$3F	; PORT(X)
0113   0000             NULLS:	.EQU	BASICV+$41	; NUMBER OF NULLS POS(X) NUMBER
0114   0000             LWIDTH:	.EQU	BASICV+$42	; TERMINAL WIDTH
0115   0000             COMMAN:	.EQU	BASICV+$43	; WIDTH FOR COMMAS
0116   0000             NULFLG:	.EQU	BASICV+$44	; NULL AFTER INPUT BYTE FLAG
0117   0000             CTLOFG:	.EQU	BASICV+$45	; CONTROL "O" FLAG OUTPUT ENABLE
0118   0000             LINESC:	.EQU	BASICV+$46	; LINES COUNTER
0119   0000             LINESN:	.EQU	BASICV+$48	; LINES NUMBER
0120   0000             CHKSUM:	.EQU	BASICV+$4A	; ARRAY LOAD/SAVE CHECK SUM
0121   0000             NMIFLG:	.EQU	BASICV+$4C	; FLAG FOR NMI BREAK ROUTINE
0122   0000             BRKFLG:	.EQU	BASICV+$4D	; BREAK FLAG
0123   0000             CURPOS:	.EQU	BASICV+$4E	; CHARACTER POSITION ON LINE
0124   0000             LCRFLG:	.EQU	BASICV+$4F	; LOCATE/CREATE FLAG
0125   0000             TYPE:	.EQU	BASICV+$50	; DATA TYPE FLAG
0126   0000             DATFLG:	.EQU	BASICV+$51	; LITERAL STATEMENT FLAG
0127   0000             FORFLG:	.EQU	BASICV+$52	; "FOR" LOOP FLAG
0128   0000             LSTBIN:	.EQU	BASICV+$53	; LAST BYTE ENTERED
0129   0000             READFG:	.EQU	BASICV+$54	; READ/INPUT FLAG
0130   0000             LINEAT:	.EQU	BASICV+$55	; Current line number
0131   0000             
0132   0000             RAMTOP:	.EQU	BASICV+$60	; Physical end of RAM
0133   0000             PROGST:	.EQU	BASICV+$62	; START OF BASIC TEXT AREA
0134   0000             STLOOK:	.EQU	BASICV+$64	; PROGRAM START + 100 BYTES
0135   0000             FRERAM:	.EQU	BASICV+$66	; Calculated ram for BASIC program text
0136   0000             SYSRAM:	.EQU	BASICV+$68	; Calculated ram for BASIC text+vars
0137   0000             BASTXT:	.EQU	BASICV+$6A	; Pointer to start of program
0138   0000             STRSPC:	.EQU	BASICV+$6C	; Bottom of string space in use
0139   0000             PROGND:	.EQU	BASICV+$6E	; END OF PROGRAM
0140   0000             VAREND:	.EQU	BASICV+$70	; END OF VARIABLES
0141   0000             ARREND:	.EQU	BASICV+$72	; END OF ARRAYS
0142   0000             LSTRAM:	.EQU	BASICV+$74	; LAST AVAILABLE RAM
0143   0000             
0144   0000             TMSTPT:	.EQU	BASICV+$81	; TEMPORARY STRING POINTER
0145   0000             TMSTPL:	.EQU	BASICV+$83	; TEMPORARY STRING POOL
0146   0000             TMPSTR:	.EQU	BASICV+$8F	; TEMPORARY STRING
0147   0000             STRBOT:	.EQU	BASICV+$93	; BOTTOM OF STRING SPACE
0148   0000             CUROPR:	.EQU	BASICV+$95	; CURRENT OPERATOR IN EVAL
0149   0000             LOOPST:	.EQU	BASICV+$97	; FIRST STATEMENT OF LOOP
0150   0000             DATLIN:	.EQU	BASICV+$99	; LINE OF CURRENT DATA ITEM
0151   0000             BRKLIN:	.EQU	BASICV+$A6	; LINE OF BREAK
0152   0000             NXTOPR:	.EQU	BASICV+$A8	; NEXT OPERATOR IN EVAL
0153   0000             ERRLIN:	.EQU	BASICV+$AA	; LINE OF ERROR
0154   0000             CONTAD:	.EQU	BASICV+$AC	; WHERE TO CONTINUE
0155   0000             NXTDAT:	.EQU	BASICV+$AE	; NEXT DATA ITEM
0156   0000             
0157   0000             FNRGNM:	.EQU	BASICV+$B0	; NAME OF "FN" ARGUMENT
0158   0000             FNARG:	.EQU	BASICV+$B2	; FN ARGUMENT VALUE
0159   0000             
0160   0000             FPREG:	.EQU	BASICV+$C0	; FLOATING POINT REGISTER $C0 $C1 $C2
0161   0000             FPEXP:	.EQU	BASICV+$C3	; FLOATING POINT EXPONENT
0162   0000             SGNRES:	.EQU	BASICV+$C4	; SIGN OF RESULT
0163   0000             
0164   0000             PBUFF:	.EQU	BASICV+$D0	; NUMERIC DISPLAY PRINT BUFFER
0165   0000             
0166   0000             MULVAL:	.EQU	BASICV+$E0	; MULTIPLIER
0167   0000             
0168   0000             X1POS:	.EQU	BASICV+$F0	; X position integer from GETXY
0169   0000             Y1POS:	.EQU	BASICV+$F2	; Y position integer from GETXY
0170   0000             INTVECT:	.EQU	BASICV+$F4	; Soft configurable INT JP command
0171   0000             NMIVECT:	.EQU	BASICV+$F7	; Soft configurable NMI JP command
0172   0000             
0173   0000             BOOT:	.ORG	$0000	
0174   0000             ;------------------------------------------------------------------------------
0175   0000             ; TX a character over RS232 Channel A [Host], wait for TXDONE first.
0176   0000             ;------------------------------------------------------------------------------
0177   0000 F3          RST00:	DI			;Disable INTerrupts
0178   0001             	IM	1		;INT vectors over to $0038
basic2.asm line 0178: unrecognized instruction.          (IM)
basic2.asm line 0179: Label not found: (HWINIT)
basic2.asm line 0179: Unused data in MS byte of argument. (2)
0179   0001 F2 00 00    	JP	HWINIT		;Initialize Hardware and go
0180   0004 00          	NOP
0181   0005 00          	NOP
0182   0006             ;------------------------------------------------------------------------------
0183   0006             ; TX a character over RS232 Channel A [Host], wait for TXDONE first.
0184   0006             ;------------------------------------------------------------------------------
basic2.asm line 0185: Label not found: (TXA)
basic2.asm line 0185: Unused data in MS byte of argument. (2)
0185   0006 F2 00 00    RST08:	JP	TXA
0186   0009 00          	NOP
0187   000A 00          	NOP
0188   000B 00          	NOP
0189   000C 00          	NOP
0190   000D 00          	NOP
0191   000E             ;------------------------------------------------------------------------------
0192   000E             ; RX a character over RS232 Channel A [Console], hold here until char ready.
0193   000E             ;------------------------------------------------------------------------------
0194   000E F2 C8 0F    RST10:	JP	RXA
0195   0011 00          	NOP
0196   0012 00          	NOP
0197   0013 00          	NOP
0198   0014 00          	NOP
0199   0015 00          	NOP
0200   0016             ;------------------------------------------------------------------------------
0201   0016             ; TX a character over RS232 Channel B, wait for TXDONE first.
0202   0016             ;------------------------------------------------------------------------------
basic2.asm line 0203: Label not found: (TXB)
basic2.asm line 0203: Unused data in MS byte of argument. (2)
0203   0016 F2 00 00    RST18:	JP	TXB
0204   0019 00          	NOP
0205   001A 00          	NOP
0206   001B 00          	NOP
0207   001C 00          	NOP
0208   001D 00          	NOP
0209   001E             ;------------------------------------------------------------------------------
0210   001E             ; RX a character from RS232 Channel B, hold here until char ready.
0211   001E             ;------------------------------------------------------------------------------
0212   001E F2 D4 0F    RST20:	JP	RXB
0213   0021 00          	NOP
0214   0022 00          	NOP
0215   0023 00          	NOP
0216   0024 00          	NOP
0217   0025 00          	NOP
0218   0026             ;------------------------------------------------------------------------------
0219   0026             ; TX a character to the 8279 Display, check 8279 display ready prior to write.
0220   0026             ;------------------------------------------------------------------------------
basic2.asm line 0221: Label not found: (TX8279)
basic2.asm line 0221: Unused data in MS byte of argument. (2)
0221   0026 F2 00 00    RST28:	JP	TX8279		; Transmit char in A out to 8279
0222   0029 00          	NOP
0223   002A 00          	NOP
0224   002B 00          	NOP
0225   002C 00          	NOP
0226   002D 00          	NOP
0227   002E             ;------------------------------------------------------------------------------
0228   002E             ; RX a character from the 8279 Keyboard, hold here until key is in buffer.
0229   002E             ;------------------------------------------------------------------------------
0230   002E F2 3F 00    RST30:	JP	RX8279		; Wait for char from 8279 keyboard
0231   0031 00          	NOP
0232   0032 00          	NOP
0233   0033 00          	NOP
0234   0034 00          	NOP
0235   0035 00          	NOP
0236   0036             ;------------------------------------------------------------------------------
0237   0036             ; RST 38 - INTERRUPT VECTOR [ for IM 1 ]
0238   0036             ;------------------------------------------------------------------------------
0239   0036 F2 14 32    RST38:	JP	INTVECT		; Software config JP, default WSTART
0240   0039             ;------------------------------------------------------------------------------	
0241   0039             ; Print a string message terminated by $00
0242   0039             ;------------------------------------------------------------------------------	
0243   0039             PRT:	LD	A,(HL)		; Get character
basic2.asm line 0243: Label not found: (PRT)
basic2.asm line 0243: label value misalligned.           (PRT)
basic2.asm line 0243: unrecognized instruction.          (PRT)
0244   0039             	OR	A		; Test for zero
basic2.asm line 0244: unrecognized instruction.          (OR)
0245   0039             	RET	Z		; Return if finished
basic2.asm line 0245: unrecognized argument.             (Z)
0246   0039             	RST	08H		; Print the character in A
basic2.asm line 0246: unrecognized argument.             (08H)
0247   0039             	INC	HL		; Point to next character
basic2.asm line 0247: unrecognized instruction.          (INC)
0248   0039             	JR	PRT		;  and loop thru until finished
basic2.asm line 0248: unrecognized instruction.          (JR)
0249   0039             ;------------------------------------------------------------------------------	
0250   0039             ; CLear Screen by printing a Form Feed character $0C
0251   0039             ;------------------------------------------------------------------------------
0252   0039             CLS:	LD	A,$0C		; Form feed
basic2.asm line 0252: Label not found: (CLS)
basic2.asm line 0252: label value misalligned.           (CLS)
basic2.asm line 0252: unrecognized instruction.          (CLS)
0253   0039             	RST	08H		; Print it
basic2.asm line 0253: unrecognized argument.             (08H)
0254   0039 C9          	RET
0255   003A             ;------------------------------------------------------------------------------
0256   003A             ; Write character to 8279 Display, check for Display Available before write.
0257   003A             ;------------------------------------------------------------------------------
0258   003A             TX8279:	PUSH	AF		; Save char and flags
basic2.asm line 0258: Label not found: (TX8279)
basic2.asm line 0258: label value misalligned.           (TX8279)
basic2.asm line 0258: unrecognized argument.             (TX8279)
basic2.asm line 0259: Label not found: (A)
basic2.asm line 0259: Unknown token: (,)
basic2.asm line 0259: Unknown token.    
0259   003A DB 79       	IN	A,($79)		; Get 8279 status word
0260   003C             	BIT	7,A		; D7=Display Unavailable flag
basic2.asm line 0260: unrecognized instruction.          (BIT)
0261   003C             	JR	NZ,TX8279+1	; Loop here until Display Available
basic2.asm line 0261: unrecognized instruction.          (JR)
0262   003C             	POP	AF		; Retrieve char and flags
basic2.asm line 0262: unrecognized argument.             (AF)
basic2.asm line 0263: Unknown token: (,)
basic2.asm line 0263: Unknown token.    
basic2.asm line 0263: Label not found: (A)
basic2.asm line 0263: Unused data in MS byte of argument. (200)
0263   003C D3 00       	OUT	($78),A		; Write char to display
0264   003E C9          	RET
0265   003F             ;------------------------------------------------------------------------------
0266   003F             ; Wait on 8279 for Keyboard character
0267   003F             ;------------------------------------------------------------------------------
basic2.asm line 0268: Label not found: (A)
basic2.asm line 0268: Unknown token: (,)
basic2.asm line 0268: Unknown token.    
0268   003F DB 79       RX8279:	IN	A,($79)		; Get p8279 Status
0269   0041             	AND	$07		; 0-7 keys in buffer?
basic2.asm line 0269: unrecognized instruction.          (AND)
0270   0041             	JR	Z,RX8279		; No, loop until key
basic2.asm line 0270: unrecognized instruction.          (JR)
basic2.asm line 0271: Label not found: (A)
basic2.asm line 0271: Unknown token: (,)
basic2.asm line 0271: Unknown token.    
0271   0041 DB 78       	IN	A,($78)		; Get the key character and ret
0272   0043 C9          	RET	
0273   0044             ;------------------------------------------------------------------------------
0274   0044             ; $0066 - Non-Maskable Interrupt Vector
0275   0044             ;------------------------------------------------------------------------------
0276   0066             NMI:	.ORG	$0066
0277   0066 F2 17 32    	JP	NMIVECT		; Soft configurable JP default WSTART
0278   0069             ;------------------------------------------------------------------------------
0279   0069             ; B A S I C	Cold	Start
0280   0069             ;------------------------------------------------------------------------------
0281   0069             ;------------------------------------------------------------------------------
0282   0070             BASIC:	.ORG	$0070		; Start after RST's and NMI vectors
0283   0070             CSTART:	LD	SP,STACK		; Set SP pointer
basic2.asm line 0283: Label not found: (CSTART)
basic2.asm line 0283: label value misalligned.           (CSTART)
basic2.asm line 0283: unrecognized instruction.          (CSTART)
0284   0070             INIT:	LD	HL,INITAB		; Source=Init table
basic2.asm line 0284: Label not found: (INIT)
basic2.asm line 0284: label value misalligned.           (INIT)
basic2.asm line 0284: unrecognized instruction.          (INIT)
0285   0070             	LD	DE,WRKSPC		; Dest=Basic Var space in static RAM
basic2.asm line 0285: unrecognized instruction.          (LD)
0286   0070             	LD	BC,INITX-INITAB	; Number of bytes to copy
basic2.asm line 0286: unrecognized instruction.          (LD)
0287   0070             	LDIR			;   Make the move
basic2.asm line 0287: unrecognized instruction.          (LDIR)
0288   0070             	LD	HL,INTSRC		; Get default INT and NMI defaults
basic2.asm line 0288: unrecognized instruction.          (LD)
0289   0070             	LD	DE,INTVECT	; Copy them to alterable ram
basic2.asm line 0289: unrecognized instruction.          (LD)
0290   0070             	LD	BC,$0006		; 2 JP commands
basic2.asm line 0290: unrecognized instruction.          (LD)
0291   0070             	LDIR			;   Make the move
basic2.asm line 0291: unrecognized instruction.          (LDIR)
0292   0070             ;------------------------------------------------------------------------------
0293   0070             ; USE ONBOARD MEMORY $3000-$37FF ONLY
0294   0070             ; These values were calc'd in version that scanned top and prog start of ram
0295   0070             ;------------------------------------------------------------------------------
0296   0070             NORAM:	LD	HL,$3220		; SET UP BOARD TO USE ONLY LOCAL 2K SPACE
basic2.asm line 0296: Label not found: (NORAM)
basic2.asm line 0296: label value misalligned.           (NORAM)
basic2.asm line 0296: unrecognized instruction.          (NORAM)
0297   0070             	LD	(PROGST),HL	; SAVE IT
basic2.asm line 0297: unrecognized instruction.          (LD)
0298   0070             	LD	(BASTXT),HL	; SAVE IT FOR START OF PROGRAM TEXT
basic2.asm line 0298: unrecognized instruction.          (LD)
0299   0070             	LD	HL,$37FF		; SET ROOF AT $37FF FOR LOCAL ONLY RAM
basic2.asm line 0299: unrecognized instruction.          (LD)
0300   0070             	LD	(RAMTOP),HL	; PHYSICAL TOP OF RAM (WHAT THE HARDWARE HAS)
basic2.asm line 0300: unrecognized instruction.          (LD)
0301   0070             	LD	(LSTRAM),HL	; LOGICAL	TOP OF RAM (CAN BE CHANGED BY CLEAR)
basic2.asm line 0301: unrecognized instruction.          (LD)
0302   0070             	LD	HL,$379B		; -100 BYTES FOR STRING SPACE LOCATION
basic2.asm line 0302: unrecognized instruction.          (LD)
0303   0070             	LD	(STRSPC),HL	; SAVE STRING SPACE (STRSPC=LSTRAM-100)
basic2.asm line 0303: unrecognized instruction.          (LD)
0304   0070             	LD	HL,$05DD		; Remaining after $379B-(25)-PROGST
basic2.asm line 0304: unrecognized instruction.          (LD)
0305   0070             	LD	(FRERAM),HL	; SAVE IT
basic2.asm line 0305: unrecognized instruction.          (LD)
0306   0070             	LD	(SYSRAM),HL	; STORE SYSTEM RAM (SYSRAM=RAMTOP-PROGST-1)
basic2.asm line 0306: unrecognized instruction.          (LD)
basic2.asm line 0307: Label not found: (CLRPTR)
basic2.asm line 0307: Unused data in MS byte of argument. (2)
0307   0070 CD 00 00    	CALL	CLRPTR		; CLEAR POINTERS AND SET UP PROG AREA
0308   0073             ;------------------------------------------------------------------------------
0309   0073             ; Signon message, retrieve RAM parameters
0310   0073             ;------------------------------------------------------------------------------
0311   0073             	XOR	A		; Clear A	to zero
basic2.asm line 0311: unrecognized instruction.          (XOR)
0312   0073             	LD	(BUFFER),A	; Mark end of buffer
basic2.asm line 0312: unrecognized instruction.          (LD)
0313   0073             	LD	HL,(PROGST)	; Locate at start of BASTXT
basic2.asm line 0313: unrecognized instruction.          (LD)
0314   0073             	LD	(HL),A		; Initialize BASIC area
basic2.asm line 0314: unrecognized instruction.          (LD)
basic2.asm line 0315: Label not found: (CLRPTR)
basic2.asm line 0315: Unused data in MS byte of argument. (2)
0315   0073 CD 00 00    	CALL	CLRPTR		; CLEAR POINTERS AND SET UP PROGRAM AREA
0316   0076             
0317   0076             	LD	HL,SIGNON		; Get SIGNON message
basic2.asm line 0317: unrecognized instruction.          (LD)
basic2.asm line 0318: Label not found: (PRT)
basic2.asm line 0318: Unused data in MS byte of argument. (2)
0318   0076 CD 00 00    	CALL	PRT		; Clear the screen and print it out
0319   0079             	LD	HL,2048		; 4 x 2114 1Kx8 Rams = 2K
basic2.asm line 0319: unrecognized instruction.          (LD)
basic2.asm line 0320: Label not found: (PRNTHL)
basic2.asm line 0320: Unused data in MS byte of argument. (2)
0320   0079 CD 00 00    	CALL	PRNTHL		; Print number of bytes total
0321   007C             	LD	HL,SRAM		; " System Ram" message
basic2.asm line 0321: unrecognized instruction.          (LD)
basic2.asm line 0322: Label not found: (PRT)
basic2.asm line 0322: Unused data in MS byte of argument. (2)
0322   007C CD 00 00    	CALL	PRT		; Print the message
0323   007F             	LD	HL,(FRERAM)	; GET BYTES FREE BACK
basic2.asm line 0323: unrecognized instruction.          (LD)
basic2.asm line 0324: Label not found: (PRNTHL)
basic2.asm line 0324: Unused data in MS byte of argument. (2)
0324   007F CD 00 00    	CALL	PRNTHL		; OUTPUT AMOUNT OF FREE MEMORY
0325   0082             	LD	HL,BFREE		; " Bytes	Free" MESSAGE
basic2.asm line 0325: unrecognized instruction.          (LD)
basic2.asm line 0326: Label not found: (PRT)
basic2.asm line 0326: Unused data in MS byte of argument. (2)
0326   0082 CD 00 00    	CALL	PRT		; Print the message
0327   0085             ;------------------------------------------------------------------------------
0328   0085             ;------------------------------------------------------------------------------
0329   0085             ; B A S I C	Warm	Start
0330   0085             ;------------------------------------------------------------------------------
0331   0085             ;------------------------------------------------------------------------------
0332   0085 FB          WSTART:	EI			; Enable INTerrupts to system
basic2.asm line 0333: Label not found: (CLREG)
basic2.asm line 0333: Unused data in MS byte of argument. (2)
0333   0086 CD 00 00    BRKRET:	CALL	CLREG		; Clear registers and stack
basic2.asm line 0334: Label not found: (PRNTOK)
basic2.asm line 0334: Unused data in MS byte of argument. (2)
0334   0089 F2 00 00    	JP	PRNTOK		; Go to get command line
0335   008C             
0336   008C             BAKSTK:	LD	HL,4		; Look for "FOR" block with
basic2.asm line 0336: Label not found: (BAKSTK)
basic2.asm line 0336: label value misalligned.           (BAKSTK)
basic2.asm line 0336: unrecognized instruction.          (BAKSTK)
0337   008C             	ADD	HL,SP		; same index as specified
basic2.asm line 0337: unrecognized argument.             (HL,SP)
0338   008C             LOKFOR:	LD	A,(HL)		; Get block ID
basic2.asm line 0338: Label not found: (LOKFOR)
basic2.asm line 0338: label value misalligned.           (LOKFOR)
basic2.asm line 0338: unrecognized instruction.          (LOKFOR)
0339   008C             	INC	HL		; Point to index address
basic2.asm line 0339: unrecognized instruction.          (INC)
0340   008C F4 81 00    	CP	ZFOR		; Is it a "FOR" token
0341   008F             	RET	NZ		; No - exit
basic2.asm line 0341: unrecognized argument.             (NZ)
0342   008F             	LD	C,(HL)		; BC = Address of "FOR" index
basic2.asm line 0342: unrecognized instruction.          (LD)
0343   008F             	INC	HL
basic2.asm line 0343: unrecognized instruction.          (INC)
0344   008F             	LD	B,(HL)
basic2.asm line 0344: unrecognized instruction.          (LD)
0345   008F             	INC	HL		; Point to sign of STEP
basic2.asm line 0345: unrecognized instruction.          (INC)
0346   008F             	PUSH	HL		; Save pointer to sign
basic2.asm line 0346: unrecognized argument.             (HL)
0347   008F             	LD	L,C		; HL = address of "FOR" index
basic2.asm line 0347: unrecognized instruction.          (LD)
0348   008F             	LD	H,B
basic2.asm line 0348: unrecognized instruction.          (LD)
0349   008F             	LD	A,D		; See if an index was specified
basic2.asm line 0349: unrecognized instruction.          (LD)
0350   008F             	OR	E		; DE = 0 if no index specified
basic2.asm line 0350: unrecognized instruction.          (OR)
0351   008F             	EX	DE,HL		; Specified index into HL
basic2.asm line 0351: unrecognized instruction.          (EX)
0352   008F             	JR	Z,INDFND		; Skip if no index given
basic2.asm line 0352: unrecognized instruction.          (JR)
0353   008F             	EX	DE,HL		; Index back into DE
basic2.asm line 0353: unrecognized instruction.          (EX)
basic2.asm line 0354: Label not found: (CPHLDE)
basic2.asm line 0354: Unused data in MS byte of argument. (2)
0354   008F CD 00 00    	CALL	CPHLDE		; Compare index with one given
0355   0092             INDFND:	LD	BC,16-3		; Offset to next block
basic2.asm line 0355: Label not found: (INDFND)
basic2.asm line 0355: label value misalligned.           (INDFND)
basic2.asm line 0355: unrecognized instruction.          (INDFND)
0356   0092             	POP	HL		; Restore pointer to sign
basic2.asm line 0356: unrecognized argument.             (HL)
0357   0092             	RET	Z		; Return if block found
basic2.asm line 0357: unrecognized argument.             (Z)
0358   0092             	ADD	HL,BC		; Point to next block
basic2.asm line 0358: unrecognized argument.             (HL,BC)
0359   0092             	JR	LOKFOR		; Keep on looking
basic2.asm line 0359: unrecognized instruction.          (JR)
0360   0092             
basic2.asm line 0361: Label not found: (ENFMEM)
basic2.asm line 0361: Unused data in MS byte of argument. (2)
0361   0092 CD 00 00    MOVUP:	CALL	ENFMEM		; See if enough memory
0362   0095             MOVSTR:	PUSH	BC		; Save end of source
basic2.asm line 0362: Label not found: (MOVSTR)
basic2.asm line 0362: label value misalligned.           (MOVSTR)
basic2.asm line 0362: unrecognized argument.             (MOVSTR)
0363   0095             	EX	(SP),HL		; Swap source and dest" end
basic2.asm line 0363: unrecognized instruction.          (EX)
0364   0095             	POP	BC		; Get end of destination
basic2.asm line 0364: unrecognized argument.             (BC)
basic2.asm line 0365: Label not found: (CPHLDE)
basic2.asm line 0365: Unused data in MS byte of argument. (2)
0365   0095 CD 00 00    MOVLP:	CALL	CPHLDE		; See if list moved
0366   0098             	LD	A,(HL)		; Get byte
basic2.asm line 0366: unrecognized instruction.          (LD)
0367   0098             	LD	(BC),A		; Move it
basic2.asm line 0367: unrecognized instruction.          (LD)
0368   0098             	RET	Z		; Exit if all done
basic2.asm line 0368: unrecognized argument.             (Z)
0369   0098             	DEC	BC		; Next byte to move to
basic2.asm line 0369: unrecognized instruction.          (DEC)
0370   0098             	DEC	HL		; Next byte to move
basic2.asm line 0370: unrecognized instruction.          (DEC)
0371   0098             	JR	MOVLP		; Loop until all bytes moved
basic2.asm line 0371: unrecognized instruction.          (JR)
0372   0098             ;------------------------------------------------------------------------------
0373   0098             ; Check variable space "stack" to see if getting near end of available space
0374   0098             ;------------------------------------------------------------------------------
0375   0098             CHKSTK:	PUSH	HL		; Save code string address
basic2.asm line 0375: Label not found: (CHKSTK)
basic2.asm line 0375: label value misalligned.           (CHKSTK)
basic2.asm line 0375: unrecognized argument.             (CHKSTK)
0376   0098             	LD	HL,(ARREND)	; Lowest free memory
basic2.asm line 0376: unrecognized instruction.          (LD)
0377   0098             	LD	B,0		; BC = Number of levels to test
basic2.asm line 0377: unrecognized instruction.          (LD)
0378   0098             	ADD	HL,BC		; 2 Bytes for each level
basic2.asm line 0378: unrecognized argument.             (HL,BC)
0379   0098             	ADD	HL,BC
basic2.asm line 0379: unrecognized argument.             (HL,BC)
0380   0098 3E          	.BYTE	$3E		; Skip "PUSH HL"
0381   0099             ;------------------------------------------------------------------------------
0382   0099             ; ENFMEM had to be completely rebuilt to properly check for mem limits
0383   0099             ;------------------------------------------------------------------------------
0384   0099             ENFMEM:	PUSH	HL		; Save code string address
basic2.asm line 0384: Label not found: (ENFMEM)
basic2.asm line 0384: label value misalligned.           (ENFMEM)
basic2.asm line 0384: unrecognized argument.             (ENFMEM)
0385   0099             	PUSH	DE		; Use to calc available space
basic2.asm line 0385: unrecognized argument.             (DE)
0386   0099             	LD	DE,48		; 48 Bytes minimum RAM
basic2.asm line 0386: unrecognized instruction.          (LD)
0387   0099             	ADD	HL,DE		; See if requested address rolls over $FFFF
basic2.asm line 0387: unrecognized argument.             (HL,DE)
0388   0099             	JR	C,OMERR		; Too high for CPU to physically address
basic2.asm line 0388: unrecognized instruction.          (JR)
0389   0099             
0390   0099             	LD	DE,(LSTRAM)	; Get physical top of RAM
basic2.asm line 0390: unrecognized instruction.          (LD)
0391   0099             	EX	DE,HL		; Swap for subtraction
basic2.asm line 0391: unrecognized instruction.          (EX)
0392   0099             	SBC	HL,DE		; Subtract RAMTOP-(code string address+50)
basic2.asm line 0392: unrecognized instruction.          (SBC)
0393   0099             	EX	DE,HL		; Swap code string back to HL
basic2.asm line 0393: unrecognized instruction.          (EX)
0394   0099             	JR	C,OMERR		; Requested address is > RAMTOP
basic2.asm line 0394: unrecognized instruction.          (JR)
0395   0099             
0396   0099             	LD	HL,$0000		; Check if SP is about to overrun limits
basic2.asm line 0396: unrecognized instruction.          (LD)
0397   0099             	ADD	HL,SP		; Move SP into HL
basic2.asm line 0397: unrecognized argument.             (HL,SP)
0398   0099             	LD	DE,RAM+4		; Nearing lowest available stack position $3000
basic2.asm line 0398: unrecognized instruction.          (LD)
0399   0099             	SBC	HL,DE		; Subtract current SP-RAM ($30xx-$3004)
basic2.asm line 0399: unrecognized instruction.          (SBC)
0400   0099             	JR	C,SOERR		; SP has overrun into BASIC variable table
basic2.asm line 0400: unrecognized instruction.          (JR)
0401   0099             	JR	Z,SOERR		; SP is right at bottom of available space
basic2.asm line 0401: unrecognized instruction.          (JR)
0402   0099             
0403   0099             	POP	DE		; If requested memory is o.k. then,
basic2.asm line 0403: unrecognized argument.             (DE)
0404   0099             	POP	HL		; Restore values and 
basic2.asm line 0404: unrecognized argument.             (HL)
0405   0099 C9          	RET			; Return to the calling program
0406   009A             ;------------------------------------------------------------------------------
0407   009A             ;------------------------------------------------------------------------------
0408   009A             ; Error Control
0409   009A             ;------------------------------------------------------------------------------
0410   009A             ;------------------------------------------------------------------------------
0411   009A             DATSNR:	LD	HL,(DATLIN)	; Get line of current DATA item
basic2.asm line 0411: Label not found: (DATSNR)
basic2.asm line 0411: label value misalligned.           (DATSNR)
basic2.asm line 0411: unrecognized instruction.          (DATSNR)
0412   009A             	LD	(LINEAT),HL	; Save as current line
basic2.asm line 0412: unrecognized instruction.          (LD)
0413   009A             SNERR:	LD	E,SN		; ?SyNtax Error
basic2.asm line 0413: Label not found: (SNERR)
basic2.asm line 0413: label value misalligned.           (SNERR)
basic2.asm line 0413: unrecognized instruction.          (SNERR)
0414   009A 01          	.BYTE	01H		; Skip "LD E,DZ" using "LD BC,(nnnn)"
0415   009B             DZERR:	LD	E,DZ		; ?/0 Error Divide by Zero
basic2.asm line 0415: Label not found: (DZERR)
basic2.asm line 0415: label value misalligned.           (DZERR)
basic2.asm line 0415: unrecognized instruction.          (DZERR)
0416   009B 01          	.BYTE	01H		; Skip "LD E,NF"
0417   009C             NFERR:	LD	E,NF		; ?Next without For Error
basic2.asm line 0417: Label not found: (NFERR)
basic2.asm line 0417: label value misalligned.           (NFERR)
basic2.asm line 0417: unrecognized instruction.          (NFERR)
0418   009C 01          	.BYTE	01H		; Skip "LD E,DD"
0419   009D             DDERR:	LD	E,DD		; ?DD Error
basic2.asm line 0419: Label not found: (DDERR)
basic2.asm line 0419: label value misalligned.           (DDERR)
basic2.asm line 0419: unrecognized instruction.          (DDERR)
0420   009D 01          	.BYTE	01H		; Skip "LD E,UF"
0421   009E             UFERR:	LD	E,UF		; ?Undefined Fn Error
basic2.asm line 0421: Label not found: (UFERR)
basic2.asm line 0421: label value misalligned.           (UFERR)
basic2.asm line 0421: unrecognized instruction.          (UFERR)
0422   009E 01          	.BYTE	01H		; Skip "LD E,OV
0423   009F             OVERR:	LD	E,OV		; ?OV Error
basic2.asm line 0423: Label not found: (OVERR)
basic2.asm line 0423: label value misalligned.           (OVERR)
basic2.asm line 0423: unrecognized instruction.          (OVERR)
0424   009F 01          	.BYTE	01H		; Skip "LD E,TM"
0425   00A0             TMERR:	LD	E,TM		; ?TM Error
basic2.asm line 0425: Label not found: (TMERR)
basic2.asm line 0425: label value misalligned.           (TMERR)
basic2.asm line 0425: unrecognized instruction.          (TMERR)
0426   00A0 01          	.BYTE	01H		; Skip "LD E,SO"
0427   00A1             SOERR:	LD	E,SO		; ?Stack Overflow
basic2.asm line 0427: Label not found: (SOERR)
basic2.asm line 0427: label value misalligned.           (SOERR)
basic2.asm line 0427: unrecognized instruction.          (SOERR)
0428   00A1 01          	.BYTE	01H		; Skip "LD E,OM"
0429   00A2             OMERR:	LD	E,OM		; Error - Out of Memory
basic2.asm line 0429: Label not found: (OMERR)
basic2.asm line 0429: label value misalligned.           (OMERR)
basic2.asm line 0429: unrecognized instruction.          (OMERR)
0430   00A2 01          	.BYTE	01H		; Skip "LE E,HX"
0431   00A3             HXERR:	LD	E,HX		; Error - Not valid HEX value
basic2.asm line 0431: Label not found: (HXERR)
basic2.asm line 0431: label value misalligned.           (HXERR)
basic2.asm line 0431: unrecognized instruction.          (HXERR)
0432   00A3             ;------------------------------------------------------------------------------	
basic2.asm line 0433: Label not found: (CLREG)
basic2.asm line 0433: Unused data in MS byte of argument. (2)
0433   00A3 CD 00 00    ERROR:	CALL	CLREG		; Clear registers and stack
0434   00A6             	LD	(CTLOFG),A	; Enable output (A is 0)
basic2.asm line 0434: unrecognized instruction.          (LD)
basic2.asm line 0435: Label not found: (STTLIN)
basic2.asm line 0435: Unused data in MS byte of argument. (2)
0435   00A6 CD 00 00    	CALL	STTLIN		; Start new line
0436   00A9             	LD	HL,ERRORS		; Point to error codes
basic2.asm line 0436: unrecognized instruction.          (LD)
0437   00A9             	LD	D,A		; D = 0 (A is 0)
basic2.asm line 0437: unrecognized instruction.          (LD)
0438   00A9             	LD	A,'?'
basic2.asm line 0438: unrecognized instruction.          (LD)
basic2.asm line 0439: Label not found: (OUTC)
basic2.asm line 0439: Unused data in MS byte of argument. (2)
0439   00A9 CD 00 00    	CALL	OUTC		; Output "?"
0440   00AC             	LD	A,$20		; <SPACE>
basic2.asm line 0440: unrecognized instruction.          (LD)
basic2.asm line 0441: Label not found: (OUTC)
basic2.asm line 0441: Unused data in MS byte of argument. (2)
0441   00AC CD 00 00    	CALL	OUTC		; Output space
0442   00AF             ERROR0:	LD	A,(HL)		; Get character in error table
basic2.asm line 0442: Label not found: (ERROR0)
basic2.asm line 0442: label value misalligned.           (ERROR0)
basic2.asm line 0442: unrecognized instruction.          (ERROR0)
basic2.asm line 0443: Label not found: (E)
basic2.asm line 0443: Unused data in MS byte of argument. (2)
0443   00AF F4 00 00    	CP	E		; Arrived at correct msg?
0444   00B2             	INC	HL		; Next location
basic2.asm line 0444: unrecognized instruction.          (INC)
0445   00B2             	JR	NZ,ERROR0		; Seek until correct msg found
basic2.asm line 0445: unrecognized instruction.          (JR)
0446   00B2 CD 2A 06    	CALL	PRS		; Output message
0447   00B5             	LD	HL,ERRMSG		; " Error" text
basic2.asm line 0447: unrecognized instruction.          (LD)
0448   00B5 CD 2A 06    ERRIN:	CALL	PRS		; Output message
0449   00B8             	LD	HL,(LINEAT)	; Get line of error
basic2.asm line 0449: unrecognized instruction.          (LD)
0450   00B8             	LD	DE,-2		; Cold start error if -2
basic2.asm line 0450: unrecognized instruction.          (LD)
basic2.asm line 0451: Label not found: (CPHLDE)
basic2.asm line 0451: Unused data in MS byte of argument. (2)
0451   00B8 CD 00 00    	CALL	CPHLDE		; See if cold start error
basic2.asm line 0452: Label not found: (Z)
basic2.asm line 0452: Unknown token: (,)
basic2.asm line 0452: Unknown token.    
basic2.asm line 0452: Label not found: (CSTART)
basic2.asm line 0452: Unused data in MS byte of argument. (2)
0452   00BB F2 00 00    	JP	Z,CSTART		; Cold start error - Restart
0453   00BE             	LD	A,H		; Was it a direct error?
basic2.asm line 0453: unrecognized instruction.          (LD)
0454   00BE             	AND	L		; Line = -1 if direct error
basic2.asm line 0454: unrecognized instruction.          (AND)
0455   00BE             	INC	A
basic2.asm line 0455: unrecognized instruction.          (INC)
basic2.asm line 0456: Label not found: (NZ)
basic2.asm line 0456: Unknown token: (,)
basic2.asm line 0456: Unknown token.    
basic2.asm line 0456: Label not found: (LINEIN)
basic2.asm line 0456: Unused data in MS byte of argument. (2)
0456   00BE CD 00 00    	CALL	NZ,LINEIN		; No - output line of error
0457   00C1 3E          	.BYTE	$3E		; Skip "POP BC"
0458   00C2             POPNOK:	POP	BC		; Drop address in input buffer
basic2.asm line 0458: Label not found: (POPNOK)
basic2.asm line 0458: label value misalligned.           (POPNOK)
basic2.asm line 0458: unrecognized argument.             (POPNOK)
0459   00C2             ;------------------------------------------------------------------------------
0460   00C2             ; READY
0461   00C2             ;------------------------------------------------------------------------------
0462   00C2             PRNTOK:	XOR	A		; Output "Ok" and get command
basic2.asm line 0462: Label not found: (PRNTOK)
basic2.asm line 0462: label value misalligned.           (PRNTOK)
basic2.asm line 0462: unrecognized instruction.          (PRNTOK)
0463   00C2             	LD	(CTLOFG),A	; Enable output
basic2.asm line 0463: unrecognized instruction.          (LD)
basic2.asm line 0464: Label not found: (STTLIN)
basic2.asm line 0464: Unused data in MS byte of argument. (2)
0464   00C2 CD 00 00    	CALL	STTLIN		; Start new line
0465   00C5             	LD	HL,OKMSG		; "Ok" message
basic2.asm line 0465: unrecognized instruction.          (LD)
0466   00C5 CD 2A 06    	CALL	PRS		; Output "Ok"
0467   00C8             GETCMD:	LD	HL,-1		; Flag direct mode
basic2.asm line 0467: Label not found: (GETCMD)
basic2.asm line 0467: label value misalligned.           (GETCMD)
basic2.asm line 0467: unrecognized instruction.          (GETCMD)
0468   00C8             	LD	(LINEAT),HL	; Save as current line
basic2.asm line 0468: unrecognized instruction.          (LD)
basic2.asm line 0469: Label not found: (TTYLIN)
basic2.asm line 0469: Unused data in MS byte of argument. (2)
0469   00C8 CD 00 00    	CALL	TTYLIN		; Get an input line
0470   00CB             	JR	C,GETCMD		; Get line again if break
basic2.asm line 0470: unrecognized instruction.          (JR)
basic2.asm line 0471: Label not found: (GETCHR)
basic2.asm line 0471: Unused data in MS byte of argument. (2)
0471   00CB CD 00 00    	CALL	GETCHR		; Get first character
0472   00CE             	INC	A		; Test if end of line
basic2.asm line 0472: unrecognized instruction.          (INC)
0473   00CE             	DEC	A		; Without affecting Carry
basic2.asm line 0473: unrecognized instruction.          (DEC)
0474   00CE             	JR	Z,GETCMD		; Nothing entered - Get another
basic2.asm line 0474: unrecognized instruction.          (JR)
0475   00CE             	PUSH	AF		; Save Carry status
basic2.asm line 0475: unrecognized argument.             (AF)
basic2.asm line 0476: Label not found: (ATOH)
basic2.asm line 0476: Unused data in MS byte of argument. (2)
0476   00CE CD 00 00    	CALL	ATOH		; Get line number into DE
0477   00D1             	PUSH	DE		; Save line number
basic2.asm line 0477: unrecognized argument.             (DE)
basic2.asm line 0478: Label not found: (CRUNCH)
basic2.asm line 0478: Unused data in MS byte of argument. (2)
0478   00D1 CD 00 00    	CALL	CRUNCH		; Tokenise rest of line
0479   00D4             	LD	B,A		; Length of tokenised line
basic2.asm line 0479: unrecognized instruction.          (LD)
0480   00D4             	POP	DE		; Restore line number
basic2.asm line 0480: unrecognized argument.             (DE)
0481   00D4             	POP	AF		; Restore Carry
basic2.asm line 0481: unrecognized argument.             (AF)
basic2.asm line 0482: Label not found: (NC)
basic2.asm line 0482: Unknown token: (,)
basic2.asm line 0482: Unknown token.    
0482   00D4 F2 03 02    	JP	NC,EXCUTE		; No line number - Direct mode
0483   00D7             	PUSH	DE		; Save line number
basic2.asm line 0483: unrecognized argument.             (DE)
0484   00D7             	PUSH	BC		; Save length of tokenised line
basic2.asm line 0484: unrecognized argument.             (BC)
0485   00D7             	XOR	A
basic2.asm line 0485: unrecognized instruction.          (XOR)
0486   00D7             	LD	(LSTBIN),A	; Clear last byte input
basic2.asm line 0486: unrecognized instruction.          (LD)
basic2.asm line 0487: Label not found: (GETCHR)
basic2.asm line 0487: Unused data in MS byte of argument. (2)
0487   00D7 CD 00 00    	CALL	GETCHR		; Get next character
0488   00DA             	OR	A		; Set flags
basic2.asm line 0488: unrecognized instruction.          (OR)
0489   00DA             	PUSH	AF		; And save them
basic2.asm line 0489: unrecognized argument.             (AF)
basic2.asm line 0490: Label not found: (SRCHLN)
basic2.asm line 0490: Unused data in MS byte of argument. (2)
0490   00DA CD 00 00    	CALL	SRCHLN		; Search for line number in DE
0491   00DD             	JR	C,LINFND		; Jump if line found
basic2.asm line 0491: unrecognized instruction.          (JR)
0492   00DD             	POP	AF		; Get status
basic2.asm line 0492: unrecognized argument.             (AF)
0493   00DD             	PUSH	AF		; And re-save
basic2.asm line 0493: unrecognized argument.             (AF)
basic2.asm line 0494: Label not found: (Z)
basic2.asm line 0494: Unknown token: (,)
basic2.asm line 0494: Unknown token.    
basic2.asm line 0494: Label not found: (ULERR)
basic2.asm line 0494: Unused data in MS byte of argument. (2)
0494   00DD F2 00 00    	JP	Z,ULERR		; Nothing after number - Error
0495   00E0             	OR	A		; Clear Carry
basic2.asm line 0495: unrecognized instruction.          (OR)
0496   00E0             LINFND:	PUSH	BC		; Save address of line in prog
basic2.asm line 0496: Label not found: (LINFND)
basic2.asm line 0496: label value misalligned.           (LINFND)
basic2.asm line 0496: unrecognized argument.             (LINFND)
0497   00E0             	JR	NC,INEWLN		; Line not found - Insert new
basic2.asm line 0497: unrecognized instruction.          (JR)
0498   00E0             	EX	DE,HL		; Next line address in DE
basic2.asm line 0498: unrecognized instruction.          (EX)
0499   00E0             	LD	HL,(PROGND)	; End of program
basic2.asm line 0499: unrecognized instruction.          (LD)
0500   00E0             SFTPRG:	LD	A,(DE)		; Shift rest of program down
basic2.asm line 0500: Label not found: (SFTPRG)
basic2.asm line 0500: label value misalligned.           (SFTPRG)
basic2.asm line 0500: unrecognized instruction.          (SFTPRG)
0501   00E0             	LD	(BC),A
basic2.asm line 0501: unrecognized instruction.          (LD)
0502   00E0             	INC	BC		; Next destination
basic2.asm line 0502: unrecognized instruction.          (INC)
0503   00E0             	INC	DE		; Next source
basic2.asm line 0503: unrecognized instruction.          (INC)
basic2.asm line 0504: Label not found: (CPHLDE)
basic2.asm line 0504: Unused data in MS byte of argument. (2)
0504   00E0 CD 00 00    	CALL	CPHLDE		; All done?
0505   00E3             	JR	NZ,SFTPRG		; More to do
basic2.asm line 0505: unrecognized instruction.          (JR)
0506   00E3             	LD	H,B		; HL - New end of program
basic2.asm line 0506: unrecognized instruction.          (LD)
0507   00E3             	LD	L,C
basic2.asm line 0507: unrecognized instruction.          (LD)
0508   00E3             	LD	(PROGND),HL	; Update end of program
basic2.asm line 0508: unrecognized instruction.          (LD)
0509   00E3             ;------------------------------------------------------------------------------
0510   00E3             ; Insert new line into BASIC program
0511   00E3             ;------------------------------------------------------------------------------
0512   00E3             INEWLN:	POP	DE		; Get address of line,
basic2.asm line 0512: Label not found: (INEWLN)
basic2.asm line 0512: label value misalligned.           (INEWLN)
basic2.asm line 0512: unrecognized argument.             (INEWLN)
0513   00E3             	POP	AF		; Get status
basic2.asm line 0513: unrecognized argument.             (AF)
0514   00E3             	JR	Z,SETPTR		; No text - Set up pointers
basic2.asm line 0514: unrecognized instruction.          (JR)
0515   00E3             	LD	HL,(PROGND)	; Get end of program
basic2.asm line 0515: unrecognized instruction.          (LD)
0516   00E3             	EX	(SP),HL		; Get length of input line
basic2.asm line 0516: unrecognized instruction.          (EX)
0517   00E3             	POP	BC		; End of program to BC
basic2.asm line 0517: unrecognized argument.             (BC)
0518   00E3             	ADD	HL,BC		; Find new end
basic2.asm line 0518: unrecognized argument.             (HL,BC)
0519   00E3             	PUSH	HL		; Save new end
basic2.asm line 0519: unrecognized argument.             (HL)
0520   00E3 CD 92 00    	CALL	MOVUP		; Make space for line
0521   00E6             	POP	HL		; Restore new end
basic2.asm line 0521: unrecognized argument.             (HL)
0522   00E6             	LD	(PROGND),HL	; Update end of program pointer
basic2.asm line 0522: unrecognized instruction.          (LD)
0523   00E6             	EX	DE,HL		; Get line to move up in HL
basic2.asm line 0523: unrecognized instruction.          (EX)
0524   00E6             	LD	(HL),H		; Save MSB
basic2.asm line 0524: unrecognized instruction.          (LD)
0525   00E6             	POP	DE		; Get new line number
basic2.asm line 0525: unrecognized argument.             (DE)
0526   00E6             	INC	HL		; Skip pointer
basic2.asm line 0526: unrecognized instruction.          (INC)
0527   00E6             	INC	HL
basic2.asm line 0527: unrecognized instruction.          (INC)
0528   00E6             	LD	(HL),E		; Save LSB of line number
basic2.asm line 0528: unrecognized instruction.          (LD)
0529   00E6             	INC	HL
basic2.asm line 0529: unrecognized instruction.          (INC)
0530   00E6             	LD	(HL),D		; Save MSB of line number
basic2.asm line 0530: unrecognized instruction.          (LD)
0531   00E6             	INC	HL		; To first byte in line
basic2.asm line 0531: unrecognized instruction.          (INC)
0532   00E6             	LD	DE,BUFFER		; Copy buffer to program
basic2.asm line 0532: unrecognized instruction.          (LD)
0533   00E6             MOVBUF:	LD	A,(DE)		; Get source
basic2.asm line 0533: Label not found: (MOVBUF)
basic2.asm line 0533: label value misalligned.           (MOVBUF)
basic2.asm line 0533: unrecognized instruction.          (MOVBUF)
0534   00E6             	LD	(HL),A		; Save destinations
basic2.asm line 0534: unrecognized instruction.          (LD)
0535   00E6             	INC	HL		; Next source
basic2.asm line 0535: unrecognized instruction.          (INC)
0536   00E6             	INC	DE		; Next destination
basic2.asm line 0536: unrecognized instruction.          (INC)
0537   00E6             	OR	A		; Done?
basic2.asm line 0537: unrecognized instruction.          (OR)
0538   00E6             	JR	NZ,MOVBUF		; No - Repeat
basic2.asm line 0538: unrecognized instruction.          (JR)
basic2.asm line 0539: Label not found: (RUNFST)
basic2.asm line 0539: Unused data in MS byte of argument. (2)
0539   00E6 CD 00 00    SETPTR:	CALL	RUNFST		; Set line pointers
0540   00E9             	INC	HL		; To LSB of pointer
basic2.asm line 0540: unrecognized instruction.          (INC)
0541   00E9             	EX	DE,HL		; Address to DE
basic2.asm line 0541: unrecognized instruction.          (EX)
0542   00E9             PTRLP:	LD	H,D		; Address to HL
basic2.asm line 0542: Label not found: (PTRLP)
basic2.asm line 0542: label value misalligned.           (PTRLP)
basic2.asm line 0542: unrecognized instruction.          (PTRLP)
0543   00E9             	LD	L,E
basic2.asm line 0543: unrecognized instruction.          (LD)
0544   00E9             	LD	A,(HL)		; Get LSB of pointer
basic2.asm line 0544: unrecognized instruction.          (LD)
0545   00E9             	INC	HL		; To MSB of pointer
basic2.asm line 0545: unrecognized instruction.          (INC)
0546   00E9             	OR	(HL)		; Compare with MSB pointer
basic2.asm line 0546: unrecognized instruction.          (OR)
basic2.asm line 0547: Label not found: (Z)
basic2.asm line 0547: Unknown token: (,)
basic2.asm line 0547: Unknown token.    
basic2.asm line 0547: Label not found: (GETCMD)
basic2.asm line 0547: Unused data in MS byte of argument. (2)
0547   00E9 F2 00 00    	JP	Z,GETCMD		; Get command line if end
0548   00EC             	INC	HL		; To LSB of line number
basic2.asm line 0548: unrecognized instruction.          (INC)
0549   00EC             	INC	HL		; Skip line number
basic2.asm line 0549: unrecognized instruction.          (INC)
0550   00EC             	INC	HL		; Point to first byte in line
basic2.asm line 0550: unrecognized instruction.          (INC)
0551   00EC             	XOR	A		; Looking for 00 byte
basic2.asm line 0551: unrecognized instruction.          (XOR)
basic2.asm line 0552: Label not found: (HL)
basic2.asm line 0552: Unused data in MS byte of argument. (2)
0552   00EC F4 00 00    FNDEND:	CP	(HL)		; Found end of line?
0553   00EF             	INC	HL		; Move to next byte
basic2.asm line 0553: unrecognized instruction.          (INC)
0554   00EF             	JR	NZ,FNDEND		; No - Keep looking
basic2.asm line 0554: unrecognized instruction.          (JR)
0555   00EF             	EX	DE,HL		; Next line address to HL
basic2.asm line 0555: unrecognized instruction.          (EX)
0556   00EF             	LD	(HL),E		; Save LSB of pointer
basic2.asm line 0556: unrecognized instruction.          (LD)
0557   00EF             	INC	HL
basic2.asm line 0557: unrecognized instruction.          (INC)
0558   00EF             	LD	(HL),D		; Save MSB of pointer
basic2.asm line 0558: unrecognized instruction.          (LD)
0559   00EF             	JR	PTRLP		; Do next line
basic2.asm line 0559: unrecognized instruction.          (JR)
0560   00EF             ;------------------------------------------------------------------------------
0561   00EF             ; Search for a particular Line Number (DE) in BASIC program text
0562   00EF             ; Z =DE line number is found, or DE is at end of program, and DE > largest no.
0563   00EF             ; NC=DE line number not found and HL has found a line with number > DE
0564   00EF             ;------------------------------------------------------------------------------
0565   00EF             SRCHLN:	LD	HL,(BASTXT)	; Start of program text
basic2.asm line 0565: Label not found: (SRCHLN)
basic2.asm line 0565: label value misalligned.           (SRCHLN)
basic2.asm line 0565: unrecognized instruction.          (SRCHLN)
0566   00EF             SRCHLP:	LD	B,H		; BC = Address to look at
basic2.asm line 0566: Label not found: (SRCHLP)
basic2.asm line 0566: label value misalligned.           (SRCHLP)
basic2.asm line 0566: unrecognized instruction.          (SRCHLP)
0567   00EF             	LD	C,L
basic2.asm line 0567: unrecognized instruction.          (LD)
0568   00EF             	LD	A,(HL)		; Get address of next line
basic2.asm line 0568: unrecognized instruction.          (LD)
0569   00EF             	INC	HL
basic2.asm line 0569: unrecognized instruction.          (INC)
0570   00EF             	OR	(HL)		; Two "00"s, End of program found?
basic2.asm line 0570: unrecognized instruction.          (OR)
0571   00EF             	DEC	HL
basic2.asm line 0571: unrecognized instruction.          (DEC)
0572   00EF             	RET	Z		; Yes - Line not found
basic2.asm line 0572: unrecognized argument.             (Z)
0573   00EF             	INC	HL
basic2.asm line 0573: unrecognized instruction.          (INC)
0574   00EF             	INC	HL
basic2.asm line 0574: unrecognized instruction.          (INC)
0575   00EF             	LD	A,(HL)		; Get LSB of line number
basic2.asm line 0575: unrecognized instruction.          (LD)
0576   00EF             	INC	HL
basic2.asm line 0576: unrecognized instruction.          (INC)
0577   00EF             	LD	H,(HL)		; Get MSB of line number
basic2.asm line 0577: unrecognized instruction.          (LD)
0578   00EF             	LD	L,A
basic2.asm line 0578: unrecognized instruction.          (LD)
basic2.asm line 0579: Label not found: (CPHLDE)
basic2.asm line 0579: Unused data in MS byte of argument. (2)
0579   00EF CD 00 00    	CALL	CPHLDE		; Compare with line in DE
0580   00F2             	LD	H,B		; HL = Start of this line
basic2.asm line 0580: unrecognized instruction.          (LD)
0581   00F2             	LD	L,C
basic2.asm line 0581: unrecognized instruction.          (LD)
0582   00F2             	LD	A,(HL)		; Get LSB of next line address
basic2.asm line 0582: unrecognized instruction.          (LD)
0583   00F2             	INC	HL
basic2.asm line 0583: unrecognized instruction.          (INC)
0584   00F2             	LD	H,(HL)		; Get MSB of next line address
basic2.asm line 0584: unrecognized instruction.          (LD)
0585   00F2             	LD	L,A		; Next line to HL
basic2.asm line 0585: unrecognized instruction.          (LD)
0586   00F2             	CCF
basic2.asm line 0586: unrecognized instruction.          (CCF)
0587   00F2             	RET	Z		; Lines found - Exit
basic2.asm line 0587: unrecognized argument.             (Z)
0588   00F2             	CCF
basic2.asm line 0588: unrecognized instruction.          (CCF)
0589   00F2             	RET	NC		; Line not found, at line after line # in DE
basic2.asm line 0589: unrecognized argument.             (NC)
0590   00F2             	JR	SRCHLP		; Keep looking
basic2.asm line 0590: unrecognized instruction.          (JR)
0591   00F2             ;------------------------------------------------------------------------------
0592   00F2             ; NEW
0593   00F2             ;------------------------------------------------------------------------------
0594   00F2             NEW:	RET	NZ		; Return if any more on line
basic2.asm line 0594: Label not found: (NEW)
basic2.asm line 0594: label value misalligned.           (NEW)
basic2.asm line 0594: unrecognized argument.             (NEW)
0595   00F2             CLRPTR:	LD	HL,(BASTXT)	; Point to start of program
basic2.asm line 0595: Label not found: (CLRPTR)
basic2.asm line 0595: label value misalligned.           (CLRPTR)
basic2.asm line 0595: unrecognized instruction.          (CLRPTR)
0596   00F2             	XOR	A		; Set program area to empty
basic2.asm line 0596: unrecognized instruction.          (XOR)
0597   00F2             	LD	(HL),A		; Save LSB = 00
basic2.asm line 0597: unrecognized instruction.          (LD)
0598   00F2             	INC	HL
basic2.asm line 0598: unrecognized instruction.          (INC)
0599   00F2             	LD	(HL),A		; Save MSB = 00
basic2.asm line 0599: unrecognized instruction.          (LD)
0600   00F2             	INC	HL
basic2.asm line 0600: unrecognized instruction.          (INC)
0601   00F2             	LD	(HL),A		; Mark end of program
basic2.asm line 0601: unrecognized instruction.          (LD)
0602   00F2             	LD	(PROGND),HL	; Set program end in variables
basic2.asm line 0602: unrecognized instruction.          (LD)
0603   00F2             
0604   00F2             RUNFST:	LD	HL,(BASTXT)	; Clear all variables
basic2.asm line 0604: Label not found: (RUNFST)
basic2.asm line 0604: label value misalligned.           (RUNFST)
basic2.asm line 0604: unrecognized instruction.          (RUNFST)
0605   00F2             	DEC	HL
basic2.asm line 0605: unrecognized instruction.          (DEC)
0606   00F2             
0607   00F2             INTVAR:	LD	(BRKLIN),HL	; Initialise RUN variables
basic2.asm line 0607: Label not found: (INTVAR)
basic2.asm line 0607: label value misalligned.           (INTVAR)
basic2.asm line 0607: unrecognized instruction.          (INTVAR)
0608   00F2             	LD	HL,(LSTRAM)	; Get end of RAM
basic2.asm line 0608: unrecognized instruction.          (LD)
0609   00F2             	LD	(STRBOT),HL	; Clear string space
basic2.asm line 0609: unrecognized instruction.          (LD)
0610   00F2             	XOR	A
basic2.asm line 0610: unrecognized instruction.          (XOR)
basic2.asm line 0611: Label not found: (RESTOR)
basic2.asm line 0611: Unused data in MS byte of argument. (2)
0611   00F2 CD 00 00    	CALL	RESTOR		; Reset DATA pointers
0612   00F5             	LD	HL,(PROGND)	; Get end of program
basic2.asm line 0612: unrecognized instruction.          (LD)
0613   00F5             	LD	(VAREND),HL	; Clear variables
basic2.asm line 0613: unrecognized instruction.          (LD)
0614   00F5             	LD	(ARREND),HL	; Clear arrays
basic2.asm line 0614: unrecognized instruction.          (LD)
0615   00F5             
0616   00F5             CLREG:	POP	BC		; Save return address
basic2.asm line 0616: Label not found: (CLREG)
basic2.asm line 0616: label value misalligned.           (CLREG)
basic2.asm line 0616: unrecognized argument.             (CLREG)
0617   00F5             	LD	SP,STACK		; Set stack
basic2.asm line 0617: unrecognized instruction.          (LD)
0618   00F5             	LD	HL,TMSTPL		; Temporary string pool
basic2.asm line 0618: unrecognized instruction.          (LD)
0619   00F5             	LD	(TMSTPT),HL	; Reset temporary string ptr
basic2.asm line 0619: unrecognized instruction.          (LD)
0620   00F5             	XOR	A		; A = 00
basic2.asm line 0620: unrecognized instruction.          (XOR)
0621   00F5             	LD	L,A		; HL = 0000
basic2.asm line 0621: unrecognized instruction.          (LD)
0622   00F5             	LD	H,A
basic2.asm line 0622: unrecognized instruction.          (LD)
0623   00F5             	LD	(CONTAD),HL	; No CONTinue
basic2.asm line 0623: unrecognized instruction.          (LD)
0624   00F5             	LD	(FORFLG),A	; Clear FOR flag
basic2.asm line 0624: unrecognized instruction.          (LD)
0625   00F5             	LD	(FNRGNM),HL	; Clear FN argument
basic2.asm line 0625: unrecognized instruction.          (LD)
0626   00F5             	PUSH	HL		; HL = 0000
basic2.asm line 0626: unrecognized argument.             (HL)
0627   00F5             	PUSH	BC		; Put back return
basic2.asm line 0627: unrecognized argument.             (BC)
0628   00F5             DOAGN:	LD	HL,(BRKLIN)	; Get address of code to RUN
basic2.asm line 0628: Label not found: (DOAGN)
basic2.asm line 0628: label value misalligned.           (DOAGN)
basic2.asm line 0628: unrecognized instruction.          (DOAGN)
0629   00F5 C9          	RET			; Return to execution driver
0630   00F6             ;------------------------------------------------------------------------------
0631   00F6             ; Prompt for input
0632   00F6             ;------------------------------------------------------------------------------
0633   00F6             PROMPT:	LD	A,'?'		; "?"
basic2.asm line 0633: Label not found: (PROMPT)
basic2.asm line 0633: label value misalligned.           (PROMPT)
basic2.asm line 0633: unrecognized instruction.          (PROMPT)
basic2.asm line 0634: Label not found: (OUTC)
basic2.asm line 0634: Unused data in MS byte of argument. (2)
0634   00F6 CD 00 00    	CALL	OUTC		; Output character
0635   00F9             	LD	A,$20		; Space
basic2.asm line 0635: unrecognized instruction.          (LD)
basic2.asm line 0636: Label not found: (OUTC)
basic2.asm line 0636: Unused data in MS byte of argument. (2)
0636   00F9 CD 00 00    	CALL	OUTC		; Output character
basic2.asm line 0637: Label not found: (TTYLIN)
basic2.asm line 0637: Unused data in MS byte of argument. (2)
0637   00FC F2 00 00    	JP	TTYLIN		; This was formerly RINPUT vector XRINPUT
0638   00FF             ;------------------------------------------------------------------------------
0639   00FF             ; CRUNCH converts and tokenizes the line of text at HL into the BUFFER at DE
0640   00FF             ; Called by GETCMD shortly after TTYLIN
0641   00FF             ;------------------------------------------------------------------------------
0642   00FF             CRUNCH:	XOR	A		; Tokenise line @ HL to BUFFER
basic2.asm line 0642: Label not found: (CRUNCH)
basic2.asm line 0642: label value misalligned.           (CRUNCH)
basic2.asm line 0642: unrecognized instruction.          (CRUNCH)
0643   00FF             	LD	(DATFLG),A	; Reset literal flag
basic2.asm line 0643: unrecognized instruction.          (LD)
0644   00FF             	LD	C,2+3		; 2 byte number and 3 nulls
basic2.asm line 0644: unrecognized instruction.          (LD)
0645   00FF             	LD	DE,BUFFER		; Start of input buffer
basic2.asm line 0645: unrecognized instruction.          (LD)
0646   00FF             CRNCLP:	LD	A,(HL)		; Get byte
basic2.asm line 0646: Label not found: (CRNCLP)
basic2.asm line 0646: label value misalligned.           (CRNCLP)
basic2.asm line 0646: unrecognized instruction.          (CRNCLP)
0647   00FF F4 20 00    	CP	$20		; Is it a space?
0648   0102             	JR	Z,MOVDIR		; Yes - Copy direct
basic2.asm line 0648: unrecognized instruction.          (JR)
0649   0102             	LD	B,A		; Save character
basic2.asm line 0649: unrecognized instruction.          (LD)
0650   0102 F4 22 00    	CP	$22		; Is it a quote?
basic2.asm line 0651: Label not found: (Z)
basic2.asm line 0651: Unknown token: (,)
basic2.asm line 0651: Unknown token.    
basic2.asm line 0651: Label not found: (CPYLIT)
basic2.asm line 0651: Unused data in MS byte of argument. (2)
0651   0105 F2 00 00    	JP	Z,CPYLIT		; Yes - Copy literal string
0652   0108             	OR	A		; Is it end of buffer?
basic2.asm line 0652: unrecognized instruction.          (OR)
basic2.asm line 0653: Label not found: (Z)
basic2.asm line 0653: Unknown token: (,)
basic2.asm line 0653: Unknown token.    
basic2.asm line 0653: Label not found: (ENDBUF)
basic2.asm line 0653: Unused data in MS byte of argument. (2)
0653   0108 F2 00 00    	JP	Z,ENDBUF		; Yes - End buffer
0654   010B             	LD	A,(DATFLG)	; Get data type
basic2.asm line 0654: unrecognized instruction.          (LD)
0655   010B             	OR	A		; Literal?
basic2.asm line 0655: unrecognized instruction.          (OR)
0656   010B             	LD	A,(HL)		; Get byte to copy
basic2.asm line 0656: unrecognized instruction.          (LD)
0657   010B             	JR	NZ,MOVDIR		; Literal - Copy direct
basic2.asm line 0657: unrecognized instruction.          (JR)
0658   010B F4 3F 00    	CP	'?'		; Is it "?" short for PRINT
0659   010E             	LD	A,ZPRINT		; "PRINT" token
basic2.asm line 0659: unrecognized instruction.          (LD)
0660   010E             	JR	Z,MOVDIR		; Yes - replace it
basic2.asm line 0660: unrecognized instruction.          (JR)
0661   010E             	LD	A,(HL)		; Get byte again
basic2.asm line 0661: unrecognized instruction.          (LD)
0662   010E F4 30 00    	CP	'0'		; Is it less than "0"
0663   0111             	JR	C,FNDWRD		; Yes - Look for reserved words
basic2.asm line 0663: unrecognized instruction.          (JR)
0664   0111 F4 3C 00    	CP	$3C		; Is it "0123456789:;" ?
0665   0114             	JR	C,MOVDIR		; Yes - copy it direct
basic2.asm line 0665: unrecognized instruction.          (JR)
0666   0114             FNDWRD:	PUSH	DE		; Look for reserved words
basic2.asm line 0666: Label not found: (FNDWRD)
basic2.asm line 0666: label value misalligned.           (FNDWRD)
basic2.asm line 0666: unrecognized argument.             (FNDWRD)
0667   0114             	LD	DE,WORDS-1	; Point to WORDS table
basic2.asm line 0667: unrecognized instruction.          (LD)
0668   0114             	PUSH	BC		; Save count
basic2.asm line 0668: unrecognized argument.             (BC)
0669   0114             	LD	BC,RETNAD		; Where to return to
basic2.asm line 0669: unrecognized instruction.          (LD)
0670   0114             	PUSH	BC		; Save return address
basic2.asm line 0670: unrecognized argument.             (BC)
0671   0114             	LD	B,ZEND-1		; First token value -1
basic2.asm line 0671: unrecognized instruction.          (LD)
0672   0114             	LD	A,(HL)		; Get byte
basic2.asm line 0672: unrecognized instruction.          (LD)
0673   0114 F4 61 00    	CP	'a'		; Less than "a" ?
0674   0117             	JR	C,SEARCH		; Yes - search for words
basic2.asm line 0674: unrecognized instruction.          (JR)
0675   0117 F4 7B 00    	CP	'z'+1		; Greater than "z" ?
0676   011A             	JR	NC,SEARCH		; Yes - search for words
basic2.asm line 0676: unrecognized instruction.          (JR)
0677   011A             	AND	01011111B		; Force upper case
basic2.asm line 0677: unrecognized instruction.          (AND)
0678   011A             	LD	(HL),A		; Replace byte
basic2.asm line 0678: unrecognized instruction.          (LD)
0679   011A             SEARCH:	LD	C,(HL)		; Search for a word
basic2.asm line 0679: Label not found: (SEARCH)
basic2.asm line 0679: label value misalligned.           (SEARCH)
basic2.asm line 0679: unrecognized instruction.          (SEARCH)
0680   011A             	EX	DE,HL
basic2.asm line 0680: unrecognized instruction.          (EX)
0681   011A             GETNXT:	INC	HL		; Get next reserved word
basic2.asm line 0681: Label not found: (GETNXT)
basic2.asm line 0681: label value misalligned.           (GETNXT)
basic2.asm line 0681: unrecognized instruction.          (GETNXT)
0682   011A             	OR	(HL)		; Start of word?
basic2.asm line 0682: unrecognized instruction.          (OR)
basic2.asm line 0683: Label not found: (P)
basic2.asm line 0683: Unknown token: (,)
basic2.asm line 0683: Unknown token.    
basic2.asm line 0683: Label not found: (GETNXT)
basic2.asm line 0683: Unused data in MS byte of argument. (2)
0683   011A F2 00 00    	JP	P,GETNXT		; D7? No - move on
0684   011D             	INC	B		; Increment token value
basic2.asm line 0684: unrecognized instruction.          (INC)
0685   011D             	LD	A,(HL)		; Get byte from table
basic2.asm line 0685: unrecognized instruction.          (LD)
0686   011D             	AND	01111111B		; Strip bit 7
basic2.asm line 0686: unrecognized instruction.          (AND)
0687   011D             	RET	Z		; Return if end of list
basic2.asm line 0687: unrecognized argument.             (Z)
basic2.asm line 0688: Label not found: (C)
basic2.asm line 0688: Unused data in MS byte of argument. (2)
0688   011D F4 00 00    	CP	C		; Same character as in buffer?
0689   0120             	JR	NZ,GETNXT		; No - get next word
basic2.asm line 0689: unrecognized instruction.          (JR)
0690   0120             	EX	DE,HL
basic2.asm line 0690: unrecognized instruction.          (EX)
0691   0120             	PUSH	HL		; Save start of word
basic2.asm line 0691: unrecognized argument.             (HL)
0692   0120             
0693   0120             NXTBYT:	INC	DE		; Look through rest of word
basic2.asm line 0693: Label not found: (NXTBYT)
basic2.asm line 0693: label value misalligned.           (NXTBYT)
basic2.asm line 0693: unrecognized instruction.          (NXTBYT)
0694   0120             	LD	A,(DE)		; Get byte from table
basic2.asm line 0694: unrecognized instruction.          (LD)
0695   0120             	OR	A		; End of word ?
basic2.asm line 0695: unrecognized instruction.          (OR)
basic2.asm line 0696: Label not found: (M)
basic2.asm line 0696: Unknown token: (,)
basic2.asm line 0696: Unknown token.    
basic2.asm line 0696: Label not found: (MATCH)
basic2.asm line 0696: Unused data in MS byte of argument. (2)
0696   0120 F2 00 00    	JP	M,MATCH		; Yes - Match found
0697   0123             	LD	C,A		; Save it
basic2.asm line 0697: unrecognized instruction.          (LD)
0698   0123             	LD	A,B		; Get token value
basic2.asm line 0698: unrecognized instruction.          (LD)
0699   0123 F4 88 00    	CP	ZGOTO		; Is it "GOTO" token ?
0700   0126             	JR	NZ,NOSPC		; No - Don't allow spaces
basic2.asm line 0700: unrecognized instruction.          (JR)
basic2.asm line 0701: Label not found: (GETCHR)
basic2.asm line 0701: Unused data in MS byte of argument. (2)
0701   0126 CD 00 00    	CALL	GETCHR		; Get next character
0702   0129             	DEC	HL		; Cancel increment from GETCHR
basic2.asm line 0702: unrecognized instruction.          (DEC)
0703   0129             NOSPC:	INC	HL		; Next byte
basic2.asm line 0703: Label not found: (NOSPC)
basic2.asm line 0703: label value misalligned.           (NOSPC)
basic2.asm line 0703: unrecognized instruction.          (NOSPC)
0704   0129             	LD	A,(HL)		; Get byte
basic2.asm line 0704: unrecognized instruction.          (LD)
0705   0129 F4 61 00    	CP	'a'		; Less than "a" ?
0706   012C             	JR	C,NOCHNG		; Yes - don't change
basic2.asm line 0706: unrecognized instruction.          (JR)
0707   012C             	AND	01011111B		; Make upper case
basic2.asm line 0707: unrecognized instruction.          (AND)
basic2.asm line 0708: Label not found: (C)
basic2.asm line 0708: Unused data in MS byte of argument. (2)
0708   012C F4 00 00    NOCHNG:	CP	C		; Same as in buffer ?
0709   012F             	JR	Z,NXTBYT		; Yes - keep testing
basic2.asm line 0709: unrecognized instruction.          (JR)
0710   012F             	POP	HL		; Get back start of word
basic2.asm line 0710: unrecognized argument.             (HL)
0711   012F             	JR	SEARCH		; Look at next word
basic2.asm line 0711: unrecognized instruction.          (JR)
0712   012F             
0713   012F             MATCH:	LD	C,B		; Word found - Save token value
basic2.asm line 0713: Label not found: (MATCH)
basic2.asm line 0713: label value misalligned.           (MATCH)
basic2.asm line 0713: unrecognized instruction.          (MATCH)
0714   012F             	POP	AF		; Throw away return
basic2.asm line 0714: unrecognized argument.             (AF)
0715   012F             	EX	DE,HL
basic2.asm line 0715: unrecognized instruction.          (EX)
0716   012F C9          	RET			; Return to "RETNAD"
0717   0130             RETNAD:	EX	DE,HL		; Get address in string
basic2.asm line 0717: Label not found: (RETNAD)
basic2.asm line 0717: label value misalligned.           (RETNAD)
basic2.asm line 0717: unrecognized instruction.          (RETNAD)
0718   0130             	LD	A,C		; Get token value
basic2.asm line 0718: unrecognized instruction.          (LD)
0719   0130             	POP	BC		; Restore buffer length
basic2.asm line 0719: unrecognized argument.             (BC)
0720   0130             	POP	DE		; Get destination address
basic2.asm line 0720: unrecognized argument.             (DE)
0721   0130             MOVDIR:	INC	HL		; Next source in buffer
basic2.asm line 0721: Label not found: (MOVDIR)
basic2.asm line 0721: label value misalligned.           (MOVDIR)
basic2.asm line 0721: unrecognized instruction.          (MOVDIR)
0722   0130             	LD	(DE),A		; Put byte in buffer
basic2.asm line 0722: unrecognized instruction.          (LD)
0723   0130             	INC	DE		; Move up buffer
basic2.asm line 0723: unrecognized instruction.          (INC)
0724   0130             	INC	C		; Increment length of buffer
basic2.asm line 0724: unrecognized instruction.          (INC)
0725   0130             	SUB	$3A		; End of statement ":" ?
basic2.asm line 0725: unrecognized argument.             ($3A)
0726   0130             	JR	Z,SETLIT		; Jump if multi-statement line
basic2.asm line 0726: unrecognized instruction.          (JR)
0727   0130 F4 49 00    	CP	ZDATA-3AH		; Is it DATA statement ?
0728   0133             	JR	NZ,TSTREM		; No - see if REM
basic2.asm line 0728: unrecognized instruction.          (JR)
0729   0133             SETLIT:	LD	(DATFLG),A	; Set literal flag
basic2.asm line 0729: Label not found: (SETLIT)
basic2.asm line 0729: label value misalligned.           (SETLIT)
basic2.asm line 0729: unrecognized instruction.          (SETLIT)
0730   0133             TSTREM:	SUB	ZREM-3AH		; Is it REM?
basic2.asm line 0730: Label not found: (TSTREM)
basic2.asm line 0730: label value misalligned.           (TSTREM)
basic2.asm line 0730: unrecognized argument.             (TSTREM)
basic2.asm line 0731: Label not found: (NZ)
basic2.asm line 0731: Unknown token: (,)
basic2.asm line 0731: Unknown token.    
basic2.asm line 0731: Label not found: (CRNCLP)
basic2.asm line 0731: Unused data in MS byte of argument. (2)
0731   0133 F2 00 00    	JP	NZ,CRNCLP		; No - Leave flag
0732   0136             	LD	B,A		; Copy rest of buffer
basic2.asm line 0732: unrecognized instruction.          (LD)
0733   0136             NXTCHR:	LD	A,(HL)		; Get byte
basic2.asm line 0733: Label not found: (NXTCHR)
basic2.asm line 0733: label value misalligned.           (NXTCHR)
basic2.asm line 0733: unrecognized instruction.          (NXTCHR)
0734   0136             	OR	A		; End of line ?
basic2.asm line 0734: unrecognized instruction.          (OR)
0735   0136             	JR	Z,ENDBUF		; Yes - Terminate buffer
basic2.asm line 0735: unrecognized instruction.          (JR)
basic2.asm line 0736: Label not found: (B)
basic2.asm line 0736: Unused data in MS byte of argument. (2)
0736   0136 F4 00 00    	CP	B		; End of statement ?
0737   0139             	JR	Z,MOVDIR		; Yes - Get next one
basic2.asm line 0737: unrecognized instruction.          (JR)
0738   0139             CPYLIT:	INC	HL		; Move up source string
basic2.asm line 0738: Label not found: (CPYLIT)
basic2.asm line 0738: label value misalligned.           (CPYLIT)
basic2.asm line 0738: unrecognized instruction.          (CPYLIT)
0739   0139             	LD	(DE),A		; Save in destination
basic2.asm line 0739: unrecognized instruction.          (LD)
0740   0139             	INC	C		; Increment length
basic2.asm line 0740: unrecognized instruction.          (INC)
0741   0139             	INC	DE		; Move up destination
basic2.asm line 0741: unrecognized instruction.          (INC)
0742   0139             	JR	NXTCHR		; Repeat
basic2.asm line 0742: unrecognized instruction.          (JR)
0743   0139             
0744   0139             ENDBUF:	LD	HL,BUFFER-1	; Point to start of buffer
basic2.asm line 0744: Label not found: (ENDBUF)
basic2.asm line 0744: label value misalligned.           (ENDBUF)
basic2.asm line 0744: unrecognized instruction.          (ENDBUF)
0745   0139             	LD	(DE),A		; Mark end of buffer (A = 00)
basic2.asm line 0745: unrecognized instruction.          (LD)
0746   0139             	INC	DE
basic2.asm line 0746: unrecognized instruction.          (INC)
0747   0139             	LD	(DE),A		; A = 00
basic2.asm line 0747: unrecognized instruction.          (LD)
0748   0139             	INC	DE
basic2.asm line 0748: unrecognized instruction.          (INC)
0749   0139             	LD	(DE),A		; A = 00
basic2.asm line 0749: unrecognized instruction.          (LD)
0750   0139 C9          	RET
0751   013A             
0752   013A             DODEL:	LD	A,(NULFLG)	; Get null flag status
basic2.asm line 0752: Label not found: (DODEL)
basic2.asm line 0752: label value misalligned.           (DODEL)
basic2.asm line 0752: unrecognized instruction.          (DODEL)
0753   013A             	OR	A		; Is it zero?
basic2.asm line 0753: unrecognized instruction.          (OR)
0754   013A             	LD	A,0		; Zero A - Leave flags
basic2.asm line 0754: unrecognized instruction.          (LD)
0755   013A             	LD	(NULFLG),A	; Zero null flag
basic2.asm line 0755: unrecognized instruction.          (LD)
0756   013A             	JR	NZ,ECHDEL		; Set - Echo it
basic2.asm line 0756: unrecognized instruction.          (JR)
0757   013A             	DEC	B		; Decrement length
basic2.asm line 0757: unrecognized instruction.          (DEC)
0758   013A             	JR	Z,TTYLIN		; Get line again if empty
basic2.asm line 0758: unrecognized instruction.          (JR)
basic2.asm line 0759: Label not found: (OUTC)
basic2.asm line 0759: Unused data in MS byte of argument. (2)
0759   013A CD 00 00    	CALL	OUTC		; Output null character
0760   013D 3E          	.BYTE	$3E		; Skip "DEC B"
0761   013E             ECHDEL:	DEC	B		; Count bytes in buffer
basic2.asm line 0761: Label not found: (ECHDEL)
basic2.asm line 0761: label value misalligned.           (ECHDEL)
basic2.asm line 0761: unrecognized instruction.          (ECHDEL)
0762   013E             	DEC	HL		; Back space buffer
basic2.asm line 0762: unrecognized instruction.          (DEC)
0763   013E             	JR	Z,OTKLN		; No buffer - Try again
basic2.asm line 0763: unrecognized instruction.          (JR)
0764   013E             	LD	A,(HL)		; Get deleted byte
basic2.asm line 0764: unrecognized instruction.          (LD)
basic2.asm line 0765: Label not found: (OUTC)
basic2.asm line 0765: Unused data in MS byte of argument. (2)
0765   013E CD 00 00    	CALL	OUTC		; Echo it
0766   0141             	JR	MORINP		; Get more input
basic2.asm line 0766: unrecognized instruction.          (JR)
0767   0141             
0768   0141             DELCHR:	DEC	B		; Count bytes in buffer
basic2.asm line 0768: Label not found: (DELCHR)
basic2.asm line 0768: label value misalligned.           (DELCHR)
basic2.asm line 0768: unrecognized instruction.          (DELCHR)
0769   0141             	DEC	HL		; Back space buffer
basic2.asm line 0769: unrecognized instruction.          (DEC)
basic2.asm line 0770: Label not found: (OUTC)
basic2.asm line 0770: Unused data in MS byte of argument. (2)
0770   0141 CD 00 00    	CALL	OUTC		; Output character in A
0771   0144             	JR	NZ,MORINP		; Not end - Get more
basic2.asm line 0771: unrecognized instruction.          (JR)
basic2.asm line 0772: Label not found: (OUTC)
basic2.asm line 0772: Unused data in MS byte of argument. (2)
0772   0144 CD 00 00    OTKLN:	CALL	OUTC		; Output character in A
basic2.asm line 0773: Label not found: (PRNTCR)
basic2.asm line 0773: Unused data in MS byte of argument. (2)
0773   0147 CD 00 00    KILIN:	CALL	PRNTCR		; Output CRLF
0774   014A             ;------------------------------------------------------------------------------
0775   014A             ; Get a line from TTY into INBUFF, located in register HL
0776   014A             ;	This code was changed to stop overlapping in BUFFER during CRUNCH
0777   014A             ;------------------------------------------------------------------------------
0778   014A             TTYLIN	LD	HL,INBUFF		; Get a line by character
basic2.asm line 0778: Label not found: (TTYLIN)
basic2.asm line 0778: label value misalligned.           (TTYLIN)
basic2.asm line 0778: unrecognized instruction.          (TTYLIN)
0779   014A             	LD	B,1		; Set buffer as empty
basic2.asm line 0779: unrecognized instruction.          (LD)
0780   014A             	XOR	A
basic2.asm line 0780: unrecognized instruction.          (XOR)
0781   014A             	LD	(NULFLG),A	; Clear null flag
basic2.asm line 0781: unrecognized instruction.          (LD)
basic2.asm line 0782: Label not found: (CLOTST)
basic2.asm line 0782: Unused data in MS byte of argument. (2)
0782   014A CD 00 00    MORINP	CALL	CLOTST		; Get character and test <CTRL-O>
0783   014D             	LD	C,A		; Save character in C
basic2.asm line 0783: unrecognized instruction.          (LD)
0784   014D F4 7F 00    	CP	DEL		; Delete character?
0785   0150             	JR	Z,DODEL		; Yes - Process it
basic2.asm line 0785: unrecognized instruction.          (JR)
0786   0150             	LD	A,(NULFLG)	; Get null flag
basic2.asm line 0786: unrecognized instruction.          (LD)
0787   0150             	OR	A		; Test null flag status
basic2.asm line 0787: unrecognized instruction.          (OR)
0788   0150             	JR	Z,PROCES		; Reset - Process character
basic2.asm line 0788: unrecognized instruction.          (JR)
0789   0150             	LD	A,0		; Set a null
basic2.asm line 0789: unrecognized instruction.          (LD)
basic2.asm line 0790: Label not found: (OUTC)
basic2.asm line 0790: Unused data in MS byte of argument. (2)
0790   0150 CD 00 00    	CALL	OUTC		; Output null
0791   0153             	XOR	A		; Clear A
basic2.asm line 0791: unrecognized instruction.          (XOR)
0792   0153             	LD	(NULFLG),A	; Reset null flag
basic2.asm line 0792: unrecognized instruction.          (LD)
0793   0153             PROCES:	LD	A,C		; Get character
basic2.asm line 0793: Label not found: (PROCES)
basic2.asm line 0793: label value misalligned.           (PROCES)
basic2.asm line 0793: unrecognized instruction.          (PROCES)
0794   0153 F4 07 00    	CP	CTRLG		; <CTRL-G> Bell?
0795   0156             	JR	Z,PUTCTL		; Yes - Save it
basic2.asm line 0795: unrecognized instruction.          (JR)
0796   0156 F4 03 00    	CP	CTRLC		; Is it <CTRL-C> (BREAK)?
basic2.asm line 0797: Label not found: (Z)
basic2.asm line 0797: Unknown token: (,)
basic2.asm line 0797: Unknown token.    
basic2.asm line 0797: Label not found: (PRNTCR)
basic2.asm line 0797: Unused data in MS byte of argument. (2)
0797   0159 CD 00 00    	CALL	Z,PRNTCR		; Yes - Output CRLF
0798   015C             	SCF			; Flag break
basic2.asm line 0798: unrecognized instruction.          (SCF)
0799   015C             	RET	Z		; Return if <CTRL-C>
basic2.asm line 0799: unrecognized argument.             (Z)
0800   015C F4 0D 00    	CP	CR		; Is it <Enter> key?
basic2.asm line 0801: Label not found: (Z)
basic2.asm line 0801: Unknown token: (,)
basic2.asm line 0801: Unknown token.    
basic2.asm line 0801: Label not found: (TENDIN)
basic2.asm line 0801: Unused data in MS byte of argument. (2)
0801   015F F2 00 00    	JP	Z,TENDIN		; Yes - Terminate input
0802   0162 F4 15 00    	CP	CTRLU		; Is it <CTRL-U>?
0803   0165             	JR	Z,KILIN		; Yes - Get another line
basic2.asm line 0803: unrecognized instruction.          (JR)
0804   0165 F4 40 00    	CP	'@'		; Is it "@" <Kill line>?
0805   0168             	JR	Z,OTKLN		; Yes - Kill line
basic2.asm line 0805: unrecognized instruction.          (JR)
0806   0168 F4 08 00    	CP	BKSP		; Is it <Backspace>?
0807   016B             	JR	Z,DELCHR		; Yes - Delete character
basic2.asm line 0807: unrecognized instruction.          (JR)
0808   016B F4 12 00    	CP	CTRLR		; Is it <CTRL-R>?
0809   016E             	JR	NZ,PUTBUF		; No - Put in buffer
basic2.asm line 0809: unrecognized instruction.          (JR)
0810   016E             	PUSH	BC		; Save buffer length
basic2.asm line 0810: unrecognized argument.             (BC)
0811   016E             	PUSH	DE		; Save DE
basic2.asm line 0811: unrecognized argument.             (DE)
0812   016E             	PUSH	HL		; Save buffer address
basic2.asm line 0812: unrecognized argument.             (HL)
0813   016E             	LD	(HL),0		; Mark end of buffer
basic2.asm line 0813: unrecognized instruction.          (LD)
basic2.asm line 0814: Label not found: (OUTC)
basic2.asm line 0814: Unused data in MS byte of argument. (2)
0814   016E CD 00 00    	CALL	OUTC		; OUTPUT THE CHARACTER
basic2.asm line 0815: Label not found: (PRNTCR)
basic2.asm line 0815: Unused data in MS byte of argument. (2)
0815   0171 CD 00 00    	CALL	PRNTCR		; PRINT CR,LF
0816   0174             	LD	HL,INBUFF		; Point to buffer start
basic2.asm line 0816: unrecognized instruction.          (LD)
0817   0174 CD 2A 06    	CALL	PRS		; Output buffer
0818   0177             	POP	HL		; Restore buffer address
basic2.asm line 0818: unrecognized argument.             (HL)
0819   0177             	POP	DE		; Restore DE
basic2.asm line 0819: unrecognized argument.             (DE)
0820   0177             	POP	BC		; Restore buffer length
basic2.asm line 0820: unrecognized argument.             (BC)
0821   0177             	JR	MORINP		; Get another character
basic2.asm line 0821: unrecognized instruction.          (JR)
0822   0177             TENDIN	LD	(HL),0		; Terminate buffer end
basic2.asm line 0822: Label not found: (TENDIN)
basic2.asm line 0822: label value misalligned.           (TENDIN)
basic2.asm line 0822: unrecognized instruction.          (TENDIN)
0823   0177             	LD	HL,INBUFF-1	; Reset pointer
basic2.asm line 0823: unrecognized instruction.          (LD)
basic2.asm line 0824: Label not found: (PRNTCR)
basic2.asm line 0824: Unused data in MS byte of argument. (2)
0824   0177 F2 00 00    	JP	PRNTCR		; Print CRLF and do nulls, RETurn	
0825   017A             ;------------------------------------------------------------------------------
0826   017A             ; BUFFER
0827   017A             ;------------------------------------------------------------------------------
0828   017A F4 20 00    PUTBUF:	CP	$20		; Is it a control code?
0829   017D             	JR	C,MORINP		; Yes - Ignore
basic2.asm line 0829: unrecognized instruction.          (JR)
0830   017D             PUTCTL:	LD	A,B		; Get number of bytes in buffer
basic2.asm line 0830: Label not found: (PUTCTL)
basic2.asm line 0830: label value misalligned.           (PUTCTL)
basic2.asm line 0830: unrecognized instruction.          (PUTCTL)
0831   017D F4 51 00    	CP	81		; Test for line overflow
0832   0180             	LD	A,CTRLG		; Set a bell
basic2.asm line 0832: unrecognized instruction.          (LD)
0833   0180             	JR	NC,OUTNBS		; Ring bell if buffer full
basic2.asm line 0833: unrecognized instruction.          (JR)
0834   0180             	LD	A,C		; Get character
basic2.asm line 0834: unrecognized instruction.          (LD)
0835   0180             	LD	(HL),C		; Save in buffer
basic2.asm line 0835: unrecognized instruction.          (LD)
0836   0180             	LD	(LSTBIN),A	; Save last input byte
basic2.asm line 0836: unrecognized instruction.          (LD)
0837   0180             	INC	HL		; Move up buffer
basic2.asm line 0837: unrecognized instruction.          (INC)
0838   0180             	INC	B		; Increment length
basic2.asm line 0838: unrecognized instruction.          (INC)
basic2.asm line 0839: Label not found: (OUTC)
basic2.asm line 0839: Unused data in MS byte of argument. (2)
0839   0180 CD 00 00    OUTIT:	CALL	OUTC		; Output the character entered
0840   0183             	JR	MORINP		; Get another character
basic2.asm line 0840: unrecognized instruction.          (JR)
0841   0183             
basic2.asm line 0842: Label not found: (OUTC)
basic2.asm line 0842: Unused data in MS byte of argument. (2)
0842   0183 CD 00 00    OUTNBS:	CALL	OUTC		; Output bell and back over it
0843   0186             	LD	A,BKSP		; Set back space
basic2.asm line 0843: unrecognized instruction.          (LD)
0844   0186             	JR	OUTIT		; Output it and get more
basic2.asm line 0844: unrecognized instruction.          (JR)
0845   0186             ;------------------------------------------------------------------------------
0846   0186             CPHLDE:	LD	A,H		; Get H
basic2.asm line 0846: Label not found: (CPHLDE)
basic2.asm line 0846: label value misalligned.           (CPHLDE)
basic2.asm line 0846: unrecognized instruction.          (CPHLDE)
0847   0186 92          	SUB	D		; Compare with D
0848   0187             	RET	NZ		; Different - Exit
basic2.asm line 0848: unrecognized argument.             (NZ)
0849   0187             	LD	A,L		; Get L
basic2.asm line 0849: unrecognized instruction.          (LD)
0850   0187 93          	SUB	E		; Compare with E
0851   0188 C9          	RET			; Return status
0852   0189             ;------------------------------------------------------------------------------
0853   0189             CHKSYN:	LD	A,(HL)		; Check syntax of character
basic2.asm line 0853: Label not found: (CHKSYN)
basic2.asm line 0853: label value misalligned.           (CHKSYN)
basic2.asm line 0853: unrecognized instruction.          (CHKSYN)
0854   0189             	EX	(SP),HL		; Address of test byte
basic2.asm line 0854: unrecognized instruction.          (EX)
basic2.asm line 0855: Label not found: (HL)
basic2.asm line 0855: Unused data in MS byte of argument. (2)
0855   0189 F4 00 00    	CP	(HL)		; Same as in code string?
0856   018C             	INC	HL		; Return address
basic2.asm line 0856: unrecognized instruction.          (INC)
0857   018C             	EX	(SP),HL		; Put it back
basic2.asm line 0857: unrecognized instruction.          (EX)
basic2.asm line 0858: Label not found: (Z)
basic2.asm line 0858: Unknown token: (,)
basic2.asm line 0858: Unknown token.    
basic2.asm line 0858: Label not found: (GETCHR)
basic2.asm line 0858: Unused data in MS byte of argument. (2)
0858   018C F2 00 00    	JP	Z,GETCHR		; Yes - Get next character
basic2.asm line 0859: Label not found: (SNERR)
basic2.asm line 0859: Unused data in MS byte of argument. (2)
0859   018F F2 00 00    	JP	SNERR		; Different - ?SN Error
0860   0192             ;------------------------------------------------------------------------------
0861   0192             ; LIST Command
0862   0192             ;------------------------------------------------------------------------------
basic2.asm line 0863: Label not found: (ATOH)
basic2.asm line 0863: Unused data in MS byte of argument. (2)
0863   0192 CD 00 00    LIST:	CALL	ATOH		; ASCII number to DE
0864   0195             	RET	NZ		; Return if anything extra
basic2.asm line 0864: unrecognized argument.             (NZ)
0865   0195             	POP	BC		; Rubbish - Not needed
basic2.asm line 0865: unrecognized argument.             (BC)
basic2.asm line 0866: Label not found: (SRCHLN)
basic2.asm line 0866: Unused data in MS byte of argument. (2)
0866   0195 CD 00 00    	CALL	SRCHLN		; Search for line number in DE
0867   0198             	PUSH	BC		; Save address of line
basic2.asm line 0867: unrecognized argument.             (BC)
basic2.asm line 0868: Label not found: (SETLIN)
basic2.asm line 0868: Unused data in MS byte of argument. (2)
0868   0198 CD 00 00    	CALL	SETLIN		; Set up lines counter
0869   019B             LISTLP:	POP	HL		; Restore address of line
basic2.asm line 0869: Label not found: (LISTLP)
basic2.asm line 0869: label value misalligned.           (LISTLP)
basic2.asm line 0869: unrecognized argument.             (LISTLP)
0870   019B             	LD	C,(HL)		; Get LSB of next line
basic2.asm line 0870: unrecognized instruction.          (LD)
0871   019B             	INC	HL
basic2.asm line 0871: unrecognized instruction.          (INC)
0872   019B             	LD	B,(HL)		; Get MSB of next line
basic2.asm line 0872: unrecognized instruction.          (LD)
0873   019B             	INC	HL
basic2.asm line 0873: unrecognized instruction.          (INC)
0874   019B             	LD	A,B		; BC = 0 (End of program)?
basic2.asm line 0874: unrecognized instruction.          (LD)
0875   019B             	OR	C
basic2.asm line 0875: unrecognized instruction.          (OR)
basic2.asm line 0876: Label not found: (Z)
basic2.asm line 0876: Unknown token: (,)
basic2.asm line 0876: Unknown token.    
basic2.asm line 0876: Label not found: (PRNTOK)
basic2.asm line 0876: Unused data in MS byte of argument. (2)
0876   019B F2 00 00    	JP	Z,PRNTOK		; Yes - Go to command mode
basic2.asm line 0877: Label not found: (COUNT)
basic2.asm line 0877: Unused data in MS byte of argument. (2)
0877   019E CD 00 00    	CALL	COUNT		; Count lines <deleted TSTBRK from next line>
0878   01A1             
basic2.asm line 0879: Label not found: (CKSIOA)
basic2.asm line 0879: Unused data in MS byte of argument. (2)
0879   01A1 CD 00 00    	CALL	CKSIOA		; Ck SIO status
0880   01A4             	JR	NC,LIST0		; No key, continue
basic2.asm line 0880: unrecognized instruction.          (JR)
0881   01A4             	RST	10H		; Get the key into A
basic2.asm line 0881: unrecognized argument.             (10H)
0882   01A4 F4 1B 00    	CP	ESC		; Escape key?
0883   01A7             	JR	Z,RSLNBK		; Yes, break
basic2.asm line 0883: unrecognized instruction.          (JR)
0884   01A7 F4 03 00    	CP	CTRLC		; <Ctrl-C>
0885   01AA             	JR	Z,RSLNBK		; Yes, break
basic2.asm line 0885: unrecognized instruction.          (JR)
0886   01AA F4 13 00    	CP	CTRLS		; Stop scrolling?	
basic2.asm line 0887: Label not found: (Z)
basic2.asm line 0887: Unknown token: (,)
basic2.asm line 0887: Unknown token.    
basic2.asm line 0887: Label not found: (STALL)
basic2.asm line 0887: Unused data in MS byte of argument. (2)
0887   01AD CD 00 00    	CALL	Z,STALL		; Stall, or continue if no stall
0888   01B0             
0889   01B0             LIST0	PUSH	BC		; Save address of next line
basic2.asm line 0889: Label not found: (LIST0)
basic2.asm line 0889: label value misalligned.           (LIST0)
basic2.asm line 0889: unrecognized argument.             (LIST0)
basic2.asm line 0890: Label not found: (PRNTCR)
basic2.asm line 0890: Unused data in MS byte of argument. (2)
0890   01B0 CD 00 00    	CALL	PRNTCR		; Output CRLF
0891   01B3             	LD	E,(HL)		; Get LSB of line number
basic2.asm line 0891: unrecognized instruction.          (LD)
0892   01B3             	INC	HL
basic2.asm line 0892: unrecognized instruction.          (INC)
0893   01B3             	LD	D,(HL)		; Get MSB of line number
basic2.asm line 0893: unrecognized instruction.          (LD)
0894   01B3             	INC	HL
basic2.asm line 0894: unrecognized instruction.          (INC)
0895   01B3             	PUSH	HL		; Save address of line start
basic2.asm line 0895: unrecognized argument.             (HL)
0896   01B3             	EX	DE,HL		; Line number to HL
basic2.asm line 0896: unrecognized instruction.          (EX)
basic2.asm line 0897: Label not found: (PRNTHL)
basic2.asm line 0897: Unused data in MS byte of argument. (2)
0897   01B3 CD 00 00    	CALL	PRNTHL		; Output line number in decimal
0898   01B6             	LD	A,$20		; Space after line number
basic2.asm line 0898: unrecognized instruction.          (LD)
0899   01B6             	POP	HL		; Restore start of line address
basic2.asm line 0899: unrecognized argument.             (HL)
basic2.asm line 0900: Label not found: (OUTC)
basic2.asm line 0900: Unused data in MS byte of argument. (2)
0900   01B6 CD 00 00    LSTLP2:	CALL	OUTC		; Output character in A
0901   01B9             LSTLP3:	LD	A,(HL)		; Get next byte in line
basic2.asm line 0901: Label not found: (LSTLP3)
basic2.asm line 0901: label value misalligned.           (LSTLP3)
basic2.asm line 0901: unrecognized instruction.          (LSTLP3)
0902   01B9             	OR	A		; End of line?
basic2.asm line 0902: unrecognized instruction.          (OR)
0903   01B9             	INC	HL		; To next byte in line
basic2.asm line 0903: unrecognized instruction.          (INC)
0904   01B9             	JR	Z,LISTLP		; Yes - get next line
basic2.asm line 0904: unrecognized instruction.          (JR)
basic2.asm line 0905: Label not found: (P)
basic2.asm line 0905: Unknown token: (,)
basic2.asm line 0905: Unknown token.    
0905   01B9 F2 B6 01    	JP	P,LSTLP2		; No token - output it
0906   01BC             	SUB	ZEND-1		; Find and output word
basic2.asm line 0906: unrecognized argument.             (ZEND-1)
0907   01BC             	LD	C,A		; Token offset+1 to C
basic2.asm line 0907: unrecognized instruction.          (LD)
0908   01BC             	LD	DE,WORDS		; Reserved word list
basic2.asm line 0908: unrecognized instruction.          (LD)
0909   01BC             FNDTOK:	LD	A,(DE)		; Get character in list
basic2.asm line 0909: Label not found: (FNDTOK)
basic2.asm line 0909: label value misalligned.           (FNDTOK)
basic2.asm line 0909: unrecognized instruction.          (FNDTOK)
0910   01BC             	INC	DE		; Move on to next
basic2.asm line 0910: unrecognized instruction.          (INC)
0911   01BC             	OR	A		; Is it start of word?
basic2.asm line 0911: unrecognized instruction.          (OR)
basic2.asm line 0912: Label not found: (P)
basic2.asm line 0912: Unknown token: (,)
basic2.asm line 0912: Unknown token.    
basic2.asm line 0912: Label not found: (FNDTOK)
basic2.asm line 0912: Unused data in MS byte of argument. (2)
0912   01BC F2 00 00    	JP	P,FNDTOK		; No - Keep looking for word
0913   01BF             	DEC	C		; Count words
basic2.asm line 0913: unrecognized instruction.          (DEC)
0914   01BF             	JR	NZ,FNDTOK		; Not there - keep looking
basic2.asm line 0914: unrecognized instruction.          (JR)
0915   01BF             OUTWRD:	AND	01111111B		; Strip bit 7
basic2.asm line 0915: Label not found: (OUTWRD)
basic2.asm line 0915: label value misalligned.           (OUTWRD)
basic2.asm line 0915: unrecognized instruction.          (OUTWRD)
basic2.asm line 0916: Label not found: (OUTC)
basic2.asm line 0916: Unused data in MS byte of argument. (2)
0916   01BF CD 00 00    	CALL	OUTC		; Output first character
0917   01C2             	LD	A,(DE)		; Get next character
basic2.asm line 0917: unrecognized instruction.          (LD)
0918   01C2             	INC	DE		; Move on to next
basic2.asm line 0918: unrecognized instruction.          (INC)
0919   01C2             	OR	A		; Is it end of word?
basic2.asm line 0919: unrecognized instruction.          (OR)
basic2.asm line 0920: Label not found: (P)
basic2.asm line 0920: Unknown token: (,)
basic2.asm line 0920: Unknown token.    
basic2.asm line 0920: Label not found: (OUTWRD)
basic2.asm line 0920: Unused data in MS byte of argument. (2)
0920   01C2 F2 00 00    	JP	P,OUTWRD		; No - output the rest
0921   01C5             	JR	LSTLP3		; Next byte in line
basic2.asm line 0921: unrecognized instruction.          (JR)
0922   01C5             
0923   01C5             SETLIN:	PUSH	HL		; Set up LINES counter
basic2.asm line 0923: Label not found: (SETLIN)
basic2.asm line 0923: label value misalligned.           (SETLIN)
basic2.asm line 0923: unrecognized argument.             (SETLIN)
0924   01C5             	LD	HL,(LINESN)	; Get LINES number
basic2.asm line 0924: unrecognized instruction.          (LD)
0925   01C5             	LD	(LINESC),HL	; Save in LINES counter
basic2.asm line 0925: unrecognized instruction.          (LD)
0926   01C5             	POP	HL
basic2.asm line 0926: unrecognized argument.             (HL)
0927   01C5 C9          	RET
0928   01C6             
0929   01C6             COUNT:	PUSH	HL		; Save code string address
basic2.asm line 0929: Label not found: (COUNT)
basic2.asm line 0929: label value misalligned.           (COUNT)
basic2.asm line 0929: unrecognized argument.             (COUNT)
0930   01C6             	PUSH	DE
basic2.asm line 0930: unrecognized argument.             (DE)
0931   01C6             	LD	HL,(LINESC)	; Get LINES counter
basic2.asm line 0931: unrecognized instruction.          (LD)
0932   01C6             	LD	DE,-1
basic2.asm line 0932: unrecognized instruction.          (LD)
0933   01C6             	ADC	HL,DE		; Decrement
basic2.asm line 0933: unrecognized argument.             (HL,DE)
0934   01C6             	LD	(LINESC),HL	; Put it back
basic2.asm line 0934: unrecognized instruction.          (LD)
0935   01C6             	POP	DE
basic2.asm line 0935: unrecognized argument.             (DE)
0936   01C6             	POP	HL		; Restore code string address
basic2.asm line 0936: unrecognized argument.             (HL)
0937   01C6             	RET	P		; Return if more lines to go
basic2.asm line 0937: unrecognized argument.             (P)
0938   01C6             	
basic2.asm line 0939: Label not found: (WAITCR)
basic2.asm line 0939: Unused data in MS byte of argument. (2)
0939   01C6 CD 00 00    	CALL	WAITCR		; Wait for <ENTER> before continuing
0940   01C9             	
0941   01C9             	PUSH	HL		; Save code string address
basic2.asm line 0941: unrecognized argument.             (HL)
0942   01C9             	LD	HL,(LINESN)	; Get LINES number
basic2.asm line 0942: unrecognized instruction.          (LD)
0943   01C9             	LD	(LINESC),HL	; Reset LINES counter
basic2.asm line 0943: unrecognized instruction.          (LD)
0944   01C9             	POP	HL		; Restore code string address
basic2.asm line 0944: unrecognized argument.             (HL)
0945   01C9             	JR	COUNT		; Keep on counting
basic2.asm line 0945: unrecognized instruction.          (JR)
0946   01C9             
0947   01C9             RSLNBK:	LD	HL,(LINESN)	; Get LINES number
basic2.asm line 0947: Label not found: (RSLNBK)
basic2.asm line 0947: label value misalligned.           (RSLNBK)
basic2.asm line 0947: unrecognized instruction.          (RSLNBK)
0948   01C9             	LD	(LINESC),HL	; Reset LINES counter
basic2.asm line 0948: unrecognized instruction.          (LD)
0949   01C9 F2 86 00    	JP	BRKRET		; Go and output "Break"
0950   01CC             ;------------------------------------------------------------------------------
0951   01CC             ; FOR
0952   01CC             ;------------------------------------------------------------------------------
0953   01CC             FOR:	LD	A,64H		; Flag "FOR" assignment
basic2.asm line 0953: Label not found: (FOR)
basic2.asm line 0953: label value misalligned.           (FOR)
basic2.asm line 0953: unrecognized instruction.          (FOR)
0954   01CC             	LD	(FORFLG),A	; Save "FOR" flag
basic2.asm line 0954: unrecognized instruction.          (LD)
0955   01CC CD E0 02    	CALL	LET		; Set up initial index
0956   01CF             	POP	BC		; Drop RETurn address
basic2.asm line 0956: unrecognized argument.             (BC)
0957   01CF             	PUSH	HL		; Save code string address
basic2.asm line 0957: unrecognized argument.             (HL)
0958   01CF CD D8 02    	CALL	DATA		; Get next statement address
0959   01D2             	LD	(LOOPST),HL	; Save it for start of lo6p
basic2.asm line 0959: unrecognized instruction.          (LD)
0960   01D2             	LD	HL,2		; Offset for "FOR" block
basic2.asm line 0960: unrecognized instruction.          (LD)
0961   01D2             	ADD	HL,SP		; Point to it
basic2.asm line 0961: unrecognized argument.             (HL,SP)
basic2.asm line 0962: Label not found: (LOKFOR)
basic2.asm line 0962: Unused data in MS byte of argument. (2)
0962   01D2 CD 00 00    FORSLP:	CALL	LOKFOR		; Look for existing "FOR" block
0963   01D5             	POP	DE		; Get code string address
basic2.asm line 0963: unrecognized argument.             (DE)
0964   01D5             	JR	NZ,FORFND		; No nesting found
basic2.asm line 0964: unrecognized instruction.          (JR)
0965   01D5             	ADD	HL,BC		; Move into "FOR" block
basic2.asm line 0965: unrecognized argument.             (HL,BC)
0966   01D5             	PUSH	DE		; Save code string address
basic2.asm line 0966: unrecognized argument.             (DE)
0967   01D5             	DEC	HL
basic2.asm line 0967: unrecognized instruction.          (DEC)
0968   01D5             	LD	D,(HL)		; Get MSB of loop statement
basic2.asm line 0968: unrecognized instruction.          (LD)
0969   01D5             	DEC	HL
basic2.asm line 0969: unrecognized instruction.          (DEC)
0970   01D5             	LD	E,(HL)		; Get LSB of loop statement
basic2.asm line 0970: unrecognized instruction.          (LD)
0971   01D5             	INC	HL
basic2.asm line 0971: unrecognized instruction.          (INC)
0972   01D5             	INC	HL
basic2.asm line 0972: unrecognized instruction.          (INC)
0973   01D5             	PUSH	HL		; Save block address
basic2.asm line 0973: unrecognized argument.             (HL)
0974   01D5             	LD	HL,(LOOPST)	; Get address of loop statement
basic2.asm line 0974: unrecognized instruction.          (LD)
basic2.asm line 0975: Label not found: (CPHLDE)
basic2.asm line 0975: Unused data in MS byte of argument. (2)
0975   01D5 CD 00 00    	CALL	CPHLDE		; Compare the FOR loops
0976   01D8             	POP	HL		; Restore block address
basic2.asm line 0976: unrecognized argument.             (HL)
0977   01D8             	JR	NZ,FORSLP		; Different FORs - Find another
basic2.asm line 0977: unrecognized instruction.          (JR)
0978   01D8             	POP	DE		; Restore code string address
basic2.asm line 0978: unrecognized argument.             (DE)
0979   01D8             	LD	SP,HL		; Remove all nested loops
basic2.asm line 0979: unrecognized instruction.          (LD)
0980   01D8             
0981   01D8             FORFND:	EX	DE,HL		; Code string address to HL
basic2.asm line 0981: Label not found: (FORFND)
basic2.asm line 0981: label value misalligned.           (FORFND)
basic2.asm line 0981: unrecognized instruction.          (FORFND)
0982   01D8             	LD	C,8
basic2.asm line 0982: unrecognized instruction.          (LD)
basic2.asm line 0983: Label not found: (CHKSTK)
basic2.asm line 0983: Unused data in MS byte of argument. (2)
0983   01D8 CD 00 00    	CALL	CHKSTK		; Check for 8 levels of stack
0984   01DB             	PUSH	HL		; Save code string address
basic2.asm line 0984: unrecognized argument.             (HL)
0985   01DB             	LD	HL,(LOOPST)	; Get first statement of loop
basic2.asm line 0985: unrecognized instruction.          (LD)
0986   01DB             	EX	(SP),HL		; Save and restore code string
basic2.asm line 0986: unrecognized instruction.          (EX)
0987   01DB             	PUSH	HL		; Re-save code string address
basic2.asm line 0987: unrecognized argument.             (HL)
0988   01DB             	LD	HL,(LINEAT)	; Get current line number
basic2.asm line 0988: unrecognized instruction.          (LD)
0989   01DB             	EX	(SP),HL		; Save and restore code string
basic2.asm line 0989: unrecognized instruction.          (EX)
0990   01DB CD 2E 04    	CALL	TSTNUM		; Make sure it's a number
basic2.asm line 0991: Label not found: (CHKSYN)
basic2.asm line 0991: Unused data in MS byte of argument. (2)
0991   01DE CD 00 00    	CALL	CHKSYN		; Make sure "TO" is next
0992   01E1 A6          	.BYTE	ZTO		; "TO" token
0993   01E2 CD 2B 04    	CALL	GETNUM		; Get "TO" expression value
0994   01E5             	PUSH	HL		; Save code string address
basic2.asm line 0994: unrecognized argument.             (HL)
basic2.asm line 0995: Label not found: (BCDEFP)
basic2.asm line 0995: Unused data in MS byte of argument. (2)
0995   01E5 CD 00 00    	CALL	BCDEFP		; Move "TO" value to BCDE
0996   01E8             	POP	HL		; Restore code string address
basic2.asm line 0996: unrecognized argument.             (HL)
0997   01E8             	PUSH	BC		; Save "TO" value in block
basic2.asm line 0997: unrecognized argument.             (BC)
0998   01E8             	PUSH	DE
basic2.asm line 0998: unrecognized argument.             (DE)
0999   01E8             	LD	BC,8100H		; BCDE - 1 (default STEP)
basic2.asm line 0999: unrecognized instruction.          (LD)
1000   01E8             	LD	D,C		; C=0
basic2.asm line 1000: unrecognized instruction.          (LD)
1001   01E8             	LD	E,D		; D=0
basic2.asm line 1001: unrecognized instruction.          (LD)
1002   01E8             	LD	A,(HL)		; Get next byte in code string
basic2.asm line 1002: unrecognized instruction.          (LD)
1003   01E8 F4 AB 00    	CP	ZSTEP		; See if "STEP" is stated
1004   01EB             	LD	A,1		; Sign of step = 1
basic2.asm line 1004: unrecognized instruction.          (LD)
1005   01EB             	JR	NZ,SAVSTP		; No STEP given - Default to 1
basic2.asm line 1005: unrecognized instruction.          (JR)
basic2.asm line 1006: Label not found: (GETCHR)
basic2.asm line 1006: Unused data in MS byte of argument. (2)
1006   01EB CD 00 00    	CALL	GETCHR		; Jump over "STEP" token
1007   01EE CD 2B 04    	CALL	GETNUM		; Get step value
1008   01F1             	PUSH	HL		; Save code string address
basic2.asm line 1008: unrecognized argument.             (HL)
basic2.asm line 1009: Label not found: (BCDEFP)
basic2.asm line 1009: Unused data in MS byte of argument. (2)
1009   01F1 CD 00 00    	CALL	BCDEFP		; Move STEP to BCDE
basic2.asm line 1010: Label not found: (TSTSGN)
basic2.asm line 1010: Unused data in MS byte of argument. (2)
1010   01F4 CD 00 00    	CALL	TSTSGN		; Test sign of FPREG
1011   01F7             	POP	HL		; Restore code string address
basic2.asm line 1011: unrecognized argument.             (HL)
1012   01F7             SAVSTP:	PUSH	BC		; Save the STEP value in block
basic2.asm line 1012: Label not found: (SAVSTP)
basic2.asm line 1012: label value misalligned.           (SAVSTP)
basic2.asm line 1012: unrecognized argument.             (SAVSTP)
1013   01F7             	PUSH	DE
basic2.asm line 1013: unrecognized argument.             (DE)
1014   01F7             	PUSH	AF		; Save sign of STEP
basic2.asm line 1014: unrecognized argument.             (AF)
1015   01F7             	INC	SP		; Don't save flags
basic2.asm line 1015: unrecognized instruction.          (INC)
1016   01F7             	PUSH	HL		; Save code string address
basic2.asm line 1016: unrecognized argument.             (HL)
1017   01F7             	LD	HL,(BRKLIN)	; Get address of index variable
basic2.asm line 1017: unrecognized instruction.          (LD)
1018   01F7             	EX	(SP),HL		; Save and restore code string
basic2.asm line 1018: unrecognized instruction.          (EX)
1019   01F7             PUTFID:	LD	B,ZFOR		; "FOR" block marker
basic2.asm line 1019: Label not found: (PUTFID)
basic2.asm line 1019: label value misalligned.           (PUTFID)
basic2.asm line 1019: unrecognized instruction.          (PUTFID)
1020   01F7             	PUSH	BC		; Save it
basic2.asm line 1020: unrecognized argument.             (BC)
1021   01F7             	INC	SP		; Don't save C
basic2.asm line 1021: unrecognized instruction.          (INC)
1022   01F7             ;------------------------------------------------------------------------------
1023   01F7             ; RUNCNT executes the line of BASIC program at (HL) until (HL)=$00
1024   01F7             ;------------------------------------------------------------------------------
1025   01F7 CD 3A 02    RUNCNT:	CALL	TSTBRK		; Execution driver - Test break
1026   01FA             	LD	(BRKLIN),HL	; Save code address for break
basic2.asm line 1026: unrecognized instruction.          (LD)
1027   01FA             	LD	A,(HL)		; Get next byte in code string
basic2.asm line 1027: unrecognized instruction.          (LD)
1028   01FA F4 3A 00    	CP	$3A		; Multi statement line ":" ?
1029   01FD             	JR	Z,EXCUTE		; Yes - Execute it
basic2.asm line 1029: unrecognized instruction.          (JR)
1030   01FD             	OR	A		; End of line?
basic2.asm line 1030: unrecognized instruction.          (OR)
basic2.asm line 1031: Label not found: (NZ)
basic2.asm line 1031: Unknown token: (,)
basic2.asm line 1031: Unknown token.    
basic2.asm line 1031: Label not found: (SNERR)
basic2.asm line 1031: Unused data in MS byte of argument. (2)
1031   01FD F2 00 00    	JP	NZ,SNERR		; No - Syntax error
1032   0200             	INC	HL		; Point to address of next line
basic2.asm line 1032: unrecognized instruction.          (INC)
1033   0200             	LD	A,(HL)		; Get LSB of line pointer
basic2.asm line 1033: unrecognized instruction.          (LD)
1034   0200             	INC	HL
basic2.asm line 1034: unrecognized instruction.          (INC)
1035   0200             	OR	(HL)		; Is it zero (End of prog)?
basic2.asm line 1035: unrecognized instruction.          (OR)
basic2.asm line 1036: Label not found: (Z)
basic2.asm line 1036: Unknown token: (,)
basic2.asm line 1036: Unknown token.    
basic2.asm line 1036: Label not found: (ENDPRG)
basic2.asm line 1036: Unused data in MS byte of argument. (2)
1036   0200 F2 00 00    	JP	Z,ENDPRG		; Yes - Terminate execution
1037   0203             	INC	HL		; Point to line number
basic2.asm line 1037: unrecognized instruction.          (INC)
1038   0203             	LD	E,(HL)		; Get LSB of line number
basic2.asm line 1038: unrecognized instruction.          (LD)
1039   0203             	INC	HL
basic2.asm line 1039: unrecognized instruction.          (INC)
1040   0203             	LD	D,(HL)		; Get MSB of line number
basic2.asm line 1040: unrecognized instruction.          (LD)
1041   0203             	EX	DE,HL		; Line number to HL
basic2.asm line 1041: unrecognized instruction.          (EX)
1042   0203             	LD	(LINEAT),HL	; Save as current line number
basic2.asm line 1042: unrecognized instruction.          (LD)
1043   0203             	EX	DE,HL		; Line number back to DE
basic2.asm line 1043: unrecognized instruction.          (EX)
basic2.asm line 1044: Label not found: (GETCHR)
basic2.asm line 1044: Unused data in MS byte of argument. (2)
1044   0203 CD 00 00    EXCUTE:	CALL	GETCHR		; Get key word
1045   0206             	LD	DE,RUNCNT		; Where to RETurn to
basic2.asm line 1045: unrecognized instruction.          (LD)
1046   0206             	PUSH	DE		; Save for RETurn
basic2.asm line 1046: unrecognized argument.             (DE)
1047   0206             IFJMP:	RET	Z		; Go to RUNCNT if end of STMT
basic2.asm line 1047: Label not found: (IFJMP)
basic2.asm line 1047: label value misalligned.           (IFJMP)
basic2.asm line 1047: unrecognized argument.             (IFJMP)
1048   0206             ONJMP:	SUB	ZEND		; Is it a token?
basic2.asm line 1048: Label not found: (ONJMP)
basic2.asm line 1048: label value misalligned.           (ONJMP)
basic2.asm line 1048: unrecognized argument.             (ONJMP)
basic2.asm line 1049: Label not found: (C)
basic2.asm line 1049: Unknown token: (,)
basic2.asm line 1049: Unknown token.    
1049   0206 F2 E0 02    	JP	C,LET		; No - try to assign it
1050   0209 F4 25 00    	CP	ZNEW+1-ZEND	; END to NEW ?
basic2.asm line 1051: Label not found: (NC)
basic2.asm line 1051: Unknown token: (,)
basic2.asm line 1051: Unknown token.    
basic2.asm line 1051: Label not found: (SNERR)
basic2.asm line 1051: Unused data in MS byte of argument. (2)
1051   020C F2 00 00    	JP	NC,SNERR		; Not a key word - ?SN Error
1052   020F             	RLCA			; Double it
basic2.asm line 1052: unrecognized instruction.          (RLCA)
1053   020F             	LD	C,A		; BC = Offset into table
basic2.asm line 1053: unrecognized instruction.          (LD)
1054   020F             	LD	B,0
basic2.asm line 1054: unrecognized instruction.          (LD)
1055   020F             	EX	DE,HL		; Save code string address
basic2.asm line 1055: unrecognized instruction.          (EX)
1056   020F             	LD	HL,WORDTB		; Keyword address table
basic2.asm line 1056: unrecognized instruction.          (LD)
1057   020F             	ADD	HL,BC		; Point to routine address
basic2.asm line 1057: unrecognized argument.             (HL,BC)
1058   020F             	LD	C,(HL)		; Get LSB of routine address
basic2.asm line 1058: unrecognized instruction.          (LD)
1059   020F             	INC	HL
basic2.asm line 1059: unrecognized instruction.          (INC)
1060   020F             	LD	B,(HL)		; Get MSB of routine address
basic2.asm line 1060: unrecognized instruction.          (LD)
1061   020F             	PUSH	BC		; Save routine address
basic2.asm line 1061: unrecognized argument.             (BC)
1062   020F             	EX	DE,HL		; Restore code string address
basic2.asm line 1062: unrecognized instruction.          (EX)
1063   020F             ;------------------------------------------------------------------------------
1064   020F             ; Gets a character from (HL) checks for ASCII numbers
1065   020F             ;	RETURNS:	Char A 
1066   020F             ;	NC if char is ;<=>?@ A-z
1067   020F             ;	CY is set if 0-9
1068   020F             ;------------------------------------------------------------------------------
1069   020F             GETCHR:	INC	HL		; Point to next character
basic2.asm line 1069: Label not found: (GETCHR)
basic2.asm line 1069: label value misalligned.           (GETCHR)
basic2.asm line 1069: unrecognized instruction.          (GETCHR)
1070   020F             	LD	A,(HL)		; Get next code string byte
basic2.asm line 1070: unrecognized instruction.          (LD)
1071   020F F4 3A 00    	CP	$3A		; Z if ":", RETurn if alpha
1072   0212             	RET	NC		; NC if > "9"
basic2.asm line 1072: unrecognized argument.             (NC)
1073   0212 F4 20 00    	CP	$20		; Is it a space
1074   0215             	JR	Z,GETCHR		; Skip over and get next
basic2.asm line 1074: unrecognized instruction.          (JR)
1075   0215 F4 30 00    	CP	$30		; "0"
1076   0218             	CCF			; NC if < "0" (i.e. "*", CY set if 0 thru 9
basic2.asm line 1076: unrecognized instruction.          (CCF)
1077   0218             	INC	A		; Test for zero without disturbing CY
basic2.asm line 1077: unrecognized instruction.          (INC)
1078   0218             	DEC	A		; Z if Null character $00
basic2.asm line 1078: unrecognized instruction.          (DEC)
1079   0218 C9          	RET
1080   0219             ;------------------------------------------------------------------------------
1081   0219             ; Convert "$nnnn" to FPREG
1082   0219             ; Gets a character from (HL) checks for Hexadecimal ASCII numbers "$nnnn"
1083   0219             ; Char is in A, NC if char is ;<=>?@ A-z, CY is set if 0-9
1084   0219             ;------------------------------------------------------------------------------
1085   0219             HEXTFP	EX	DE,HL		; Move code string pointer to DE
basic2.asm line 1085: Label not found: (HEXTFP)
basic2.asm line 1085: label value misalligned.           (HEXTFP)
basic2.asm line 1085: unrecognized instruction.          (HEXTFP)
1086   0219             	LD	HL,$0000		; Zero out the value
basic2.asm line 1086: unrecognized instruction.          (LD)
basic2.asm line 1087: Label not found: (GETHEX)
basic2.asm line 1087: Unused data in MS byte of argument. (2)
1087   0219 CD 00 00    	CALL	GETHEX		; Check the number for valid hex
basic2.asm line 1088: Label not found: (C)
basic2.asm line 1088: Unknown token: (,)
basic2.asm line 1088: Unknown token.    
basic2.asm line 1088: Label not found: (HXERR)
basic2.asm line 1088: Unused data in MS byte of argument. (2)
1088   021C F2 00 00    	JP	C,HXERR		; First value wasn't hex, HX error
1089   021F             	JR	HEXLP1		; Convert first character
basic2.asm line 1089: unrecognized instruction.          (JR)
basic2.asm line 1090: Label not found: (GETHEX)
basic2.asm line 1090: Unused data in MS byte of argument. (2)
1090   021F CD 00 00    HEXLP	CALL	GETHEX		; Get second and addtional characters
1091   0222             	JR	C,HEXIT		; Exit if not a hex character
basic2.asm line 1091: unrecognized instruction.          (JR)
1092   0222             HEXLP1	ADD	HL,HL		; Rotate 4 bits to the left
basic2.asm line 1092: Label not found: (HEXLP1)
basic2.asm line 1092: label value misalligned.           (HEXLP1)
basic2.asm line 1092: unrecognized argument.             (HEXLP1)
1093   0222             	ADD	HL,HL
basic2.asm line 1093: unrecognized argument.             (HL,HL)
1094   0222             	ADD	HL,HL
basic2.asm line 1094: unrecognized argument.             (HL,HL)
1095   0222             	ADD	HL,HL
basic2.asm line 1095: unrecognized argument.             (HL,HL)
1096   0222             	OR	L		; Add in D0-D3 into L
basic2.asm line 1096: unrecognized instruction.          (OR)
1097   0222             	LD	L,A		; Save new value
basic2.asm line 1097: unrecognized instruction.          (LD)
1098   0222             	JR	HEXLP		; And continue until all hex characters are in
basic2.asm line 1098: unrecognized instruction.          (JR)
1099   0222             
1100   0222             GETHEX	INC	DE		; Next location
basic2.asm line 1100: Label not found: (GETHEX)
basic2.asm line 1100: label value misalligned.           (GETHEX)
basic2.asm line 1100: unrecognized instruction.          (GETHEX)
1101   0222             	LD	A,(DE)		; Load character at pointer
basic2.asm line 1101: unrecognized instruction.          (LD)
1102   0222             	SUB	$30		; Get absolute value
basic2.asm line 1102: unrecognized argument.             ($30)
1103   0222             	RET	C		; < "0", error
basic2.asm line 1103: unrecognized argument.             (C)
1104   0222 F4 0A 00    	CP	$0A
1105   0225             	JR	C,NOSUB7		; Is already in the range 0-9
basic2.asm line 1105: unrecognized instruction.          (JR)
1106   0225             	SUB	$07		; Reduce to A-F
basic2.asm line 1106: unrecognized argument.             ($07)
1107   0225 F4 0A 00    	CP	$0A		; Value should be $0A-$0F at this point
1108   0228             	RET	C		; CY set if was :		; < = > ? @
basic2.asm line 1108: unrecognized argument.             (C)
1109   0228 F4 10 00    NOSUB7	CP	$10		; > Greater than "F"?
1110   022B             	CCF
basic2.asm line 1110: unrecognized instruction.          (CCF)
1111   022B C9          	RET			; CY set if it wasn't valid hex
1112   022C             	
1113   022C             HEXIT	EX	DE,HL		; Value into DE, Code string into HL
basic2.asm line 1113: Label not found: (HEXIT)
basic2.asm line 1113: label value misalligned.           (HEXIT)
basic2.asm line 1113: unrecognized instruction.          (HEXIT)
1114   022C             	LD	A,D		; Load DE into AC
basic2.asm line 1114: unrecognized instruction.          (LD)
1115   022C             	LD	C,E		; For prep to 
basic2.asm line 1115: unrecognized instruction.          (LD)
1116   022C             	PUSH	HL
basic2.asm line 1116: unrecognized argument.             (HL)
basic2.asm line 1117: Label not found: (ACPASS)
basic2.asm line 1117: Unused data in MS byte of argument. (2)
1117   022C CD 00 00    	CALL	ACPASS		; ACPASS to set AC as integer into FPREG
1118   022F             	POP	HL
basic2.asm line 1118: unrecognized argument.             (HL)
1119   022F C9          	RET
1120   0230             ;------------------------------------------------------------------------------	
1121   0230             ; RESTORE command
1122   0230             ;------------------------------------------------------------------------------
1123   0230             RESTOR:	EX	DE,HL		; Save code string address
basic2.asm line 1123: Label not found: (RESTOR)
basic2.asm line 1123: label value misalligned.           (RESTOR)
basic2.asm line 1123: unrecognized instruction.          (RESTOR)
1124   0230             	LD	HL,(BASTXT)	; Point to start of program
basic2.asm line 1124: unrecognized instruction.          (LD)
1125   0230             	JR	Z,RESTNL		; Just RESTORE - reset pointer
basic2.asm line 1125: unrecognized instruction.          (JR)
1126   0230             	EX	DE,HL		; Restore code string address
basic2.asm line 1126: unrecognized instruction.          (EX)
basic2.asm line 1127: Label not found: (ATOH)
basic2.asm line 1127: Unused data in MS byte of argument. (2)
1127   0230 CD 00 00    	CALL	ATOH		; Get line number to DE
1128   0233             	PUSH	HL		; Save code string address
basic2.asm line 1128: unrecognized argument.             (HL)
basic2.asm line 1129: Label not found: (SRCHLN)
basic2.asm line 1129: Unused data in MS byte of argument. (2)
1129   0233 CD 00 00    	CALL	SRCHLN		; Search for line number in DE
1130   0236             	LD	H,B		; HL = Address of line
basic2.asm line 1130: unrecognized instruction.          (LD)
1131   0236             	LD	L,C
basic2.asm line 1131: unrecognized instruction.          (LD)
1132   0236             	POP	DE		; Restore code string address
basic2.asm line 1132: unrecognized argument.             (DE)
basic2.asm line 1133: Label not found: (NC)
basic2.asm line 1133: Unknown token: (,)
basic2.asm line 1133: Unknown token.    
basic2.asm line 1133: Label not found: (ULERR)
basic2.asm line 1133: Unused data in MS byte of argument. (2)
1133   0236 F2 00 00    	JP	NC,ULERR		; ?UL Error if not found
1134   0239             RESTNL:	DEC	HL		; Byte before DATA statement
basic2.asm line 1134: Label not found: (RESTNL)
basic2.asm line 1134: label value misalligned.           (RESTNL)
basic2.asm line 1134: unrecognized instruction.          (RESTNL)
1135   0239             UPDATA:	LD	(NXTDAT),HL	; Update DATA pointer
basic2.asm line 1135: Label not found: (UPDATA)
basic2.asm line 1135: label value misalligned.           (UPDATA)
basic2.asm line 1135: unrecognized instruction.          (UPDATA)
1136   0239             	EX	DE,HL		; Restore code string address
basic2.asm line 1136: unrecognized instruction.          (EX)
1137   0239 C9          	RET
1138   023A             ;------------------------------------------------------------------------------
1139   023A             ; Check for BREAK during RUN or LIST, process Scroll Controls <Ctrl-S>,<Ctrl-Q>
1140   023A             ;------------------------------------------------------------------------------
basic2.asm line 1141: Label not found: (CKSIOA)
basic2.asm line 1141: Unused data in MS byte of argument. (2)
1141   023A CD 00 00    TSTBRK:	CALL	CKSIOA		; Ck SIO status
1142   023D             	RET	NC		; No key, go back
basic2.asm line 1142: unrecognized argument.             (NC)
1143   023D             	RST	10H		; Get the key into A
basic2.asm line 1143: unrecognized argument.             (10H)
1144   023D F4 1B 00    	CP	ESC		; Escape key?
1145   0240             	JR	Z,BRK		; Yes, break
basic2.asm line 1145: unrecognized instruction.          (JR)
1146   0240 F4 03 00    	CP	CTRLC		; <Ctrl-C>
1147   0243             	JR	Z,BRK		; Yes, break
basic2.asm line 1147: unrecognized instruction.          (JR)
1148   0243 F4 13 00    	CP	CTRLS		; Stop scrolling?	
1149   0246             	RET	NZ		; Other key, ignore
basic2.asm line 1149: unrecognized argument.             (NZ)
1150   0246             	
1151   0246             STALL:	RST	10H		; Wait for key
basic2.asm line 1151: Label not found: (STALL)
basic2.asm line 1151: label value misalligned.           (STALL)
basic2.asm line 1151: unrecognized argument.             (STALL)
1152   0246 F4 11 00    	CP	CTRLQ		; Resume scrolling?
1153   0249             	RET	Z		; Release the chokehold
basic2.asm line 1153: unrecognized argument.             (Z)
1154   0249 F4 1B 00    	CP	ESC		; Second break?
1155   024C             	JR	Z,STOP		; Break during hold exits prog
basic2.asm line 1155: unrecognized instruction.          (JR)
1156   024C F4 03 00    	CP	CTRLC		; Second break?
1157   024F             	JR	Z,STOP		; Break during hold exits prog
basic2.asm line 1157: unrecognized instruction.          (JR)
1158   024F             	JR	STALL		; Loop until <Ctrl-Q> or <brk>
basic2.asm line 1158: unrecognized instruction.          (JR)
1159   024F             
1160   024F             BRK:	LD	A,$FF		; Set BRKFLG
basic2.asm line 1160: Label not found: (BRK)
basic2.asm line 1160: label value misalligned.           (BRK)
basic2.asm line 1160: unrecognized instruction.          (BRK)
1161   024F             	LD	(BRKFLG),A	; Store it
basic2.asm line 1161: unrecognized instruction.          (LD)
1162   024F             STOP:	RET	NZ		; Exit if anything else
basic2.asm line 1162: Label not found: (STOP)
basic2.asm line 1162: label value misalligned.           (STOP)
basic2.asm line 1162: unrecognized argument.             (STOP)
1163   024F F6          	.BYTE	$F6		; Skip "Load (BRKLIN),HL
1164   0250             PEND:	RET	NZ		; Exit if anything else
basic2.asm line 1164: Label not found: (PEND)
basic2.asm line 1164: label value misalligned.           (PEND)
basic2.asm line 1164: unrecognized argument.             (PEND)
1165   0250             	LD	(BRKLIN),HL	; Current line for Break
basic2.asm line 1165: unrecognized instruction.          (LD)
1166   0250 21          	.BYTE	$21		; Skip "OR $FF"
1167   0251             INPBRK:	OR	$FF		; Set flags for "Break" status
basic2.asm line 1167: Label not found: (INPBRK)
basic2.asm line 1167: label value misalligned.           (INPBRK)
basic2.asm line 1167: unrecognized instruction.          (INPBRK)
1168   0251             	POP	BC		; Lose the RETurn
basic2.asm line 1168: unrecognized argument.             (BC)
1169   0251             ENDPRG:	LD	HL,(LINEAT)	; Get current line number
basic2.asm line 1169: Label not found: (ENDPRG)
basic2.asm line 1169: label value misalligned.           (ENDPRG)
basic2.asm line 1169: unrecognized instruction.          (ENDPRG)
1170   0251             	PUSH	AF		; Save STOP / END status
basic2.asm line 1170: unrecognized argument.             (AF)
1171   0251             	LD	A,L		; Is it direct break?
basic2.asm line 1171: unrecognized instruction.          (LD)
1172   0251             	AND	H		; If HL=$FFFF break during direct mode
basic2.asm line 1172: unrecognized instruction.          (AND)
1173   0251             	INC	A		; Line number is -1 if direct break
basic2.asm line 1173: unrecognized instruction.          (INC)
1174   0251             	JR	Z,NOLIN		; Yes - No line number
basic2.asm line 1174: unrecognized instruction.          (JR)
1175   0251             	LD	(ERRLIN),HL	; Save line of break
basic2.asm line 1175: unrecognized instruction.          (LD)
1176   0251             	LD	HL,(BRKLIN)	; Get point of break
basic2.asm line 1176: unrecognized instruction.          (LD)
1177   0251             	LD	(CONTAD),HL	; Save point to CONTinue
basic2.asm line 1177: unrecognized instruction.          (LD)
1178   0251             NOLIN:	XOR	A
basic2.asm line 1178: Label not found: (NOLIN)
basic2.asm line 1178: label value misalligned.           (NOLIN)
basic2.asm line 1178: unrecognized instruction.          (NOLIN)
1179   0251             	LD	(CTLOFG),A	; Enable output
basic2.asm line 1179: unrecognized instruction.          (LD)
basic2.asm line 1180: Label not found: (STTLIN)
basic2.asm line 1180: Unused data in MS byte of argument. (2)
1180   0251 CD 00 00    	CALL	STTLIN		; Start a new line
1181   0254             	POP	AF		; Restore STOP / END status
basic2.asm line 1181: unrecognized argument.             (AF)
1182   0254             	LD	HL,BRKMSG		; "Break" message
basic2.asm line 1182: unrecognized instruction.          (LD)
basic2.asm line 1183: Label not found: (NZ)
basic2.asm line 1183: Unknown token: (,)
basic2.asm line 1183: Unknown token.    
1183   0254 F2 B5 00    	JP	NZ,ERRIN		; "in line" wanted?
basic2.asm line 1184: Label not found: (PRNTOK)
basic2.asm line 1184: Unused data in MS byte of argument. (2)
1184   0257 F2 00 00    	JP	PRNTOK		; Go to command mode
1185   025A             ;------------------------------------------------------------------------------
1186   025A             ; CONTinue
1187   025A             ;------------------------------------------------------------------------------
1188   025A             CONT:	LD	HL,(CONTAD)	; Get CONTinue address
basic2.asm line 1188: Label not found: (CONT)
basic2.asm line 1188: label value misalligned.           (CONT)
basic2.asm line 1188: unrecognized instruction.          (CONT)
1189   025A             	LD	A,H		; Is it zero?
basic2.asm line 1189: unrecognized instruction.          (LD)
1190   025A             	OR	L
basic2.asm line 1190: unrecognized instruction.          (OR)
1191   025A             	LD	E,CN		; ?CN Error
basic2.asm line 1191: unrecognized instruction.          (LD)
basic2.asm line 1192: Label not found: (Z)
basic2.asm line 1192: Unknown token: (,)
basic2.asm line 1192: Unknown token.    
1192   025A F2 A3 00    	JP	Z,ERROR		; Yes - output "?CN Error"
1193   025D             	EX	DE,HL		; Save code string address
basic2.asm line 1193: unrecognized instruction.          (EX)
1194   025D             	LD	HL,(ERRLIN)	; Get line of last break
basic2.asm line 1194: unrecognized instruction.          (LD)
1195   025D             	LD	(LINEAT),HL	; Set up current line number
basic2.asm line 1195: unrecognized instruction.          (LD)
1196   025D             	EX	DE,HL		; Restore code string address
basic2.asm line 1196: unrecognized instruction.          (EX)
1197   025D C9          	RET		; CONTinue where left off
1198   025E             ;------------------------------------------------------------------------------
1199   025E             ; NULL sets number of nulls to generate after PRNTCR
1200   025E             ;------------------------------------------------------------------------------
1201   025E CD 21 07    NULL:	CALL	GETINT		; Get integer 0-255
1202   0261             	RET	NZ		; Return if bad value
basic2.asm line 1202: unrecognized argument.             (NZ)
1203   0261             	LD	(NULLS),A		; Set nulls number
basic2.asm line 1203: unrecognized instruction.          (LD)
1204   0261 C9          	RET
1205   0262             ;------------------------------------------------------------------------------
1206   0262             ; Gets Character at (HL) and verifies it is Alpha
1207   0262             ;------------------------------------------------------------------------------
1208   0262             CHKLTR:	LD	A,(HL)		; Get byte
basic2.asm line 1208: Label not found: (CHKLTR)
basic2.asm line 1208: label value misalligned.           (CHKLTR)
basic2.asm line 1208: unrecognized instruction.          (CHKLTR)
1209   0262 F4 41 00    	CP	'A'		; < "A" ?
1210   0265             	RET	C		; Carry set if not letter
basic2.asm line 1210: unrecognized argument.             (C)
1211   0265 F4 5B 00    	CP	'Z'+1		; > "Z" ?
1212   0268             	CCF
basic2.asm line 1212: unrecognized instruction.          (CCF)
1213   0268 C9          	RET			; Carry set if not letter
1214   0269             ;------------------------------------------------------------------------------
1215   0269             ; Converts FPreg to INTeger
1216   0269             ;------------------------------------------------------------------------------
basic2.asm line 1217: Label not found: (GETCHR)
basic2.asm line 1217: Unused data in MS byte of argument. (2)
1217   0269 CD 00 00    FPSINT:	CALL	GETCHR		; Get next character
1218   026C CD 2B 04    POSINT:	CALL	GETNUM		; Get integer 0 to 32767
basic2.asm line 1219: Label not found: (TSTSGN)
basic2.asm line 1219: Unused data in MS byte of argument. (2)
1219   026F CD 00 00    DEPINT:	CALL	TSTSGN		; Test sign of FPREG
basic2.asm line 1220: Label not found: (M)
basic2.asm line 1220: Unknown token: (,)
basic2.asm line 1220: Unknown token.    
basic2.asm line 1220: Label not found: (FCERR)
basic2.asm line 1220: Unused data in MS byte of argument. (2)
1220   0272 F2 00 00    	JP	M,FCERR		; Negative - ?FC Error
1221   0275             DEINT:	LD	A,(FPEXP)		; Get integer value to DE
basic2.asm line 1221: Label not found: (DEINT)
basic2.asm line 1221: label value misalligned.           (DEINT)
basic2.asm line 1221: unrecognized instruction.          (DEINT)
1222   0275 F4 90 00    	CP	80H+16		; Exponent in range (16 bits)?
basic2.asm line 1223: Label not found: (C)
basic2.asm line 1223: Unknown token: (,)
basic2.asm line 1223: Unknown token.    
basic2.asm line 1223: Label not found: (FPINT)
basic2.asm line 1223: Unused data in MS byte of argument. (2)
1223   0278 F2 00 00    	JP	C,FPINT		; Yes - convert it
1224   027B             	LD	BC,9080H		; BCDE = -32768, 16-bit integer 
basic2.asm line 1224: unrecognized instruction.          (LD)
1225   027B             	LD	DE,0000
basic2.asm line 1225: unrecognized instruction.          (LD)
1226   027B             	PUSH	HL		; Save code string address
basic2.asm line 1226: unrecognized argument.             (HL)
basic2.asm line 1227: Label not found: (CMPNUM)
basic2.asm line 1227: Unused data in MS byte of argument. (2)
1227   027B CD 00 00    	CALL	CMPNUM		; Compare FPREG with BCDE
1228   027E             	POP	HL		; Restore code string address
basic2.asm line 1228: unrecognized argument.             (HL)
1229   027E             	LD	D,C		; MSB to D
basic2.asm line 1229: unrecognized instruction.          (LD)
1230   027E             	RET	Z		; Return if in range
basic2.asm line 1230: unrecognized argument.             (Z)
1231   027E             FCERR:	LD	E,FC		; ?FC Error
basic2.asm line 1231: Label not found: (FCERR)
basic2.asm line 1231: label value misalligned.           (FCERR)
basic2.asm line 1231: unrecognized instruction.          (FCERR)
1232   027E F2 A3 00    	JP	ERROR		; Output error-
1233   0281             ;------------------------------------------------------------------------------
1234   0281             ; Converts ASCII number to DE integer binary
1235   0281             ; Used to process Line Numbers from BASIC text
1236   0281             ;------------------------------------------------------------------------------
1237   0281             ATOH:	DEC	HL		; ASCII number to DE binary
basic2.asm line 1237: Label not found: (ATOH)
basic2.asm line 1237: label value misalligned.           (ATOH)
basic2.asm line 1237: unrecognized instruction.          (ATOH)
1238   0281             GETLN:	LD	DE,0		; Get number to DE
basic2.asm line 1238: Label not found: (GETLN)
basic2.asm line 1238: label value misalligned.           (GETLN)
basic2.asm line 1238: unrecognized instruction.          (GETLN)
basic2.asm line 1239: Label not found: (GETCHR)
basic2.asm line 1239: Unused data in MS byte of argument. (2)
1239   0281 CD 00 00    GTLNLP:	CALL	GETCHR		; Get next character
1240   0284             	RET	NC		; Exit if not a digit
basic2.asm line 1240: unrecognized argument.             (NC)
1241   0284             	PUSH	HL		; Save code string address
basic2.asm line 1241: unrecognized argument.             (HL)
1242   0284             	PUSH	AF		; Save digit
basic2.asm line 1242: unrecognized argument.             (AF)
1243   0284             	LD	HL,65529/10		; Largest number 65529
basic2.asm line 1243: unrecognized instruction.          (LD)
basic2.asm line 1244: Label not found: (CPHLDE)
basic2.asm line 1244: Unused data in MS byte of argument. (2)
1244   0284 CD 00 00    	CALL	CPHLDE		; Number in range?
basic2.asm line 1245: Label not found: (C)
basic2.asm line 1245: Unknown token: (,)
basic2.asm line 1245: Unknown token.    
basic2.asm line 1245: Label not found: (SNERR)
basic2.asm line 1245: Unused data in MS byte of argument. (2)
1245   0287 F2 00 00    	JP	C,SNERR		; No - ?SN Error
1246   028A             	LD	H,D		; HL = Number
basic2.asm line 1246: unrecognized instruction.          (LD)
1247   028A             	LD	L,E
basic2.asm line 1247: unrecognized instruction.          (LD)
1248   028A             	ADD	HL,DE		; Times 2
basic2.asm line 1248: unrecognized argument.             (HL,DE)
1249   028A             	ADD	HL,HL		; Times 4
basic2.asm line 1249: unrecognized argument.             (HL,HL)
1250   028A             	ADD	HL,DE		; Times 5
basic2.asm line 1250: unrecognized argument.             (HL,DE)
1251   028A             	ADD	HL,HL		; Times 10
basic2.asm line 1251: unrecognized argument.             (HL,HL)
1252   028A             	POP	AF		; Restore digit
basic2.asm line 1252: unrecognized argument.             (AF)
1253   028A             	SUB	$30		; Make it 0 to 9
basic2.asm line 1253: unrecognized argument.             ($30)
1254   028A             	LD	E,A		; DE = Value of digit
basic2.asm line 1254: unrecognized instruction.          (LD)
1255   028A             	LD	D,0
basic2.asm line 1255: unrecognized instruction.          (LD)
1256   028A             	ADD	HL,DE		; Add to number
basic2.asm line 1256: unrecognized argument.             (HL,DE)
1257   028A             	EX	DE,HL		; Number to DE
basic2.asm line 1257: unrecognized instruction.          (EX)
1258   028A             	POP	HL		; Restore code string address
basic2.asm line 1258: unrecognized argument.             (HL)
1259   028A             	JR	GTLNLP		; Go to next character
basic2.asm line 1259: unrecognized instruction.          (JR)
1260   028A             ;------------------------------------------------------------------------------
1261   028A             ; CLEAR
1262   028A             ;------------------------------------------------------------------------------
basic2.asm line 1263: Label not found: (Z)
basic2.asm line 1263: Unknown token: (,)
basic2.asm line 1263: Unknown token.    
basic2.asm line 1263: Label not found: (INTVAR)
basic2.asm line 1263: Unused data in MS byte of argument. (2)
1263   028A F2 00 00    CLEAR:	JP	Z,INTVAR	; Just "CLEAR" Keep parameters
1264   028D CD 6C 02    	CALL	POSINT		; Get integer 0 to 32767 to DE
1265   0290             	DEC	HL		; Cancel increment
basic2.asm line 1265: unrecognized instruction.          (DEC)
basic2.asm line 1266: Label not found: (GETCHR)
basic2.asm line 1266: Unused data in MS byte of argument. (2)
1266   0290 CD 00 00    	CALL	GETCHR		; Get next character
1267   0293             	PUSH	HL		; Save code string address
basic2.asm line 1267: unrecognized argument.             (HL)
1268   0293             	LD	HL,(LSTRAM)	; Get end of RAM
basic2.asm line 1268: unrecognized instruction.          (LD)
1269   0293             	JR	Z,STORED		; No value given - Use stored
basic2.asm line 1269: unrecognized instruction.          (JR)
1270   0293             	POP	HL		; Restore code string address
basic2.asm line 1270: unrecognized argument.             (HL)
basic2.asm line 1271: Label not found: (CHKSYN)
basic2.asm line 1271: Unused data in MS byte of argument. (2)
1271   0293 CD 00 00    	CALL	CHKSYN		; Check for comma
1272   0296 2C          	.BYTE	','
1273   0297             	PUSH	DE		; Save number
basic2.asm line 1273: unrecognized argument.             (DE)
1274   0297 CD 6C 02    	CALL	POSINT		; Get integer 0 to 32767
1275   029A             	DEC	HL		; Cancel increment
basic2.asm line 1275: unrecognized instruction.          (DEC)
basic2.asm line 1276: Label not found: (GETCHR)
basic2.asm line 1276: Unused data in MS byte of argument. (2)
1276   029A CD 00 00    	CALL	GETCHR		; Get next character
basic2.asm line 1277: Label not found: (NZ)
basic2.asm line 1277: Unknown token: (,)
basic2.asm line 1277: Unknown token.    
basic2.asm line 1277: Label not found: (SNERR)
basic2.asm line 1277: Unused data in MS byte of argument. (2)
1277   029D F2 00 00    	JP	NZ,SNERR		; ?SN Error if more on line
1278   02A0             	EX	(SP),HL		; Save code string address
basic2.asm line 1278: unrecognized instruction.          (EX)
1279   02A0             	EX	DE,HL		; Number to DE
basic2.asm line 1279: unrecognized instruction.          (EX)
1280   02A0             STORED:	LD	A,L		; Get LSB of new RAM top
basic2.asm line 1280: Label not found: (STORED)
basic2.asm line 1280: label value misalligned.           (STORED)
basic2.asm line 1280: unrecognized instruction.          (STORED)
1281   02A0 93          	SUB	E		; Subtract LSB of string space
1282   02A1             	LD	E,A		; Save LSB
basic2.asm line 1282: unrecognized instruction.          (LD)
1283   02A1             	LD	A,H		; Get MSB of new RAM top
basic2.asm line 1283: unrecognized instruction.          (LD)
1284   02A1             	SBC	A,D		; Subtract MSB of string space
basic2.asm line 1284: unrecognized instruction.          (SBC)
1285   02A1             	LD	D,A		; Save MSB
basic2.asm line 1285: unrecognized instruction.          (LD)
basic2.asm line 1286: Label not found: (C)
basic2.asm line 1286: Unknown token: (,)
basic2.asm line 1286: Unknown token.    
basic2.asm line 1286: Label not found: (OMERR)
basic2.asm line 1286: Unused data in MS byte of argument. (2)
1286   02A1 F2 00 00    	JP	C,OMERR		; ?OM Error if not enough mem
1287   02A4             	PUSH	HL		; Save RAM top
basic2.asm line 1287: unrecognized argument.             (HL)
1288   02A4             	LD	HL,(PROGND)	; Get program end
basic2.asm line 1288: unrecognized instruction.          (LD)
1289   02A4             	LD	BC,40		; 40 Bytes minimum working RAM
basic2.asm line 1289: unrecognized instruction.          (LD)
1290   02A4             	ADD	HL,BC		; Get lowest address
basic2.asm line 1290: unrecognized argument.             (HL,BC)
basic2.asm line 1291: Label not found: (CPHLDE)
basic2.asm line 1291: Unused data in MS byte of argument. (2)
1291   02A4 CD 00 00    	CALL	CPHLDE		; Enough memory?
basic2.asm line 1292: Label not found: (NC)
basic2.asm line 1292: Unknown token: (,)
basic2.asm line 1292: Unknown token.    
basic2.asm line 1292: Label not found: (OMERR)
basic2.asm line 1292: Unused data in MS byte of argument. (2)
1292   02A7 F2 00 00    	JP	NC,OMERR		; No - ?OM Error
1293   02AA             	EX	DE,HL		; RAM top to HL
basic2.asm line 1293: unrecognized instruction.          (EX)
1294   02AA             	LD	(STRSPC),HL	; Set new string space
basic2.asm line 1294: unrecognized instruction.          (LD)
1295   02AA             	POP	HL		; End of memory to use
basic2.asm line 1295: unrecognized argument.             (HL)
1296   02AA             	LD	(LSTRAM),HL	; Set new top of RAM
basic2.asm line 1296: unrecognized instruction.          (LD)
1297   02AA             	POP	HL		; Restore code string address
basic2.asm line 1297: unrecognized argument.             (HL)
basic2.asm line 1298: Label not found: (INTVAR)
basic2.asm line 1298: Unused data in MS byte of argument. (2)
1298   02AA F2 00 00    	JP	INTVAR		; Initialise variables
1299   02AD             ;------------------------------------------------------------------------------
1300   02AD             ; Program RUN
1301   02AD             ;------------------------------------------------------------------------------
basic2.asm line 1302: Label not found: (Z)
basic2.asm line 1302: Unknown token: (,)
basic2.asm line 1302: Unknown token.    
basic2.asm line 1302: Label not found: (RUNFST)
basic2.asm line 1302: Unused data in MS byte of argument. (2)
1302   02AD F2 00 00    RUN:	JP	Z,RUNFST		; RUN from start if just RUN
basic2.asm line 1303: Label not found: (INTVAR)
basic2.asm line 1303: Unused data in MS byte of argument. (2)
1303   02B0 CD 00 00    	CALL	INTVAR		; Initialise variables
1304   02B3             	LD	BC,RUNCNT		; Execution driver loop
basic2.asm line 1304: unrecognized instruction.          (LD)
1305   02B3             	JR	RUNLIN		; RUN from line number
basic2.asm line 1305: unrecognized instruction.          (JR)
1306   02B3             ;------------------------------------------------------------------------------
1307   02B3             ; GOSUB
1308   02B3             ;------------------------------------------------------------------------------
1309   02B3             GOSUB:	LD	C,3		; 3 Levels of stack needed
basic2.asm line 1309: Label not found: (GOSUB)
basic2.asm line 1309: label value misalligned.           (GOSUB)
basic2.asm line 1309: unrecognized instruction.          (GOSUB)
basic2.asm line 1310: Label not found: (CHKSTK)
basic2.asm line 1310: Unused data in MS byte of argument. (2)
1310   02B3 CD 00 00    	CALL	CHKSTK		; Check for 3 levels of stack
1311   02B6             	POP	BC		; Get return address
basic2.asm line 1311: unrecognized argument.             (BC)
1312   02B6             	PUSH	HL		; Save code string for RETURN
basic2.asm line 1312: unrecognized argument.             (HL)
1313   02B6             	PUSH	HL		; And for GOSUB routine
basic2.asm line 1313: unrecognized argument.             (HL)
1314   02B6             	LD	HL,(LINEAT)	; Get current line
basic2.asm line 1314: unrecognized instruction.          (LD)
1315   02B6             	EX	(SP),HL		; Into stack - Code string out
basic2.asm line 1315: unrecognized instruction.          (EX)
1316   02B6             	LD	A,ZGOSUB		; "GOSUB" token
basic2.asm line 1316: unrecognized instruction.          (LD)
1317   02B6             	PUSH	AF		; Save token
basic2.asm line 1317: unrecognized argument.             (AF)
1318   02B6             	INC	SP		; Don't save flags
basic2.asm line 1318: unrecognized instruction.          (INC)
1319   02B6             ;------------------------------------------------------------------------------
1320   02B6             ; RUN LINE NUMBER
1321   02B6             ;------------------------------------------------------------------------------
1322   02B6             RUNLIN:	PUSH	BC		; Save return address
basic2.asm line 1322: Label not found: (RUNLIN)
basic2.asm line 1322: label value misalligned.           (RUNLIN)
basic2.asm line 1322: unrecognized argument.             (RUNLIN)
1323   02B6             ;------------------------------------------------------------------------------
1324   02B6             ; GOTO
1325   02B6             ;------------------------------------------------------------------------------
basic2.asm line 1326: Label not found: (ATOH)
basic2.asm line 1326: Unused data in MS byte of argument. (2)
1326   02B6 CD 00 00    GOTO:	CALL	ATOH		; ASCII number to DE binary
basic2.asm line 1327: Label not found: (REM)
basic2.asm line 1327: Unused data in MS byte of argument. (2)
1327   02B9 CD 00 00    	CALL	REM		; Get end of line
1328   02BC             	PUSH	HL		; Save end of line
basic2.asm line 1328: unrecognized argument.             (HL)
1329   02BC             	LD	HL,(LINEAT)	; Get current line
basic2.asm line 1329: unrecognized instruction.          (LD)
basic2.asm line 1330: Label not found: (CPHLDE)
basic2.asm line 1330: Unused data in MS byte of argument. (2)
1330   02BC CD 00 00    	CALL	CPHLDE		; Line after current?
1331   02BF             	POP	HL		; Restore end of line
basic2.asm line 1331: unrecognized argument.             (HL)
1332   02BF             	INC	HL		; Start of next line
basic2.asm line 1332: unrecognized instruction.          (INC)
basic2.asm line 1333: Label not found: (C)
basic2.asm line 1333: Unknown token: (,)
basic2.asm line 1333: Unknown token.    
basic2.asm line 1333: Label not found: (SRCHLP)
basic2.asm line 1333: Unused data in MS byte of argument. (2)
1333   02BF CD 00 00    	CALL	C,SRCHLP		; Line is after current line
basic2.asm line 1334: Label not found: (NC)
basic2.asm line 1334: Unknown token: (,)
basic2.asm line 1334: Unknown token.    
basic2.asm line 1334: Label not found: (SRCHLN)
basic2.asm line 1334: Unused data in MS byte of argument. (2)
1334   02C2 CD 00 00    	CALL	NC,SRCHLN		; Line is before current line
1335   02C5             	LD	H,B		; Set up code string address
basic2.asm line 1335: unrecognized instruction.          (LD)
1336   02C5             	LD	L,C
basic2.asm line 1336: unrecognized instruction.          (LD)
1337   02C5             	DEC	HL		; Incremented after
basic2.asm line 1337: unrecognized instruction.          (DEC)
1338   02C5             	RET	C		; Line found
basic2.asm line 1338: unrecognized argument.             (C)
1339   02C5             ULERR:	LD	E,UL		; ?UL Error - Undefined Line number
basic2.asm line 1339: Label not found: (ULERR)
basic2.asm line 1339: label value misalligned.           (ULERR)
basic2.asm line 1339: unrecognized instruction.          (ULERR)
1340   02C5 F2 A3 00    	JP	ERROR		; Output error message
1341   02C8             ;------------------------------------------------------------------------------
1342   02C8             ; RETURN
1343   02C8             ;------------------------------------------------------------------------------
1344   02C8             RETURN:	RET	NZ		; Return if not just RETURN
basic2.asm line 1344: Label not found: (RETURN)
basic2.asm line 1344: label value misalligned.           (RETURN)
basic2.asm line 1344: unrecognized argument.             (RETURN)
1345   02C8             	LD	D,-1		; Flag "GOSUB" search
basic2.asm line 1345: unrecognized instruction.          (LD)
basic2.asm line 1346: Label not found: (BAKSTK)
basic2.asm line 1346: Unused data in MS byte of argument. (2)
1346   02C8 CD 00 00    	CALL	BAKSTK		; Look "GOSUB" block
1347   02CB             	LD	SP,HL		; Kill all FORs in subroutine
basic2.asm line 1347: unrecognized instruction.          (LD)
1348   02CB F4 8C 00    	CP	ZGOSUB		; Test for "GOSUB" token
1349   02CE             	LD	E,RG		; ?RG Error
basic2.asm line 1349: unrecognized instruction.          (LD)
basic2.asm line 1350: Label not found: (NZ)
basic2.asm line 1350: Unknown token: (,)
basic2.asm line 1350: Unknown token.    
1350   02CE F2 A3 00    	JP	NZ,ERROR		; Error if no "GOSUB" found
1351   02D1             	POP	HL		; Get RETURN line number
basic2.asm line 1351: unrecognized argument.             (HL)
1352   02D1             	LD	(LINEAT),HL	; Save as current
basic2.asm line 1352: unrecognized instruction.          (LD)
1353   02D1             	INC	HL		; Was it from direct statement?
basic2.asm line 1353: unrecognized instruction.          (INC)
1354   02D1             	LD	A,H
basic2.asm line 1354: unrecognized instruction.          (LD)
1355   02D1             	OR	L		; Return to line
basic2.asm line 1355: unrecognized instruction.          (OR)
basic2.asm line 1356: Label not found: (NZ)
basic2.asm line 1356: Unknown token: (,)
basic2.asm line 1356: Unknown token.    
basic2.asm line 1356: Label not found: (RETLIN)
basic2.asm line 1356: Unused data in MS byte of argument. (2)
1356   02D1 F2 00 00    	JP	NZ,RETLIN		; No - Return to line
1357   02D4             	LD	A,(LSTBIN)	; Any INPUT in subroutine?
basic2.asm line 1357: unrecognized instruction.          (LD)
1358   02D4             	OR	A		; If so buffer is corrupted
basic2.asm line 1358: unrecognized instruction.          (OR)
basic2.asm line 1359: Label not found: (NZ)
basic2.asm line 1359: Unknown token: (,)
basic2.asm line 1359: Unknown token.    
basic2.asm line 1359: Label not found: (POPNOK)
basic2.asm line 1359: Unused data in MS byte of argument. (2)
1359   02D4 F2 00 00    	JP	NZ,POPNOK		; Yes - Go to command mode
1360   02D7             RETLIN:	LD	HL,RUNCNT		; Execution driver loop
basic2.asm line 1360: Label not found: (RETLIN)
basic2.asm line 1360: label value misalligned.           (RETLIN)
basic2.asm line 1360: unrecognized instruction.          (RETLIN)
1361   02D7             	EX	(SP),HL		; Into stack - Code string out
basic2.asm line 1361: unrecognized instruction.          (EX)
1362   02D7 3E          	.BYTE	3EH		; Skip "POP HL"
1363   02D8             NXTDTA:	POP	HL		; Restore code string address
basic2.asm line 1363: Label not found: (NXTDTA)
basic2.asm line 1363: label value misalligned.           (NXTDTA)
basic2.asm line 1363: unrecognized argument.             (NXTDTA)
1364   02D8             ;------------------------------------------------------------------------------
1365   02D8             ; DATA/REM
1366   02D8             ;------------------------------------------------------------------------------
1367   02D8 01 3A       DATA:	.BYTE	$01,$3A		; ":" End of statement
1368   02DA             REM:	LD	C,0		; 00	End of statement
basic2.asm line 1368: Label not found: (REM)
basic2.asm line 1368: label value misalligned.           (REM)
basic2.asm line 1368: unrecognized instruction.          (REM)
1369   02DA             	LD	B,0
basic2.asm line 1369: unrecognized instruction.          (LD)
1370   02DA             NXTSTL:	LD	A,C		; Statement and byte
basic2.asm line 1370: Label not found: (NXTSTL)
basic2.asm line 1370: label value misalligned.           (NXTSTL)
basic2.asm line 1370: unrecognized instruction.          (NXTSTL)
1371   02DA             	LD	C,B
basic2.asm line 1371: unrecognized instruction.          (LD)
1372   02DA             	LD	B,A		; Statement end byte
basic2.asm line 1372: unrecognized instruction.          (LD)
1373   02DA             NXTSTT:	LD	A,(HL)		; Get byte
basic2.asm line 1373: Label not found: (NXTSTT)
basic2.asm line 1373: label value misalligned.           (NXTSTT)
basic2.asm line 1373: unrecognized instruction.          (NXTSTT)
1374   02DA             	OR	A		; End of line?
basic2.asm line 1374: unrecognized instruction.          (OR)
1375   02DA             	RET	Z		; Yes - Exit
basic2.asm line 1375: unrecognized argument.             (Z)
basic2.asm line 1376: Label not found: (B)
basic2.asm line 1376: Unused data in MS byte of argument. (2)
1376   02DA F4 00 00    	CP	B		; End of statement?
1377   02DD             	RET	Z		; Yes - Exit
basic2.asm line 1377: unrecognized argument.             (Z)
1378   02DD             	INC	HL		; Next byte
basic2.asm line 1378: unrecognized instruction.          (INC)
1379   02DD F4 22 00    	CP	$22		; Literal string?
1380   02E0             	JR	Z,NXTSTL		; Yes - Look for another '"'
basic2.asm line 1380: unrecognized instruction.          (JR)
1381   02E0             	JR	NXTSTT		; Keep looking
basic2.asm line 1381: unrecognized instruction.          (JR)
1382   02E0             ;------------------------------------------------------------------------------
1383   02E0             ; ASSIGN A VARIABLE
1384   02E0             ;------------------------------------------------------------------------------
basic2.asm line 1385: Label not found: (GETVAR)
basic2.asm line 1385: Unused data in MS byte of argument. (2)
1385   02E0 CD 00 00    LET:	CALL	GETVAR		; Get variable name
basic2.asm line 1386: Label not found: (CHKSYN)
basic2.asm line 1386: Unused data in MS byte of argument. (2)
1386   02E3 CD 00 00    	CALL	CHKSYN		; Make sure "=" follows
1387   02E6 B4          	.BYTE	ZEQUAL		; "=" token
1388   02E7             	PUSH	DE		; Save address of variable
basic2.asm line 1388: unrecognized argument.             (DE)
1389   02E7             	LD	A,(TYPE)		; Get data type
basic2.asm line 1389: unrecognized instruction.          (LD)
1390   02E7             	PUSH	AF		; Save type
basic2.asm line 1390: unrecognized argument.             (AF)
basic2.asm line 1391: Label not found: (EVAL)
basic2.asm line 1391: Unused data in MS byte of argument. (2)
1391   02E7 CD 00 00    	CALL	EVAL		; Evaluate expression
1392   02EA             	POP	AF		; Restore type
basic2.asm line 1392: unrecognized argument.             (AF)
1393   02EA             	EX	(SP),HL		; Save code - Get var addr
basic2.asm line 1393: unrecognized instruction.          (EX)
1394   02EA             	LD	(BRKLIN),HL	; Save address of variable
basic2.asm line 1394: unrecognized instruction.          (LD)
1395   02EA             	RRA			; Adjust type
basic2.asm line 1395: unrecognized instruction.          (RRA)
basic2.asm line 1396: Label not found: (CHKTYP)
basic2.asm line 1396: Unused data in MS byte of argument. (2)
1396   02EA CD 00 00    	CALL	CHKTYP		; Check types are the same
1397   02ED             	JR	Z,LETNUM		; Numeric - Move value
basic2.asm line 1397: unrecognized instruction.          (JR)
1398   02ED             LETSTR:	PUSH	HL		; Save address of string var
basic2.asm line 1398: Label not found: (LETSTR)
basic2.asm line 1398: label value misalligned.           (LETSTR)
basic2.asm line 1398: unrecognized argument.             (LETSTR)
1399   02ED             	LD	HL,(FPREG)	; Pointer to string entry
basic2.asm line 1399: unrecognized instruction.          (LD)
1400   02ED             	PUSH	HL		; Save it on stack
basic2.asm line 1400: unrecognized argument.             (HL)
1401   02ED             	INC	HL		; Skip over length
basic2.asm line 1401: unrecognized instruction.          (INC)
1402   02ED             	INC	HL
basic2.asm line 1402: unrecognized instruction.          (INC)
1403   02ED             	LD	E,(HL)		; LSB of string address
basic2.asm line 1403: unrecognized instruction.          (LD)
1404   02ED             	INC	HL
basic2.asm line 1404: unrecognized instruction.          (INC)
1405   02ED             	LD	D,(HL)		; MSB of string address
basic2.asm line 1405: unrecognized instruction.          (LD)
1406   02ED             	LD	HL,(BASTXT)	; Point to start of program
basic2.asm line 1406: unrecognized instruction.          (LD)
basic2.asm line 1407: Label not found: (CPHLDE)
basic2.asm line 1407: Unused data in MS byte of argument. (2)
1407   02ED CD 00 00    	CALL	CPHLDE		; Is string before program?
1408   02F0             	JR	NC,CRESTR		; Yes - Create string entry
basic2.asm line 1408: unrecognized instruction.          (JR)
1409   02F0             	LD	HL,(STRSPC)	; Point to string space
basic2.asm line 1409: unrecognized instruction.          (LD)
basic2.asm line 1410: Label not found: (CPHLDE)
basic2.asm line 1410: Unused data in MS byte of argument. (2)
1410   02F0 CD 00 00    	CALL	CPHLDE		; Is string literal in program?
1411   02F3             	POP	DE		; Restore address of string
basic2.asm line 1411: unrecognized argument.             (DE)
1412   02F3             	JR	NC,MVSTPT		; Yes - Set up pointer
basic2.asm line 1412: unrecognized instruction.          (JR)
1413   02F3             	LD	HL,TMPSTR		; Temporary string pool
basic2.asm line 1413: unrecognized instruction.          (LD)
basic2.asm line 1414: Label not found: (CPHLDE)
basic2.asm line 1414: Unused data in MS byte of argument. (2)
1414   02F3 CD 00 00    	CALL	CPHLDE		; Is string in temporary pool?
1415   02F6             	JR	NC,MVSTPT		; No - Set up pointer
basic2.asm line 1415: unrecognized instruction.          (JR)
1416   02F6 3E          	.BYTE	$3E		; Skip "POP DE"
1417   02F7             CRESTR:	POP	DE		; Restore address of string
basic2.asm line 1417: Label not found: (CRESTR)
basic2.asm line 1417: label value misalligned.           (CRESTR)
basic2.asm line 1417: unrecognized argument.             (CRESTR)
basic2.asm line 1418: Label not found: (BAKTMP)
basic2.asm line 1418: Unused data in MS byte of argument. (2)
1418   02F7 CD 00 00    	CALL	BAKTMP		; Back to last tmp-str entry
1419   02FA             	EX	DE,HL		; Address of string entry
basic2.asm line 1419: unrecognized instruction.          (EX)
basic2.asm line 1420: Label not found: (SAVSTR)
basic2.asm line 1420: Unused data in MS byte of argument. (2)
1420   02FA CD 00 00    	CALL	SAVSTR		; Save string in string area
basic2.asm line 1421: Label not found: (BAKTMP)
basic2.asm line 1421: Unused data in MS byte of argument. (2)
1421   02FD CD 00 00    MVSTPT:	CALL	BAKTMP		; Back to last tmp-str entry
1422   0300             	POP	HL		; Get string pointer
basic2.asm line 1422: unrecognized argument.             (HL)
basic2.asm line 1423: Label not found: (DETHL4)
basic2.asm line 1423: Unused data in MS byte of argument. (2)
1423   0300 CD 00 00    	CALL	DETHL4		; Move string pointer to var
1424   0303             	POP	HL		; Restore code string address
basic2.asm line 1424: unrecognized argument.             (HL)
1425   0303 C9          	RET
1426   0304             
1427   0304             LETNUM:	PUSH	HL		; Save address of variable
basic2.asm line 1427: Label not found: (LETNUM)
basic2.asm line 1427: label value misalligned.           (LETNUM)
basic2.asm line 1427: unrecognized argument.             (LETNUM)
basic2.asm line 1428: Label not found: (FPTHL)
basic2.asm line 1428: Unused data in MS byte of argument. (2)
1428   0304 CD 00 00    	CALL	FPTHL		; Move value to variable
1429   0307             	POP	DE		; Restore address of variable
basic2.asm line 1429: unrecognized argument.             (DE)
1430   0307             	POP	HL		; Restore code string address
basic2.asm line 1430: unrecognized argument.             (HL)
1431   0307 C9          	RET
1432   0308             ;------------------------------------------------------------------------------
1433   0308             ; ON Gosub/Goto
1434   0308             ;------------------------------------------------------------------------------
1435   0308 CD 21 07    ON:	CALL	GETINT		; Get integer 0-255
1436   030B             	LD	A,(HL)		; Get "GOTO" or "GOSUB" token
basic2.asm line 1436: unrecognized instruction.          (LD)
1437   030B             	LD	B,A		; Save in B
basic2.asm line 1437: unrecognized instruction.          (LD)
1438   030B F4 8C 00    	CP	ZGOSUB		; "GOSUB" token?
1439   030E             	JR	Z,ONGO		; Yes - Find line number
basic2.asm line 1439: unrecognized instruction.          (JR)
basic2.asm line 1440: Label not found: (CHKSYN)
basic2.asm line 1440: Unused data in MS byte of argument. (2)
1440   030E CD 00 00    	CALL	CHKSYN		; Make sure it's "GOTO"
1441   0311 88          	.BYTE	ZGOTO		; "GOTO" token
1442   0312             	DEC	HL		; Cancel increment
basic2.asm line 1442: unrecognized instruction.          (DEC)
1443   0312             ONGO:	LD	C,E		; Integer of branch value
basic2.asm line 1443: Label not found: (ONGO)
basic2.asm line 1443: label value misalligned.           (ONGO)
basic2.asm line 1443: unrecognized instruction.          (ONGO)
1444   0312             ONGOLP:	DEC	C		; Count branches
basic2.asm line 1444: Label not found: (ONGOLP)
basic2.asm line 1444: label value misalligned.           (ONGOLP)
basic2.asm line 1444: unrecognized instruction.          (ONGOLP)
1445   0312             	LD	A,B		; Get "GOTO" or "GOSUB" token
basic2.asm line 1445: unrecognized instruction.          (LD)
basic2.asm line 1446: Label not found: (Z)
basic2.asm line 1446: Unknown token: (,)
basic2.asm line 1446: Unknown token.    
basic2.asm line 1446: Label not found: (ONJMP)
basic2.asm line 1446: Unused data in MS byte of argument. (2)
1446   0312 F2 00 00    	JP	Z,ONJMP		; Go to that line if right one
basic2.asm line 1447: Label not found: (GETLN)
basic2.asm line 1447: Unused data in MS byte of argument. (2)
1447   0315 CD 00 00    	CALL	GETLN		; Get line number to DE
1448   0318 F4 2C 00    	CP	','		; Another line number?
1449   031B             	RET	NZ		; No - Drop through
basic2.asm line 1449: unrecognized argument.             (NZ)
1450   031B             	JR	ONGOLP		; Yes - loop
basic2.asm line 1450: unrecognized instruction.          (JR)
1451   031B             ;------------------------------------------------------------------------------
1452   031B             ; IF/THEN
1453   031B             ;------------------------------------------------------------------------------
basic2.asm line 1454: Label not found: (EVAL)
basic2.asm line 1454: Unused data in MS byte of argument. (2)
1454   031B CD 00 00    IF:	CALL	EVAL		; Evaluate expression
1455   031E             	LD	A,(HL)		; Get token
basic2.asm line 1455: unrecognized instruction.          (LD)
1456   031E F4 88 00    	CP	ZGOTO		; "GOTO" token?
1457   0321             	JR	Z,IFGO		; Yes - Get line
basic2.asm line 1457: unrecognized instruction.          (JR)
basic2.asm line 1458: Label not found: (CHKSYN)
basic2.asm line 1458: Unused data in MS byte of argument. (2)
1458   0321 CD 00 00    	CALL	CHKSYN		; Make sure it's "THEN"
1459   0324 A9          	.BYTE	ZTHEN		; "THEN" token
1460   0325             	DEC	HL		; Cancel increment
basic2.asm line 1460: unrecognized instruction.          (DEC)
1461   0325 CD 2E 04    IFGO:	CALL	TSTNUM		; Make sure it's numeric
basic2.asm line 1462: Label not found: (TSTSGN)
basic2.asm line 1462: Unused data in MS byte of argument. (2)
1462   0328 CD 00 00    	CALL	TSTSGN		; Test state of expression
basic2.asm line 1463: Label not found: (Z)
basic2.asm line 1463: Unknown token: (,)
basic2.asm line 1463: Unknown token.    
basic2.asm line 1463: Label not found: (REM)
basic2.asm line 1463: Unused data in MS byte of argument. (2)
1463   032B F2 00 00    	JP	Z,REM		; False - Drop through
basic2.asm line 1464: Label not found: (GETCHR)
basic2.asm line 1464: Unused data in MS byte of argument. (2)
1464   032E CD 00 00    	CALL	GETCHR		; Get next character
basic2.asm line 1465: Label not found: (C)
basic2.asm line 1465: Unknown token: (,)
basic2.asm line 1465: Unknown token.    
1465   0331 F2 B6 02    	JP	C,GOTO		; Number - GOTO that line
basic2.asm line 1466: Label not found: (IFJMP)
basic2.asm line 1466: Unused data in MS byte of argument. (2)
1466   0334 F2 00 00    	JP	IFJMP		; Otherwise do statement
1467   0337             ;------------------------------------------------------------------------------
1468   0337             ; PRINTing routines
1469   0337             ;------------------------------------------------------------------------------
1470   0337             MRPRNT:	DEC	HL		; DEC 'cos GETCHR INCs
basic2.asm line 1470: Label not found: (MRPRNT)
basic2.asm line 1470: label value misalligned.           (MRPRNT)
basic2.asm line 1470: unrecognized instruction.          (MRPRNT)
basic2.asm line 1471: Label not found: (GETCHR)
basic2.asm line 1471: Unused data in MS byte of argument. (2)
1471   0337 CD 00 00    	CALL	GETCHR		; Get next character
basic2.asm line 1472: Label not found: (Z)
basic2.asm line 1472: Unknown token: (,)
basic2.asm line 1472: Unknown token.    
basic2.asm line 1472: Label not found: (PRNTCR)
basic2.asm line 1472: Unused data in MS byte of argument. (2)
1472   033A F2 00 00    PRINT:	JP	Z,PRNTCR		; CRLF if just PRINT
1473   033D             PRNTLP:	RET	Z		; End of list - Exit
basic2.asm line 1473: Label not found: (PRNTLP)
basic2.asm line 1473: label value misalligned.           (PRNTLP)
basic2.asm line 1473: unrecognized argument.             (PRNTLP)
1474   033D F4 A5 00    	CP	ZTAB		; "TAB(" token?
basic2.asm line 1475: Label not found: (Z)
basic2.asm line 1475: Unknown token: (,)
basic2.asm line 1475: Unknown token.    
basic2.asm line 1475: Label not found: (DOTAB)
basic2.asm line 1475: Unused data in MS byte of argument. (2)
1475   0340 F2 00 00    	JP	Z,DOTAB		; Yes - Do TAB routine
1476   0343 F4 A8 00    	CP	ZSPC		; "SPC(" token?
basic2.asm line 1477: Label not found: (Z)
basic2.asm line 1477: Unknown token: (,)
basic2.asm line 1477: Unknown token.    
basic2.asm line 1477: Label not found: (DOTAB)
basic2.asm line 1477: Unused data in MS byte of argument. (2)
1477   0346 F2 00 00    	JP	Z,DOTAB		; Yes - Do SPC routine
1478   0349             	PUSH	HL		; Save code string address
basic2.asm line 1478: unrecognized argument.             (HL)
1479   0349 F4 2C 00    	CP	','		; Comma?
basic2.asm line 1480: Label not found: (Z)
basic2.asm line 1480: Unknown token: (,)
basic2.asm line 1480: Unknown token.    
basic2.asm line 1480: Label not found: (DOCOM)
basic2.asm line 1480: Unused data in MS byte of argument. (2)
1480   034C F2 00 00    	JP	Z,DOCOM		; Yes - Move to next zone
1481   034F F4 3B 00    	CP	$3B		; Semi-colon?
basic2.asm line 1482: Label not found: (Z)
basic2.asm line 1482: Unknown token: (,)
basic2.asm line 1482: Unknown token.    
basic2.asm line 1482: Label not found: (NEXITM)
basic2.asm line 1482: Unused data in MS byte of argument. (2)
1482   0352 F2 00 00    	JP	Z,NEXITM		; Do semi-colon routine
1483   0355             	POP	BC		; Code string address to BC
basic2.asm line 1483: unrecognized argument.             (BC)
basic2.asm line 1484: Label not found: (EVAL)
basic2.asm line 1484: Unused data in MS byte of argument. (2)
1484   0355 CD 00 00    	CALL	EVAL		; Evaluate expression
1485   0358             	PUSH	HL		; Save code string address
basic2.asm line 1485: unrecognized argument.             (HL)
1486   0358             	LD	A,(TYPE)		; Get variable type
basic2.asm line 1486: unrecognized instruction.          (LD)
1487   0358             	OR	A		; Is it a string variable?
basic2.asm line 1487: unrecognized instruction.          (OR)
1488   0358             	JR	NZ,PRNTST		; Yes - Output string contents
basic2.asm line 1488: unrecognized instruction.          (JR)
basic2.asm line 1489: Label not found: (NUMASC)
basic2.asm line 1489: Unused data in MS byte of argument. (2)
1489   0358 CD 00 00    	CALL	NUMASC		; Convert number to text
basic2.asm line 1490: Label not found: (CRTST)
basic2.asm line 1490: Unused data in MS byte of argument. (2)
1490   035B CD 00 00    	CALL	CRTST		; Create temporary string
1491   035E             	LD	(HL),$20		; Followed by a space
basic2.asm line 1491: unrecognized instruction.          (LD)
1492   035E             	LD	HL,(FPREG)	; Get length of output
basic2.asm line 1492: unrecognized instruction.          (LD)
1493   035E             	INC	(HL)		; Plus 1 for the space
basic2.asm line 1493: unrecognized instruction.          (INC)
1494   035E             	LD	HL,(FPREG)	; < Not needed >
basic2.asm line 1494: unrecognized instruction.          (LD)
1495   035E             	LD	A,(LWIDTH)	; Get width of line
basic2.asm line 1495: unrecognized instruction.          (LD)
1496   035E             	LD	B,A		; To B
basic2.asm line 1496: unrecognized instruction.          (LD)
1497   035E             	INC	B		; Width 255 (No limit)?
basic2.asm line 1497: unrecognized instruction.          (INC)
1498   035E             	JR	Z,PRNTNB		; Yes - Output number string
basic2.asm line 1498: unrecognized instruction.          (JR)
1499   035E             	INC	B		; Adjust it
basic2.asm line 1499: unrecognized instruction.          (INC)
1500   035E             	LD	A,(CURPOS)	; Get cursor position
basic2.asm line 1500: unrecognized instruction.          (LD)
1501   035E             	ADD	A,(HL)		; Add length of string
basic2.asm line 1501: unrecognized argument.             (A,(HL))
1502   035E             	DEC	A		; Adjust it
basic2.asm line 1502: unrecognized instruction.          (DEC)
basic2.asm line 1503: Label not found: (B)
basic2.asm line 1503: Unused data in MS byte of argument. (2)
1503   035E F4 00 00    	CP	B		; Will output fit on this line?
basic2.asm line 1504: Label not found: (NC)
basic2.asm line 1504: Unknown token: (,)
basic2.asm line 1504: Unknown token.    
basic2.asm line 1504: Label not found: (PRNTCR)
basic2.asm line 1504: Unused data in MS byte of argument. (2)
1504   0361 CD 00 00    	CALL	NC,PRNTCR		; No - CRLF first
1505   0364 CD 2D 06    PRNTNB:	CALL	PRS1		; Output string at (HL)
1506   0367             	XOR	A		; Skip CALL by setting "Z" flag
basic2.asm line 1506: unrecognized instruction.          (XOR)
basic2.asm line 1507: Label not found: (NZ)
basic2.asm line 1507: Unknown token: (,)
basic2.asm line 1507: Unknown token.    
1507   0367 CD 2D 06    PRNTST:	CALL	NZ,PRS1		; Output string at (HL)
1508   036A             	POP	HL		; Restore code string address
basic2.asm line 1508: unrecognized argument.             (HL)
basic2.asm line 1509: Label not found: (MRPRNT)
basic2.asm line 1509: Unused data in MS byte of argument. (2)
1509   036A F2 00 00    	JP	MRPRNT		; See if more to PRINT
1510   036D             ;------------------------------------------------------------------------------
1511   036D             ; PRINT A NEW LINE
1512   036D             ;------------------------------------------------------------------------------
1513   036D             STTLIN:	LD	A,(CURPOS)	; Make sure on new line
basic2.asm line 1513: Label not found: (STTLIN)
basic2.asm line 1513: label value misalligned.           (STTLIN)
basic2.asm line 1513: unrecognized instruction.          (STTLIN)
1514   036D             	OR	A		; Already at start?
basic2.asm line 1514: unrecognized instruction.          (OR)
1515   036D             	RET	Z		; Yes - Do nothing
basic2.asm line 1515: unrecognized argument.             (Z)
1516   036D             	JR	PRNTCR		; Start a new line
basic2.asm line 1516: unrecognized instruction.          (JR)
1517   036D             ;------------------------------------------------------------------------------
1518   036D             ENDINP:	LD	(HL),0		; Mark end of buffer
basic2.asm line 1518: Label not found: (ENDINP)
basic2.asm line 1518: label value misalligned.           (ENDINP)
basic2.asm line 1518: unrecognized instruction.          (ENDINP)
1519   036D             	LD	HL,BUFFER-1		; Point to buffer
basic2.asm line 1519: unrecognized instruction.          (LD)
1520   036D             PRNTCR:	LD	A,CR		; Load a CR
basic2.asm line 1520: Label not found: (PRNTCR)
basic2.asm line 1520: label value misalligned.           (PRNTCR)
basic2.asm line 1520: unrecognized instruction.          (PRNTCR)
basic2.asm line 1521: Label not found: (OUTC)
basic2.asm line 1521: Unused data in MS byte of argument. (2)
1521   036D CD 00 00    	CALL	OUTC		; Output character
1522   0370             	LD	A,LF		; Load a LF
basic2.asm line 1522: unrecognized instruction.          (LD)
basic2.asm line 1523: Label not found: (OUTC)
basic2.asm line 1523: Unused data in MS byte of argument. (2)
1523   0370 CD 00 00    	CALL	OUTC		; Output character
1524   0373             DONULL:	XOR	A		; Set to position 0
basic2.asm line 1524: Label not found: (DONULL)
basic2.asm line 1524: label value misalligned.           (DONULL)
basic2.asm line 1524: unrecognized instruction.          (DONULL)
1525   0373             	LD	(CURPOS),A	; Store it
basic2.asm line 1525: unrecognized instruction.          (LD)
1526   0373             	LD	A,(NULLS)		; Get number of nulls
basic2.asm line 1526: unrecognized instruction.          (LD)
1527   0373             NULLP:	DEC	A		; Count them
basic2.asm line 1527: Label not found: (NULLP)
basic2.asm line 1527: label value misalligned.           (NULLP)
basic2.asm line 1527: unrecognized instruction.          (NULLP)
1528   0373             	RET	Z		; Return if done
basic2.asm line 1528: unrecognized argument.             (Z)
1529   0373             	PUSH	AF		; Save count
basic2.asm line 1529: unrecognized argument.             (AF)
1530   0373             	XOR	A		; Load a null
basic2.asm line 1530: unrecognized instruction.          (XOR)
basic2.asm line 1531: Label not found: (OUTC)
basic2.asm line 1531: Unused data in MS byte of argument. (2)
1531   0373 CD 00 00    	CALL	OUTC		; Output it
1532   0376             	POP	AF		; Restore count
basic2.asm line 1532: unrecognized argument.             (AF)
1533   0376             	JR	NULLP		; Keep counting
basic2.asm line 1533: unrecognized instruction.          (JR)
1534   0376             ;------------------------------------------------------------------------------
1535   0376             ; PROCESS COMMA FOR SPACING
1536   0376             ;------------------------------------------------------------------------------
1537   0376             DOCOM:	LD	A,(LWIDTH)	; Get terminal width
basic2.asm line 1537: Label not found: (DOCOM)
basic2.asm line 1537: label value misalligned.           (DOCOM)
basic2.asm line 1537: unrecognized instruction.          (DOCOM)
1538   0376             	LD	B,A		; Save in B
basic2.asm line 1538: unrecognized instruction.          (LD)
1539   0376             	LD	A,(CURPOS)	; Get current position
basic2.asm line 1539: unrecognized instruction.          (LD)
1540   0376             	LD	C,A		; Save in C
basic2.asm line 1540: unrecognized instruction.          (LD)
1541   0376             	LD	A,(COMMAN)	; Get comma width
basic2.asm line 1541: unrecognized instruction.          (LD)
1542   0376             	ADD	A,C		; Add to current cursor location
basic2.asm line 1542: unrecognized argument.             (A,C)
basic2.asm line 1543: Label not found: (B)
basic2.asm line 1543: Unused data in MS byte of argument. (2)
1543   0376 F4 00 00    	CP	B		; Within the terminal width limit?
basic2.asm line 1544: Label not found: (NC)
basic2.asm line 1544: Unknown token: (,)
basic2.asm line 1544: Unknown token.    
basic2.asm line 1544: Label not found: (PRNTCR)
basic2.asm line 1544: Unused data in MS byte of argument. (2)
1544   0379 CD 00 00    	CALL	NC,PRNTCR		; Beyond limit - output CRLF
1545   037C             	JR	NC,NEXITM		; Get next item
basic2.asm line 1545: unrecognized instruction.          (JR)
1546   037C             ZONELP:	SUB	5		; Next zone of 5 characters
basic2.asm line 1546: Label not found: (ZONELP)
basic2.asm line 1546: label value misalligned.           (ZONELP)
basic2.asm line 1546: unrecognized argument.             (ZONELP)
1547   037C             	JR	NC,ZONELP		; Repeat if more zones
basic2.asm line 1547: unrecognized instruction.          (JR)
1548   037C             	CPL			; Number of spaces to output
basic2.asm line 1548: unrecognized instruction.          (CPL)
1549   037C             	JR	ASPCS		; Output them
basic2.asm line 1549: unrecognized instruction.          (JR)
1550   037C             ;------------------------------------------------------------------------------
1551   037C             ; PROCESS "TAB(X)" FOR SPACING
1552   037C             ;------------------------------------------------------------------------------
1553   037C             DOTAB:	PUSH	AF		; Save token
basic2.asm line 1553: Label not found: (DOTAB)
basic2.asm line 1553: label value misalligned.           (DOTAB)
basic2.asm line 1553: unrecognized argument.             (DOTAB)
1554   037C CD 1E 07    	CALL	FNDNUM		; Evaluate expression
basic2.asm line 1555: Label not found: (CHKSYN)
basic2.asm line 1555: Unused data in MS byte of argument. (2)
1555   037F CD 00 00    	CALL	CHKSYN		; Make sure ")" follows
1556   0382 29          	.BYTE	")"
1557   0383             	DEC	HL		; Back space on to ")"
basic2.asm line 1557: unrecognized instruction.          (DEC)
1558   0383             	POP	AF		; Restore token
basic2.asm line 1558: unrecognized argument.             (AF)
1559   0383             	SUB	ZSPC		; Was it "SPC(" ?
basic2.asm line 1559: unrecognized argument.             (ZSPC)
1560   0383             	PUSH	HL		; Save code string address
basic2.asm line 1560: unrecognized argument.             (HL)
1561   0383             	JR	Z,DOSPC		; Yes - Do "E" spaces
basic2.asm line 1561: unrecognized instruction.          (JR)
1562   0383             	LD	A,(CURPOS)	; Get current position
basic2.asm line 1562: unrecognized instruction.          (LD)
1563   0383             DOSPC:	CPL			; Number of spaces to print to
basic2.asm line 1563: Label not found: (DOSPC)
basic2.asm line 1563: label value misalligned.           (DOSPC)
basic2.asm line 1563: unrecognized instruction.          (DOSPC)
1564   0383             	ADD	A,E		; Total number to print
basic2.asm line 1564: unrecognized argument.             (A,E)
1565   0383             	JR	NC,NEXITM		; TAB < Current POS(X)
basic2.asm line 1565: unrecognized instruction.          (JR)
1566   0383             ASPCS:	INC	A		; Output A spaces
basic2.asm line 1566: Label not found: (ASPCS)
basic2.asm line 1566: label value misalligned.           (ASPCS)
basic2.asm line 1566: unrecognized instruction.          (ASPCS)
1567   0383             	LD	B,A		; Save number to print
basic2.asm line 1567: unrecognized instruction.          (LD)
1568   0383             	LD	A,$20		; Space
basic2.asm line 1568: unrecognized instruction.          (LD)
basic2.asm line 1569: Label not found: (OUTC)
basic2.asm line 1569: Unused data in MS byte of argument. (2)
1569   0383 CD 00 00    SPCLP:	CALL	OUTC		; Output character in A
1570   0386             	DEC	B		; Count them
basic2.asm line 1570: unrecognized instruction.          (DEC)
1571   0386             	JR	NZ,SPCLP		; Repeat if more
basic2.asm line 1571: unrecognized instruction.          (JR)
1572   0386             NEXITM:	POP	HL		; Restore code string address
basic2.asm line 1572: Label not found: (NEXITM)
basic2.asm line 1572: label value misalligned.           (NEXITM)
basic2.asm line 1572: unrecognized argument.             (NEXITM)
basic2.asm line 1573: Label not found: (GETCHR)
basic2.asm line 1573: Unused data in MS byte of argument. (2)
1573   0386 CD 00 00    	CALL	GETCHR		; Get next character
basic2.asm line 1574: Label not found: (PRNTLP)
basic2.asm line 1574: Unused data in MS byte of argument. (2)
1574   0389 F2 00 00    	JP	PRNTLP		; More to print
1575   038C             ;------------------------------------------------------------------------------
1576   038C             ; INPUT
1577   038C             ;------------------------------------------------------------------------------
basic2.asm line 1578: Label not found: (IDTEST)
basic2.asm line 1578: Unused data in MS byte of argument. (2)
1578   038C CD 00 00    INPUT:	CALL	IDTEST		; Test for illegal direct
1579   038F             	LD	A,(HL)		; Get character after "INPUT"
basic2.asm line 1579: unrecognized instruction.          (LD)
1580   038F F4 22 00    	CP	$22		; Is there a prompt string?
1581   0392             	LD	A,0		; Clear A and leave flags
basic2.asm line 1581: unrecognized instruction.          (LD)
1582   0392             	LD	(CTLOFG),A	; Enable output
basic2.asm line 1582: unrecognized instruction.          (LD)
1583   0392             	JR	NZ,NOPMPT		; No prompt - get input
basic2.asm line 1583: unrecognized instruction.          (JR)
basic2.asm line 1584: Label not found: (QTSTR)
basic2.asm line 1584: Unused data in MS byte of argument. (2)
1584   0392 CD 00 00    	CALL	QTSTR		; Get string terminated by '"'
basic2.asm line 1585: Label not found: (CHKSYN)
basic2.asm line 1585: Unused data in MS byte of argument. (2)
1585   0395 CD 00 00    	CALL	CHKSYN		; Check for ";" after prompt
1586   0398 3B          	.BYTE	$3B		; SEMI COLON
1587   0399             	PUSH	HL		; Save code string address
basic2.asm line 1587: unrecognized argument.             (HL)
1588   0399 CD 2D 06    	CALL	PRS1		; Output prompt string
1589   039C 3E          	.BYTE	$3E		; Skip "PUSH HL"
1590   039D             NOPMPT:	PUSH	HL		; Save code string address
basic2.asm line 1590: Label not found: (NOPMPT)
basic2.asm line 1590: label value misalligned.           (NOPMPT)
basic2.asm line 1590: unrecognized argument.             (NOPMPT)
basic2.asm line 1591: Label not found: (PROMPT)
basic2.asm line 1591: Unused data in MS byte of argument. (2)
1591   039D CD 00 00    	CALL	PROMPT		; Get input with "? " prompt
1592   03A0             	POP	BC		; Restore code string address
basic2.asm line 1592: unrecognized argument.             (BC)
basic2.asm line 1593: Label not found: (C)
basic2.asm line 1593: Unknown token: (,)
basic2.asm line 1593: Unknown token.    
basic2.asm line 1593: Label not found: (INPBRK)
basic2.asm line 1593: Unused data in MS byte of argument. (2)
1593   03A0 F2 00 00    	JP	C,INPBRK		; Break pressed - Exit
1594   03A3             	INC	HL		; Next byte
basic2.asm line 1594: unrecognized instruction.          (INC)
1595   03A3             	LD	A,(HL)		; Get it
basic2.asm line 1595: unrecognized instruction.          (LD)
1596   03A3             	OR	A		; End of line?
basic2.asm line 1596: unrecognized instruction.          (OR)
1597   03A3             	DEC	HL		; Back again
basic2.asm line 1597: unrecognized instruction.          (DEC)
1598   03A3             	PUSH	BC		; Re-save code string address
basic2.asm line 1598: unrecognized argument.             (BC)
basic2.asm line 1599: Label not found: (Z)
basic2.asm line 1599: Unknown token: (,)
basic2.asm line 1599: Unknown token.    
basic2.asm line 1599: Label not found: (NXTDTA)
basic2.asm line 1599: Unused data in MS byte of argument. (2)
1599   03A3 F2 00 00    	JP	Z,NXTDTA		; Yes - Find next DATA stmt
1600   03A6             	LD	(HL),','		; Store comma as separator
basic2.asm line 1600: unrecognized instruction.          (LD)
basic2.asm line 1601: Label not found: (NXTITM)
basic2.asm line 1601: Unused data in MS byte of argument. (2)
1601   03A6 F2 00 00    	JP	NXTITM		; Get next item
1602   03A9             ;------------------------------------------------------------------------------
1603   03A9             ; READ data
1604   03A9             ;------------------------------------------------------------------------------
1605   03A9             READ:	PUSH	HL		; Save code string address
basic2.asm line 1605: Label not found: (READ)
basic2.asm line 1605: label value misalligned.           (READ)
basic2.asm line 1605: unrecognized argument.             (READ)
1606   03A9             	LD	HL,(NXTDAT)	; Next DATA statement
basic2.asm line 1606: unrecognized instruction.          (LD)
1607   03A9 F6          	.BYTE	$F6		; Flag "READ"
1608   03AA             NXTITM:	XOR	A		; Flag "INPUT"
basic2.asm line 1608: Label not found: (NXTITM)
basic2.asm line 1608: label value misalligned.           (NXTITM)
basic2.asm line 1608: unrecognized instruction.          (NXTITM)
1609   03AA             	LD	(READFG),A	; Save "READ"/"INPUT" flag
basic2.asm line 1609: unrecognized instruction.          (LD)
1610   03AA             	EX	(SP),HL		; Get code str' , Save pointer
basic2.asm line 1610: unrecognized instruction.          (EX)
1611   03AA             	JR	GTVLUS		; Get values
basic2.asm line 1611: unrecognized instruction.          (JR)
1612   03AA             
basic2.asm line 1613: Label not found: (CHKSYN)
basic2.asm line 1613: Unused data in MS byte of argument. (2)
1613   03AA CD 00 00    NEDMOR:	CALL	CHKSYN		; Check for comma between items
1614   03AD 2C          	.BYTE	','
basic2.asm line 1615: Label not found: (GETVAR)
basic2.asm line 1615: Unused data in MS byte of argument. (2)
1615   03AE CD 00 00    GTVLUS:	CALL	GETVAR		; Get variable name
1616   03B1             	EX	(SP),HL		; Save code str" , Get pointer
basic2.asm line 1616: unrecognized instruction.          (EX)
1617   03B1             	PUSH	DE		; Save variable address
basic2.asm line 1617: unrecognized argument.             (DE)
1618   03B1             	LD	A,(HL)		; Get next "INPUT"/"DATA" byte
basic2.asm line 1618: unrecognized instruction.          (LD)
1619   03B1 F4 2C 00    	CP	','		; Comma?
1620   03B4             	JR	Z,ANTVLU		; Yes - Get another value
basic2.asm line 1620: unrecognized instruction.          (JR)
1621   03B4             	LD	A,(READFG)	; Is it READ?
basic2.asm line 1621: unrecognized instruction.          (LD)
1622   03B4             	OR	A
basic2.asm line 1622: unrecognized instruction.          (OR)
basic2.asm line 1623: Label not found: (NZ)
basic2.asm line 1623: Unknown token: (,)
basic2.asm line 1623: Unknown token.    
1623   03B4 F2 EB 03    	JP	NZ,FDTLP		; Yes - Find next DATA stmt
1624   03B7             	LD	A,'?'		; More INPUT needed
basic2.asm line 1624: unrecognized instruction.          (LD)
basic2.asm line 1625: Label not found: (OUTC)
basic2.asm line 1625: Unused data in MS byte of argument. (2)
1625   03B7 CD 00 00    	CALL	OUTC		; Output character
basic2.asm line 1626: Label not found: (PROMPT)
basic2.asm line 1626: Unused data in MS byte of argument. (2)
1626   03BA CD 00 00    	CALL	PROMPT		; Get INPUT with prompt
1627   03BD             	POP	DE		; Variable address
basic2.asm line 1627: unrecognized argument.             (DE)
1628   03BD             	POP	BC		; Code string address
basic2.asm line 1628: unrecognized argument.             (BC)
basic2.asm line 1629: Label not found: (C)
basic2.asm line 1629: Unknown token: (,)
basic2.asm line 1629: Unknown token.    
basic2.asm line 1629: Label not found: (INPBRK)
basic2.asm line 1629: Unused data in MS byte of argument. (2)
1629   03BD F2 00 00    	JP	C,INPBRK		; Break pressed
1630   03C0             	INC	HL		; Point to next DATA byte
basic2.asm line 1630: unrecognized instruction.          (INC)
1631   03C0             	LD	A,(HL)		; Get byte
basic2.asm line 1631: unrecognized instruction.          (LD)
1632   03C0             	OR	A		; Is it zero (No input) ?
basic2.asm line 1632: unrecognized instruction.          (OR)
1633   03C0             	DEC	HL		; Back space INPUT pointer
basic2.asm line 1633: unrecognized instruction.          (DEC)
1634   03C0             	PUSH	BC		; Save code string address
basic2.asm line 1634: unrecognized argument.             (BC)
basic2.asm line 1635: Label not found: (Z)
basic2.asm line 1635: Unknown token: (,)
basic2.asm line 1635: Unknown token.    
basic2.asm line 1635: Label not found: (NXTDTA)
basic2.asm line 1635: Unused data in MS byte of argument. (2)
1635   03C0 F2 00 00    	JP	Z,NXTDTA		; Find end of buffer
1636   03C3             	PUSH	DE		; Save variable address
basic2.asm line 1636: unrecognized argument.             (DE)
1637   03C3             ANTVLU:	LD	A,(TYPE)		; Check data type
basic2.asm line 1637: Label not found: (ANTVLU)
basic2.asm line 1637: label value misalligned.           (ANTVLU)
basic2.asm line 1637: unrecognized instruction.          (ANTVLU)
1638   03C3             	OR	A		; Is it numeric?
basic2.asm line 1638: unrecognized instruction.          (OR)
1639   03C3             	JR	Z,INPBIN		; Yes - Convert to binary
basic2.asm line 1639: unrecognized instruction.          (JR)
basic2.asm line 1640: Label not found: (GETCHR)
basic2.asm line 1640: Unused data in MS byte of argument. (2)
1640   03C3 CD 00 00    	CALL	GETCHR		; Get next character
1641   03C6             	LD	D,A		; Save input character
basic2.asm line 1641: unrecognized instruction.          (LD)
1642   03C6             	LD	B,A		; Again
basic2.asm line 1642: unrecognized instruction.          (LD)
1643   03C6 F4 22 00    	CP	$22		; Start of literal sting?
1644   03C9             	JR	Z,STRENT		; Yes - Create string entry
basic2.asm line 1644: unrecognized instruction.          (JR)
1645   03C9             	LD	A,(READFG)	; "READ" or "INPUT" ?
basic2.asm line 1645: unrecognized instruction.          (LD)
1646   03C9             	OR	A
basic2.asm line 1646: unrecognized instruction.          (OR)
1647   03C9             	LD	D,A		; Save 00 if "INPUT"
basic2.asm line 1647: unrecognized instruction.          (LD)
1648   03C9             	JR	Z,ITMSEP		; "INPUT" - End with 00
basic2.asm line 1648: unrecognized instruction.          (JR)
1649   03C9             	LD	D,$3A		; "DATA" - End with 00 or ":"
basic2.asm line 1649: unrecognized instruction.          (LD)
1650   03C9             ITMSEP:	LD	B,','		; Item separator
basic2.asm line 1650: Label not found: (ITMSEP)
basic2.asm line 1650: label value misalligned.           (ITMSEP)
basic2.asm line 1650: unrecognized instruction.          (ITMSEP)
1651   03C9             	DEC	HL		; Back space for DTSTR
basic2.asm line 1651: unrecognized instruction.          (DEC)
basic2.asm line 1652: Label not found: (DTSTR)
basic2.asm line 1652: Unused data in MS byte of argument. (2)
1652   03C9 CD 00 00    STRENT:	CALL	DTSTR		; Get string terminated by D
1653   03CC             	EX	DE,HL		; String address to DE
basic2.asm line 1653: unrecognized instruction.          (EX)
1654   03CC             	LD	HL,LTSTND		; Where to go after LETSTR
basic2.asm line 1654: unrecognized instruction.          (LD)
1655   03CC             	EX	(SP),HL		; Save HL , get input pointer
basic2.asm line 1655: unrecognized instruction.          (EX)
1656   03CC             	PUSH	DE		; Save address of string
basic2.asm line 1656: unrecognized argument.             (DE)
basic2.asm line 1657: Label not found: (LETSTR)
basic2.asm line 1657: Unused data in MS byte of argument. (2)
1657   03CC F2 00 00    	JP	LETSTR		; Assign string to variable
1658   03CF             
basic2.asm line 1659: Label not found: (GETCHR)
basic2.asm line 1659: Unused data in MS byte of argument. (2)
1659   03CF CD 00 00    INPBIN:	CALL	GETCHR		; Get next character
1660   03D2 CD 75 08    	CALL	ASCTFP		; Convert ASCII to FP number
1661   03D5             	EX	(SP),HL		; Save input ptr, Get var addr
basic2.asm line 1661: unrecognized instruction.          (EX)
basic2.asm line 1662: Label not found: (FPTHL)
basic2.asm line 1662: Unused data in MS byte of argument. (2)
1662   03D5 CD 00 00    	CALL	FPTHL		; Move FPREG to variable
1663   03D8             	POP	HL		; Restore input pointer
basic2.asm line 1663: unrecognized argument.             (HL)
1664   03D8             LTSTND:	DEC	HL		; DEC 'cos GETCHR INCs
basic2.asm line 1664: Label not found: (LTSTND)
basic2.asm line 1664: label value misalligned.           (LTSTND)
basic2.asm line 1664: unrecognized instruction.          (LTSTND)
basic2.asm line 1665: Label not found: (GETCHR)
basic2.asm line 1665: Unused data in MS byte of argument. (2)
1665   03D8 CD 00 00    	CALL	GETCHR		; Get next character
1666   03DB             	JR	Z,MORDT		; End of line - More needed?
basic2.asm line 1666: unrecognized instruction.          (JR)
1667   03DB F4 2C 00    	CP	','		; Another value?
basic2.asm line 1668: Label not found: (NZ)
basic2.asm line 1668: Unknown token: (,)
basic2.asm line 1668: Unknown token.    
basic2.asm line 1668: Label not found: (BADINP)
basic2.asm line 1668: Unused data in MS byte of argument. (2)
1668   03DE F2 00 00    	JP	NZ,BADINP		; No - Bad input
1669   03E1             MORDT:	EX	(SP),HL		; Get code string address
basic2.asm line 1669: Label not found: (MORDT)
basic2.asm line 1669: label value misalligned.           (MORDT)
basic2.asm line 1669: unrecognized instruction.          (MORDT)
1670   03E1             	DEC	HL		; DEC 'cos GETCHR INCs
basic2.asm line 1670: unrecognized instruction.          (DEC)
basic2.asm line 1671: Label not found: (GETCHR)
basic2.asm line 1671: Unused data in MS byte of argument. (2)
1671   03E1 CD 00 00    	CALL	GETCHR		; Get next character
1672   03E4             	JR	NZ,NEDMOR		; More needed - Get it
basic2.asm line 1672: unrecognized instruction.          (JR)
1673   03E4             	POP	DE		; Restore DATA pointer
basic2.asm line 1673: unrecognized argument.             (DE)
1674   03E4             	LD	A,(READFG)	; "READ" or "INPUT" ?
basic2.asm line 1674: unrecognized instruction.          (LD)
1675   03E4             	OR	A
basic2.asm line 1675: unrecognized instruction.          (OR)
1676   03E4             	EX	DE,HL		; DATA pointer to HL
basic2.asm line 1676: unrecognized instruction.          (EX)
basic2.asm line 1677: Label not found: (NZ)
basic2.asm line 1677: Unknown token: (,)
basic2.asm line 1677: Unknown token.    
basic2.asm line 1677: Label not found: (UPDATA)
basic2.asm line 1677: Unused data in MS byte of argument. (2)
1677   03E4 F2 00 00    	JP	NZ,UPDATA		; Update DATA pointer if "READ"
1678   03E7             	PUSH	DE		; Save code string address
basic2.asm line 1678: unrecognized argument.             (DE)
1679   03E7             	OR	(HL)		; More input given?
basic2.asm line 1679: unrecognized instruction.          (OR)
1680   03E7             	LD	HL,EXTIG		; "?Extra ignored" message
basic2.asm line 1680: unrecognized instruction.          (LD)
basic2.asm line 1681: Label not found: (NZ)
basic2.asm line 1681: Unknown token: (,)
basic2.asm line 1681: Unknown token.    
1681   03E7 CD 2A 06    	CALL	NZ,PRS		; Output string if extra given
1682   03EA             	POP	HL		; Restore code string address
basic2.asm line 1682: unrecognized argument.             (HL)
1683   03EA C9          	RET
1684   03EB CD D8 02    FDTLP:	CALL	DATA		; Get next statement
1685   03EE             	OR	A		; End of line?
basic2.asm line 1685: unrecognized instruction.          (OR)
1686   03EE             	JR	NZ,FANDT		; No - See if DATA statement
basic2.asm line 1686: unrecognized instruction.          (JR)
1687   03EE             	INC	HL
basic2.asm line 1687: unrecognized instruction.          (INC)
1688   03EE             	LD	A,(HL)		; End of program?
basic2.asm line 1688: unrecognized instruction.          (LD)
1689   03EE             	INC	HL
basic2.asm line 1689: unrecognized instruction.          (INC)
1690   03EE             	OR	(HL)		; 00 00 Ends program
basic2.asm line 1690: unrecognized instruction.          (OR)
1691   03EE             	LD	E,OD		; ?OD Error
basic2.asm line 1691: unrecognized instruction.          (LD)
basic2.asm line 1692: Label not found: (Z)
basic2.asm line 1692: Unknown token: (,)
basic2.asm line 1692: Unknown token.    
1692   03EE F2 A3 00    	JP	Z,ERROR		; Yes - Out of DATA
1693   03F1             	INC	HL
basic2.asm line 1693: unrecognized instruction.          (INC)
1694   03F1             	LD	E,(HL)		; LSB of line number
basic2.asm line 1694: unrecognized instruction.          (LD)
1695   03F1             	INC	HL
basic2.asm line 1695: unrecognized instruction.          (INC)
1696   03F1             	LD	D,(HL)		; MSB of line number
basic2.asm line 1696: unrecognized instruction.          (LD)
1697   03F1             	EX	DE,HL
basic2.asm line 1697: unrecognized instruction.          (EX)
1698   03F1             	LD	(DATLIN),HL	; Set line of current DATA item
basic2.asm line 1698: unrecognized instruction.          (LD)
1699   03F1             	EX	DE,HL
basic2.asm line 1699: unrecognized instruction.          (EX)
basic2.asm line 1700: Label not found: (GETCHR)
basic2.asm line 1700: Unused data in MS byte of argument. (2)
1700   03F1 CD 00 00    FANDT:	CALL	GETCHR		; Get next character
1701   03F4 F4 83 00    	CP	ZDATA		; "DATA" token
1702   03F7             	JR	NZ,FDTLP		; No "DATA" - Keep looking
basic2.asm line 1702: unrecognized instruction.          (JR)
1703   03F7             	JR	ANTVLU		; Found - Convert input
basic2.asm line 1703: unrecognized instruction.          (JR)
1704   03F7             
1705   03F7             BADINP:	LD	A,(READFG)	; READ or INPUT?
basic2.asm line 1705: Label not found: (BADINP)
basic2.asm line 1705: label value misalligned.           (BADINP)
basic2.asm line 1705: unrecognized instruction.          (BADINP)
1706   03F7             	OR	A
basic2.asm line 1706: unrecognized instruction.          (OR)
basic2.asm line 1707: Label not found: (NZ)
basic2.asm line 1707: Unknown token: (,)
basic2.asm line 1707: Unknown token.    
basic2.asm line 1707: Label not found: (DATSNR)
basic2.asm line 1707: Unused data in MS byte of argument. (2)
1707   03F7 F2 00 00    	JP	NZ,DATSNR		; READ - ? Data Syntax Error
1708   03FA             	POP	BC		; Throw away code string addr
basic2.asm line 1708: unrecognized argument.             (BC)
1709   03FA             	LD	HL,REDO		; "Redo from start" message
basic2.asm line 1709: unrecognized instruction.          (LD)
1710   03FA CD 2A 06    	CALL	PRS		; Output string
basic2.asm line 1711: Label not found: (DOAGN)
basic2.asm line 1711: Unused data in MS byte of argument. (2)
1711   03FD F2 00 00    	JP	DOAGN		; Do last INPUT again
1712   0400             ;------------------------------------------------------------------------------
1713   0400             ; NEXT
1714   0400             ;------------------------------------------------------------------------------
1715   0400             NEXT:	LD	DE,0		; In case no index given
basic2.asm line 1715: Label not found: (NEXT)
basic2.asm line 1715: label value misalligned.           (NEXT)
basic2.asm line 1715: unrecognized instruction.          (NEXT)
basic2.asm line 1716: Label not found: (NZ)
basic2.asm line 1716: Unknown token: (,)
basic2.asm line 1716: Unknown token.    
basic2.asm line 1716: Label not found: (GETVAR)
basic2.asm line 1716: Unused data in MS byte of argument. (2)
1716   0400 CD 00 00    NEXT1:	CALL	NZ,GETVAR		; Get index address
1717   0403             	LD	(BRKLIN),HL		; Save code string address
basic2.asm line 1717: unrecognized instruction.          (LD)
basic2.asm line 1718: Label not found: (BAKSTK)
basic2.asm line 1718: Unused data in MS byte of argument. (2)
1718   0403 CD 00 00    	CALL	BAKSTK		; Look for "FOR" block
basic2.asm line 1719: Label not found: (NZ)
basic2.asm line 1719: Unknown token: (,)
basic2.asm line 1719: Unknown token.    
basic2.asm line 1719: Label not found: (NFERR)
basic2.asm line 1719: Unused data in MS byte of argument. (2)
1719   0406 F2 00 00    	JP	NZ,NFERR		; No "FOR" - "Next without FOR" Error
1720   0409             	LD	SP,HL		; Clear nested loops
basic2.asm line 1720: unrecognized instruction.          (LD)
1721   0409             	PUSH	DE		; Save index address
basic2.asm line 1721: unrecognized argument.             (DE)
1722   0409             	LD	A,(HL)		; Get sign of STEP
basic2.asm line 1722: unrecognized instruction.          (LD)
1723   0409             	INC	HL
basic2.asm line 1723: unrecognized instruction.          (INC)
1724   0409             	PUSH	AF		; Save sign of STEP
basic2.asm line 1724: unrecognized argument.             (AF)
1725   0409             	PUSH	DE		; Save index address
basic2.asm line 1725: unrecognized argument.             (DE)
1726   0409 CD 34 08    	CALL	PHLTFP		; Move index value to FPREG
1727   040C             	EX	(SP),HL		; Save address of TO value
basic2.asm line 1727: unrecognized instruction.          (EX)
1728   040C             	PUSH	HL		; Save address of index
basic2.asm line 1728: unrecognized argument.             (HL)
1729   040C CD 6A 07    	CALL	ADDPHL		; Add STEP to index value
1730   040F             	POP	HL		; Restore address of index
basic2.asm line 1730: unrecognized argument.             (HL)
basic2.asm line 1731: Label not found: (FPTHL)
basic2.asm line 1731: Unused data in MS byte of argument. (2)
1731   040F CD 00 00    	CALL	FPTHL		; Move value to index variable
1732   0412             	POP	HL		; Restore address of TO value
basic2.asm line 1732: unrecognized argument.             (HL)
basic2.asm line 1733: Label not found: (LOADFP)
basic2.asm line 1733: Unused data in MS byte of argument. (2)
1733   0412 CD 00 00    	CALL	LOADFP		; Move TO value to BCDE
1734   0415             	PUSH	HL		; Save address of line of FOR
basic2.asm line 1734: unrecognized argument.             (HL)
basic2.asm line 1735: Label not found: (CMPNUM)
basic2.asm line 1735: Unused data in MS byte of argument. (2)
1735   0415 CD 00 00    	CALL	CMPNUM		; Compare index with TO value
1736   0418             	POP	HL		; Restore address of line num
basic2.asm line 1736: unrecognized argument.             (HL)
1737   0418             	POP	BC		; Address of sign of STEP
basic2.asm line 1737: unrecognized argument.             (BC)
1738   0418 90          	SUB	B		; Compare with expected sign
basic2.asm line 1739: Label not found: (LOADFP)
basic2.asm line 1739: Unused data in MS byte of argument. (2)
1739   0419 CD 00 00    	CALL	LOADFP		; BC = Loop stmt,DE = Line num
basic2.asm line 1740: Label not found: (Z)
basic2.asm line 1740: Unknown token: (,)
basic2.asm line 1740: Unknown token.    
basic2.asm line 1740: Label not found: (KILFOR)
basic2.asm line 1740: Unused data in MS byte of argument. (2)
1740   041C F2 00 00    	JP	Z,KILFOR		; Loop finished - Terminate it
1741   041F             	EX	DE,HL		; Loop statement line number
basic2.asm line 1741: unrecognized instruction.          (EX)
1742   041F             	LD	(LINEAT),HL	; Set loop line number
basic2.asm line 1742: unrecognized instruction.          (LD)
1743   041F             	LD	L,C		; Set code string to loop
basic2.asm line 1743: unrecognized instruction.          (LD)
1744   041F             	LD	H,B
basic2.asm line 1744: unrecognized instruction.          (LD)
basic2.asm line 1745: Label not found: (PUTFID)
basic2.asm line 1745: Unused data in MS byte of argument. (2)
1745   041F F2 00 00    	JP	PUTFID		; Put back "FOR" and continue
1746   0422             
1747   0422             KILFOR:	LD	SP,HL		; Remove "FOR" block
basic2.asm line 1747: Label not found: (KILFOR)
basic2.asm line 1747: label value misalligned.           (KILFOR)
basic2.asm line 1747: unrecognized instruction.          (KILFOR)
1748   0422             	LD	HL,(BRKLIN)	; Code string after "NEXT"
basic2.asm line 1748: unrecognized instruction.          (LD)
1749   0422             	LD	A,(HL)		; Get next byte in code string
basic2.asm line 1749: unrecognized instruction.          (LD)
1750   0422 F4 2C 00    	CP	','		; More NEXTs ?
basic2.asm line 1751: Label not found: (NZ)
basic2.asm line 1751: Unknown token: (,)
basic2.asm line 1751: Unknown token.    
1751   0425 F2 F7 01    	JP	NZ,RUNCNT		; No - Do next statement
basic2.asm line 1752: Label not found: (GETCHR)
basic2.asm line 1752: Unused data in MS byte of argument. (2)
1752   0428 CD 00 00    	CALL	GETCHR		; Position to index name
1753   042B             	JR	NEXT1		; Re-enter NEXT routine
basic2.asm line 1753: unrecognized instruction.          (JR)
1754   042B             ;------------------------------------------------------------------------------
1755   042B             ; Evaluate and Process variable/math functions
1756   042B             ;------------------------------------------------------------------------------
basic2.asm line 1757: Label not found: (EVAL)
basic2.asm line 1757: Unused data in MS byte of argument. (2)
1757   042B CD 00 00    GETNUM:	CALL	EVAL		; Get a numeric expression
1758   042E F6          TSTNUM:	.BYTE	$F6		; Clear carry (numeric)
1759   042F             TSTSTR:	SCF			; Set carry (string)
basic2.asm line 1759: Label not found: (TSTSTR)
basic2.asm line 1759: label value misalligned.           (TSTSTR)
basic2.asm line 1759: unrecognized instruction.          (TSTSTR)
1760   042F             CHKTYP:	LD	A,(TYPE)		; Check types match
basic2.asm line 1760: Label not found: (CHKTYP)
basic2.asm line 1760: label value misalligned.           (CHKTYP)
basic2.asm line 1760: unrecognized instruction.          (CHKTYP)
1761   042F             	ADC	A,A		; Expected + actual
basic2.asm line 1761: unrecognized argument.             (A,A)
1762   042F             	OR	A		; Clear carry , set parity
basic2.asm line 1762: unrecognized instruction.          (OR)
1763   042F             	RET	PE		; Even parity - Types match
basic2.asm line 1763: unrecognized argument.             (PE)
basic2.asm line 1764: Label not found: (TMERR)
basic2.asm line 1764: Unused data in MS byte of argument. (2)
1764   042F F2 00 00    	JP	TMERR		; Different types - Error
1765   0432             
basic2.asm line 1766: Label not found: (CHKSYN)
basic2.asm line 1766: Unused data in MS byte of argument. (2)
1766   0432 CD 00 00    OPNPAR:	CALL	CHKSYN		; Make sure "(" follows
1767   0435 28          	.BYTE	'('
1768   0436             EVAL:	DEC	HL		; Evaluate expression & save
basic2.asm line 1768: Label not found: (EVAL)
basic2.asm line 1768: label value misalligned.           (EVAL)
basic2.asm line 1768: unrecognized instruction.          (EVAL)
1769   0436             	LD	D,0		; Precedence value
basic2.asm line 1769: unrecognized instruction.          (LD)
1770   0436             EVAL1:	PUSH	DE		; Save precedence
basic2.asm line 1770: Label not found: (EVAL1)
basic2.asm line 1770: label value misalligned.           (EVAL1)
basic2.asm line 1770: unrecognized argument.             (EVAL1)
1771   0436             	LD	C,1
basic2.asm line 1771: unrecognized instruction.          (LD)
basic2.asm line 1772: Label not found: (CHKSTK)
basic2.asm line 1772: Unused data in MS byte of argument. (2)
1772   0436 CD 00 00    	CALL	CHKSTK		; Check for 1 level of stack
basic2.asm line 1773: Label not found: (OPRND)
basic2.asm line 1773: Unused data in MS byte of argument. (2)
1773   0439 CD 00 00    	CALL	OPRND		; Get next expression value
1774   043C             EVAL2:	LD	(NXTOPR),HL	; Save address of next operator
basic2.asm line 1774: Label not found: (EVAL2)
basic2.asm line 1774: label value misalligned.           (EVAL2)
basic2.asm line 1774: unrecognized instruction.          (EVAL2)
1775   043C             EVAL3:	LD	HL,(NXTOPR)	; Restore address of next opr
basic2.asm line 1775: Label not found: (EVAL3)
basic2.asm line 1775: label value misalligned.           (EVAL3)
basic2.asm line 1775: unrecognized instruction.          (EVAL3)
1776   043C             	POP	BC		; Precedence value and operator
basic2.asm line 1776: unrecognized argument.             (BC)
1777   043C             	LD	A,B		; Get precedence value
basic2.asm line 1777: unrecognized instruction.          (LD)
1778   043C F4 78 00    	CP	$78		; "AND" or "OR" ?
basic2.asm line 1779: Label not found: (NC)
basic2.asm line 1779: Unknown token: (,)
basic2.asm line 1779: Unknown token.    
1779   043F CD 2E 04    	CALL	NC,TSTNUM		; No - Make sure it's a number
1780   0442             	LD	A,(HL)		; Get next operator / function
basic2.asm line 1780: unrecognized instruction.          (LD)
1781   0442             	LD	D,0		; Clear Last relation
basic2.asm line 1781: unrecognized instruction.          (LD)
1782   0442             RLTLP:	SUB	ZGTR		; ">" Token
basic2.asm line 1782: Label not found: (RLTLP)
basic2.asm line 1782: label value misalligned.           (RLTLP)
basic2.asm line 1782: unrecognized argument.             (RLTLP)
1783   0442             	JR	C,FOPRND		; + - * / ^ AND OR - Test it
basic2.asm line 1783: unrecognized instruction.          (JR)
1784   0442 F4 03 00    	CP	ZLTH+1-ZGTR	; < = >
1785   0445             	JR	NC,FOPRND		; Function - Call it
basic2.asm line 1785: unrecognized instruction.          (JR)
1786   0445 F4 01 00    	CP	ZEQUAL-ZGTR	; "="
1787   0448             	RLA			; <- Test for legal
basic2.asm line 1787: unrecognized instruction.          (RLA)
1788   0448             	XOR	D		; <- combinations of < = >
basic2.asm line 1788: unrecognized instruction.          (XOR)
basic2.asm line 1789: Label not found: (D)
basic2.asm line 1789: Unused data in MS byte of argument. (2)
1789   0448 F4 00 00    	CP	D		; <- by combining last token
1790   044B             	LD	D,A		; <- with current one
basic2.asm line 1790: unrecognized instruction.          (LD)
basic2.asm line 1791: Label not found: (C)
basic2.asm line 1791: Unknown token: (,)
basic2.asm line 1791: Unknown token.    
basic2.asm line 1791: Label not found: (SNERR)
basic2.asm line 1791: Unused data in MS byte of argument. (2)
1791   044B F2 00 00    	JP	C,SNERR		; Error if "<<" "==" or ">>"
1792   044E             	LD	(CUROPR),HL	; Save address of current token
basic2.asm line 1792: unrecognized instruction.          (LD)
basic2.asm line 1793: Label not found: (GETCHR)
basic2.asm line 1793: Unused data in MS byte of argument. (2)
1793   044E CD 00 00    	CALL	GETCHR		; Get next character
1794   0451             	JR	RLTLP		; Treat the two as one
basic2.asm line 1794: unrecognized instruction.          (JR)
1795   0451             
1796   0451             FOPRND:	LD	A,D		; < = > found ?
basic2.asm line 1796: Label not found: (FOPRND)
basic2.asm line 1796: label value misalligned.           (FOPRND)
basic2.asm line 1796: unrecognized instruction.          (FOPRND)
1797   0451             	OR	A
basic2.asm line 1797: unrecognized instruction.          (OR)
basic2.asm line 1798: Label not found: (NZ)
basic2.asm line 1798: Unknown token: (,)
basic2.asm line 1798: Unknown token.    
basic2.asm line 1798: Label not found: (TSTRED)
basic2.asm line 1798: Unused data in MS byte of argument. (2)
1798   0451 F2 00 00    	JP	NZ,TSTRED		; Yes - Test for reduction
1799   0454             	LD	A,(HL)		; Get operator token
basic2.asm line 1799: unrecognized instruction.          (LD)
1800   0454             	LD	(CUROPR),HL	; Save operator address
basic2.asm line 1800: unrecognized instruction.          (LD)
1801   0454             	SUB	ZPLUS		; Operator or function?
basic2.asm line 1801: unrecognized argument.             (ZPLUS)
1802   0454             	RET	C		; Neither - Exit
basic2.asm line 1802: unrecognized argument.             (C)
1803   0454 F4 07 00    	CP	ZOR+1-ZPLUS	; Is it + - * / ^ AND OR ?
1804   0457             	RET	NC		; No - Exit
basic2.asm line 1804: unrecognized argument.             (NC)
1805   0457             	LD	E,A		; Coded operator
basic2.asm line 1805: unrecognized instruction.          (LD)
1806   0457             	LD	A,(TYPE)		; Get data type
basic2.asm line 1806: unrecognized instruction.          (LD)
1807   0457             	DEC	A		; FF = numeric , 00 = string
basic2.asm line 1807: unrecognized instruction.          (DEC)
1808   0457             	OR	E		; Combine with coded operator
basic2.asm line 1808: unrecognized instruction.          (OR)
1809   0457             	LD	A,E		; Get coded operator
basic2.asm line 1809: unrecognized instruction.          (LD)
basic2.asm line 1810: Label not found: (Z)
basic2.asm line 1810: Unknown token: (,)
basic2.asm line 1810: Unknown token.    
basic2.asm line 1810: Label not found: (CONCAT)
basic2.asm line 1810: Unused data in MS byte of argument. (2)
1810   0457 F2 00 00    	JP	Z,CONCAT		; String concatenation
1811   045A             	RLCA			; Times 2
basic2.asm line 1811: unrecognized instruction.          (RLCA)
1812   045A             	ADD	A,E		; Times 3
basic2.asm line 1812: unrecognized argument.             (A,E)
1813   045A             	LD	E,A		; To DE (D is 0)
basic2.asm line 1813: unrecognized instruction.          (LD)
1814   045A             	LD	HL,PRITAB		; Precedence table
basic2.asm line 1814: unrecognized instruction.          (LD)
1815   045A             	ADD	HL,DE		; To the operator concerned
basic2.asm line 1815: unrecognized argument.             (HL,DE)
1816   045A             	LD	A,B		; Last operator precedence
basic2.asm line 1816: unrecognized instruction.          (LD)
1817   045A             	LD	D,(HL)		; Get evaluation precedence
basic2.asm line 1817: unrecognized instruction.          (LD)
basic2.asm line 1818: Label not found: (D)
basic2.asm line 1818: Unused data in MS byte of argument. (2)
1818   045A F4 00 00    	CP	D		; Compare with eval precedence
1819   045D             	RET	NC		; Exit if higher precedence
basic2.asm line 1819: unrecognized argument.             (NC)
1820   045D             	INC	HL		; Point to routine address
basic2.asm line 1820: unrecognized instruction.          (INC)
1821   045D CD 2E 04    	CALL	TSTNUM		; Make sure it's a number
1822   0460             
1823   0460             STKTHS:	PUSH	BC		; Save last precedence & token
basic2.asm line 1823: Label not found: (STKTHS)
basic2.asm line 1823: label value misalligned.           (STKTHS)
basic2.asm line 1823: unrecognized argument.             (STKTHS)
1824   0460             	LD	BC,EVAL3		; Where to go on prec' break
basic2.asm line 1824: unrecognized instruction.          (LD)
1825   0460             	PUSH	BC		; Save on stack for return
basic2.asm line 1825: unrecognized argument.             (BC)
1826   0460             	LD	B,E		; Save operator
basic2.asm line 1826: unrecognized instruction.          (LD)
1827   0460             	LD	C,D		; Save precedence
basic2.asm line 1827: unrecognized instruction.          (LD)
basic2.asm line 1828: Label not found: (STAKFP)
basic2.asm line 1828: Unused data in MS byte of argument. (2)
1828   0460 CD 00 00    	CALL	STAKFP		; Move value to stack
1829   0463             	LD	E,B		; Restore operator
basic2.asm line 1829: unrecognized instruction.          (LD)
1830   0463             	LD	D,C		; Restore precedence
basic2.asm line 1830: unrecognized instruction.          (LD)
1831   0463             	LD	C,(HL)		; Get LSB of routine address
basic2.asm line 1831: unrecognized instruction.          (LD)
1832   0463             	INC	HL
basic2.asm line 1832: unrecognized instruction.          (INC)
1833   0463             	LD	B,(HL)		; Get MSB of routine address
basic2.asm line 1833: unrecognized instruction.          (LD)
1834   0463             	INC	HL
basic2.asm line 1834: unrecognized instruction.          (INC)
1835   0463             	PUSH	BC		; Save routine address
basic2.asm line 1835: unrecognized argument.             (BC)
1836   0463             	LD	HL,(CUROPR)	; Address of current operator
basic2.asm line 1836: unrecognized instruction.          (LD)
basic2.asm line 1837: Label not found: (EVAL1)
basic2.asm line 1837: Unused data in MS byte of argument. (2)
1837   0463 F2 00 00    	JP	EVAL1		; Loop until prec' break
1838   0466             ;------------------------------------------------------------------------------
1839   0466             ; Process Operand
1840   0466             ;------------------------------------------------------------------------------
1841   0466             OPRND:	XOR	A		; Get operand routine
basic2.asm line 1841: Label not found: (OPRND)
basic2.asm line 1841: label value misalligned.           (OPRND)
basic2.asm line 1841: unrecognized instruction.          (OPRND)
1842   0466             	LD	(TYPE),A		; Set numeric expected
basic2.asm line 1842: unrecognized instruction.          (LD)
basic2.asm line 1843: Label not found: (GETCHR)
basic2.asm line 1843: Unused data in MS byte of argument. (2)
1843   0466 CD 00 00    	CALL	GETCHR		; Get next character
1844   0469             	LD	E,MO		; Error - Missing Operand
basic2.asm line 1844: unrecognized instruction.          (LD)
basic2.asm line 1845: Label not found: (Z)
basic2.asm line 1845: Unknown token: (,)
basic2.asm line 1845: Unknown token.    
1845   0469 F2 A3 00    	JP	Z,ERROR		; No operand - Error
basic2.asm line 1846: Label not found: (C)
basic2.asm line 1846: Unknown token: (,)
basic2.asm line 1846: Unknown token.    
1846   046C F2 75 08    	JP	C,ASCTFP		; Number - Get value
basic2.asm line 1847: Label not found: (CHKLTR)
basic2.asm line 1847: Unused data in MS byte of argument. (2)
1847   046F CD 00 00    	CALL	CHKLTR		; See if a letter
basic2.asm line 1848: Label not found: (NC)
basic2.asm line 1848: Unknown token: (,)
basic2.asm line 1848: Unknown token.    
1848   0472 F2 B1 04    	JP	NC,CONVAR		; Letter - Find variable
1849   0475             		
1850   0475 F4 24 00    	CP	'$'		; Hex number indicated? [function added]
basic2.asm line 1851: Label not found: (Z)
basic2.asm line 1851: Unknown token: (,)
basic2.asm line 1851: Unknown token.    
basic2.asm line 1851: Label not found: (HEXTFP)
basic2.asm line 1851: Unused data in MS byte of argument. (2)
1851   0478 F2 00 00    	JP	Z,HEXTFP		; Convert Hex to FPREG
1852   047B             	
1853   047B F4 AC 00    	CP	ZPLUS		; "+" Token ?
1854   047E             	JR	Z,OPRND		; Yes - Look for operand
basic2.asm line 1854: unrecognized instruction.          (JR)
1855   047E F4 2E 00    	CP	'.'		; "." ?
basic2.asm line 1856: Label not found: (Z)
basic2.asm line 1856: Unknown token: (,)
basic2.asm line 1856: Unknown token.    
1856   0481 F2 75 08    	JP	Z,ASCTFP		; Yes - Create FP number
1857   0484 F4 AD 00    	CP	ZMINUS		; "-" Token ?
basic2.asm line 1858: Label not found: (Z)
basic2.asm line 1858: Unknown token: (,)
basic2.asm line 1858: Unknown token.    
basic2.asm line 1858: Label not found: (MINUS)
basic2.asm line 1858: Unused data in MS byte of argument. (2)
1858   0487 F2 00 00    	JP	Z,MINUS		; Yes - Do minus
1859   048A F4 22 00    	CP	$22		; Literal string ?
basic2.asm line 1860: Label not found: (Z)
basic2.asm line 1860: Unknown token: (,)
basic2.asm line 1860: Unknown token.    
basic2.asm line 1860: Label not found: (QTSTR)
basic2.asm line 1860: Unused data in MS byte of argument. (2)
1860   048D F2 00 00    	JP	Z,QTSTR		; Get string terminated by '"'
1861   0490 F4 AA 00    	CP	ZNOT		; "NOT" Token ?
basic2.asm line 1862: Label not found: (Z)
basic2.asm line 1862: Unknown token: (,)
basic2.asm line 1862: Unknown token.    
basic2.asm line 1862: Label not found: (EVNOT)
basic2.asm line 1862: Unused data in MS byte of argument. (2)
1862   0493 F2 00 00    	JP	Z,EVNOT		; Yes - Eval NOT expression
1863   0496 F4 A7 00    	CP	ZFN		; "FN" Token ?
basic2.asm line 1864: Label not found: (Z)
basic2.asm line 1864: Unknown token: (,)
basic2.asm line 1864: Unknown token.    
1864   0499 F2 D2 05    	JP	Z,DOFN		; Yes - Do FN routine
1865   049C             	SUB	ZSGN		; Is it a function?
basic2.asm line 1865: unrecognized argument.             (ZSGN)
basic2.asm line 1866: Label not found: (NC)
basic2.asm line 1866: Unknown token: (,)
basic2.asm line 1866: Unknown token.    
basic2.asm line 1866: Label not found: (FNOFST)
basic2.asm line 1866: Unused data in MS byte of argument. (2)
1866   049C F2 00 00    	JP	NC,FNOFST		; Yes - Evaluate function
1867   049F CD 32 04    EVLPAR:	CALL	OPNPAR		; Evaluate expression in "()"
basic2.asm line 1868: Label not found: (CHKSYN)
basic2.asm line 1868: Unused data in MS byte of argument. (2)
1868   04A2 CD 00 00    	CALL	CHKSYN		; Make sure ")" follows
1869   04A5 29          	.BYTE	')'
1870   04A6 C9          	RET
1871   04A7             
1872   04A7             MINUS:	LD	D,7DH		; "-" precedence
basic2.asm line 1872: Label not found: (MINUS)
basic2.asm line 1872: label value misalligned.           (MINUS)
basic2.asm line 1872: unrecognized instruction.          (MINUS)
basic2.asm line 1873: Label not found: (EVAL1)
basic2.asm line 1873: Unused data in MS byte of argument. (2)
1873   04A7 CD 00 00    	CALL	EVAL1		; Evaluate until prec' break
1874   04AA             	LD	HL,(NXTOPR)		; Get next operator address
basic2.asm line 1874: unrecognized instruction.          (LD)
1875   04AA             	PUSH	HL		; Save next operator address
basic2.asm line 1875: unrecognized argument.             (HL)
basic2.asm line 1876: Label not found: (INVSGN)
basic2.asm line 1876: Unused data in MS byte of argument. (2)
1876   04AA CD 00 00    	CALL	INVSGN		; Negate value
1877   04AD CD 2E 04    RETNUM:	CALL	TSTNUM		; Make sure it's a number
1878   04B0             	POP	HL		; Restore next operator address
basic2.asm line 1878: unrecognized argument.             (HL)
1879   04B0 C9          	RET
1880   04B1             ;------------------------------------------------------------------------------
1881   04B1             ; Loads a variable with name at (HL) into FPREG
1882   04B1             ;------------------------------------------------------------------------------
basic2.asm line 1883: Label not found: (GETVAR)
basic2.asm line 1883: Unused data in MS byte of argument. (2)
1883   04B1 CD 00 00    CONVAR:	CALL	GETVAR		; Get variable address to DE
1884   04B4             FRMEVL:	PUSH	HL		; Save code string address
basic2.asm line 1884: Label not found: (FRMEVL)
basic2.asm line 1884: label value misalligned.           (FRMEVL)
basic2.asm line 1884: unrecognized argument.             (FRMEVL)
1885   04B4             	EX	DE,HL		; Variable address to HL
basic2.asm line 1885: unrecognized instruction.          (EX)
1886   04B4             	LD	(FPREG),HL		; Save address of variable
basic2.asm line 1886: unrecognized instruction.          (LD)
1887   04B4             	LD	A,(TYPE)		; Get type
basic2.asm line 1887: unrecognized instruction.          (LD)
1888   04B4             	OR	A		; Numeric?
basic2.asm line 1888: unrecognized instruction.          (OR)
basic2.asm line 1889: Label not found: (Z)
basic2.asm line 1889: Unknown token: (,)
basic2.asm line 1889: Unknown token.    
1889   04B4 CD 34 08    	CALL	Z,PHLTFP		; Yes - Move contents to FPREG
1890   04B7             	POP	HL		; Restore code string address
basic2.asm line 1890: unrecognized argument.             (HL)
1891   04B7 C9          	RET
1892   04B8             
1893   04B8             FNOFST:	LD	B,0		; Get address of function
basic2.asm line 1893: Label not found: (FNOFST)
basic2.asm line 1893: label value misalligned.           (FNOFST)
basic2.asm line 1893: unrecognized instruction.          (FNOFST)
1894   04B8             	RLCA			; Double function offset
basic2.asm line 1894: unrecognized instruction.          (RLCA)
1895   04B8             	LD	C,A		; BC = Offset in function table
basic2.asm line 1895: unrecognized instruction.          (LD)
1896   04B8             	PUSH	BC		; Save adjusted token value
basic2.asm line 1896: unrecognized argument.             (BC)
basic2.asm line 1897: Label not found: (GETCHR)
basic2.asm line 1897: Unused data in MS byte of argument. (2)
1897   04B8 CD 00 00    	CALL	GETCHR		; Get next character
1898   04BB             	LD	A,C		; Get adjusted token value
basic2.asm line 1898: unrecognized instruction.          (LD)
1899   04BB F4 22 00    	CP	2*(ZPOINT-ZSGN) 	; Adjusted "POINT" token?
basic2.asm line 1900: Label not found: (Z)
basic2.asm line 1900: Unknown token: (,)
basic2.asm line 1900: Unknown token.    
1900   04BE F2 A5 0A    	JP	Z,POINT		; Yes - Do "POINT"
1901   04C1 F4 2D 00    	CP	2*(ZLEFT-ZSGN)-1	; Adj' LEFT$,RIGHT$ or MID$ ?
1902   04C4             	JR	C,FNVAL		; No - Do function
basic2.asm line 1902: unrecognized instruction.          (JR)
1903   04C4 CD 32 04    	CALL	OPNPAR		; Evaluate expression (X,...
basic2.asm line 1904: Label not found: (CHKSYN)
basic2.asm line 1904: Unused data in MS byte of argument. (2)
1904   04C7 CD 00 00    	CALL	CHKSYN		; Make sure "," follows
1905   04CA 2C          	.BYTE	','
basic2.asm line 1906: Label not found: (TSTSTR)
basic2.asm line 1906: Unused data in MS byte of argument. (2)
1906   04CB CD 00 00    	CALL	TSTSTR		; Make sure it's a string
1907   04CE             	EX	DE,HL		; Save code string address
basic2.asm line 1907: unrecognized instruction.          (EX)
1908   04CE             	LD	HL,(FPREG)	; Get address of string
basic2.asm line 1908: unrecognized instruction.          (LD)
1909   04CE             	EX	(SP),HL		; Save address of string
basic2.asm line 1909: unrecognized instruction.          (EX)
1910   04CE             	PUSH	HL		; Save adjusted token value
basic2.asm line 1910: unrecognized argument.             (HL)
1911   04CE             	EX	DE,HL		; Restore code string address
basic2.asm line 1911: unrecognized instruction.          (EX)
1912   04CE CD 21 07    	CALL	GETINT		; Get integer 0-255
1913   04D1             	EX	DE,HL		; Save code string address
basic2.asm line 1913: unrecognized instruction.          (EX)
1914   04D1             	EX	(SP),HL		; Save integer,HL = adj' token
basic2.asm line 1914: unrecognized instruction.          (EX)
1915   04D1             	JR	GOFUNC		; Jump to string function
basic2.asm line 1915: unrecognized instruction.          (JR)
1916   04D1             
1917   04D1 CD 9F 04    FNVAL:	CALL	EVLPAR		; Evaluate expression
1918   04D4             	EX	(SP),HL		; HL = Adjusted token value
basic2.asm line 1918: unrecognized instruction.          (EX)
1919   04D4             	LD	DE,RETNUM		; Return number from function
basic2.asm line 1919: unrecognized instruction.          (LD)
1920   04D4             	PUSH	DE		; Save on stack
basic2.asm line 1920: unrecognized argument.             (DE)
1921   04D4             GOFUNC:	LD	BC,FNCTAB		; Function routine addresses
basic2.asm line 1921: Label not found: (GOFUNC)
basic2.asm line 1921: label value misalligned.           (GOFUNC)
basic2.asm line 1921: unrecognized instruction.          (GOFUNC)
1922   04D4             	ADD	HL,BC		; Point to right address
basic2.asm line 1922: unrecognized argument.             (HL,BC)
1923   04D4             	LD	C,(HL)		; Get LSB of address
basic2.asm line 1923: unrecognized instruction.          (LD)
1924   04D4             	INC	HL		;
basic2.asm line 1924: unrecognized instruction.          (INC)
1925   04D4             	LD	H,(HL)		; Get MSB of address
basic2.asm line 1925: unrecognized instruction.          (LD)
1926   04D4             	LD	L,C		; Address to HL
basic2.asm line 1926: unrecognized instruction.          (LD)
basic2.asm line 1927: Label not found: (HL)
basic2.asm line 1927: Unused data in MS byte of argument. (2)
1927   04D4 F2 00 00    	JP	(HL)		; Jump to function
1928   04D7             
1929   04D7             SGNEXP:	DEC	D		; Dee to flag negative exponent
basic2.asm line 1929: Label not found: (SGNEXP)
basic2.asm line 1929: label value misalligned.           (SGNEXP)
basic2.asm line 1929: unrecognized instruction.          (SGNEXP)
1930   04D7 F4 AD 00    	CP	ZMINUS		; "-" token ?
1931   04DA             	RET	Z		; Yes - Return
basic2.asm line 1931: unrecognized argument.             (Z)
1932   04DA F4 2D 00    	CP	'-'		; "-" ASCII ?
1933   04DD             	RET	Z		; Yes - Return
basic2.asm line 1933: unrecognized argument.             (Z)
1934   04DD             	INC	D		; Inc to flag positive exponent
basic2.asm line 1934: unrecognized instruction.          (INC)
1935   04DD F4 2B 00    	CP	'+'		; "+" ASCII ?
1936   04E0             	RET	Z		; Yes - Return
basic2.asm line 1936: unrecognized argument.             (Z)
1937   04E0 F4 AC 00    	CP	ZPLUS		; "+" token ?
1938   04E3             	RET	Z		; Yes - Return
basic2.asm line 1938: unrecognized argument.             (Z)
1939   04E3             	DEC	HL		; DEC 'cos GETCHR INCs
basic2.asm line 1939: unrecognized instruction.          (DEC)
1940   04E3 C9          	RET			; Return "NZ"
1941   04E4             ;------------------------------------------------------------------------------
1942   04E4             ; AND / OR integer FPREG < FPREG (AND/OR) last
1943   04E4             ;------------------------------------------------------------------------------
1944   04E4 F6          POR:	.BYTE	$F6		; Flag "OR"
1945   04E5             PAND:	XOR	A		; Flag "AND"
basic2.asm line 1945: Label not found: (PAND)
basic2.asm line 1945: label value misalligned.           (PAND)
basic2.asm line 1945: unrecognized instruction.          (PAND)
1946   04E5             	PUSH	AF		; Save "AND" / "OR" flag
basic2.asm line 1946: unrecognized argument.             (AF)
1947   04E5 CD 2E 04    	CALL	TSTNUM		; Make sure it's a number
basic2.asm line 1948: Label not found: (DEINT)
basic2.asm line 1948: Unused data in MS byte of argument. (2)
1948   04E8 CD 00 00    	CALL	DEINT		; Get integer -32768 to 32767
1949   04EB             	POP	AF		; Restore "AND" / "OR" flag
basic2.asm line 1949: unrecognized argument.             (AF)
1950   04EB             	EX	DE,HL		; <- Get last
basic2.asm line 1950: unrecognized instruction.          (EX)
1951   04EB             	POP	BC		; <-	value
basic2.asm line 1951: unrecognized argument.             (BC)
1952   04EB             	EX	(SP),HL		; <-	from
basic2.asm line 1952: unrecognized instruction.          (EX)
1953   04EB             	EX	DE,HL		; <-	stack
basic2.asm line 1953: unrecognized instruction.          (EX)
basic2.asm line 1954: Label not found: (FPBCDE)
basic2.asm line 1954: Unused data in MS byte of argument. (2)
1954   04EB CD 00 00    	CALL	FPBCDE		; Move last value to FPREG
1955   04EE             	PUSH	AF		; Save "AND" / "OR" flag
basic2.asm line 1955: unrecognized argument.             (AF)
basic2.asm line 1956: Label not found: (DEINT)
basic2.asm line 1956: Unused data in MS byte of argument. (2)
1956   04EE CD 00 00    	CALL	DEINT		; Get integer -32768 to 32767
1957   04F1             	POP	AF		; Restore "AND" / "OR" flag
basic2.asm line 1957: unrecognized argument.             (AF)
1958   04F1             	POP	BC		; Get value
basic2.asm line 1958: unrecognized argument.             (BC)
1959   04F1             	LD	A,C		; Get LSB
basic2.asm line 1959: unrecognized instruction.          (LD)
1960   04F1             	LD	HL,ACPASS		; Address of save AC as current
basic2.asm line 1960: unrecognized instruction.          (LD)
1961   04F1             	JR	NZ,POR1		; Jump if OR
basic2.asm line 1961: unrecognized instruction.          (JR)
1962   04F1             	AND	E		; "AND" LSBs
basic2.asm line 1962: unrecognized instruction.          (AND)
1963   04F1             	LD	C,A		; Save LSB
basic2.asm line 1963: unrecognized instruction.          (LD)
1964   04F1             	LD	A,B		; Get MBS
basic2.asm line 1964: unrecognized instruction.          (LD)
1965   04F1             	AND	D		; "AND" MSBs
basic2.asm line 1965: unrecognized instruction.          (AND)
basic2.asm line 1966: Label not found: (HL)
basic2.asm line 1966: Unused data in MS byte of argument. (2)
1966   04F1 F2 00 00    	JP	(HL)		; Save AC as current (ACPASS)
1967   04F4             
1968   04F4             POR1:	OR	E		; "OR" LSBs
basic2.asm line 1968: Label not found: (POR1)
basic2.asm line 1968: label value misalligned.           (POR1)
basic2.asm line 1968: unrecognized instruction.          (POR1)
1969   04F4             	LD	C,A		; Save LSB
basic2.asm line 1969: unrecognized instruction.          (LD)
1970   04F4             	LD	A,B		; Get MSB
basic2.asm line 1970: unrecognized instruction.          (LD)
1971   04F4             	OR	D		; "OR" MSBs
basic2.asm line 1971: unrecognized instruction.          (OR)
basic2.asm line 1972: Label not found: (HL)
basic2.asm line 1972: Unused data in MS byte of argument. (2)
1972   04F4 F2 00 00    	JP	(HL)		; Save AC as current (ACPASS)
1973   04F7             ;------------------------------------------------------------------------------
1974   04F7             TSTRED:	LD	HL,CMPLOG		; Logical compare routine
basic2.asm line 1974: Label not found: (TSTRED)
basic2.asm line 1974: label value misalligned.           (TSTRED)
basic2.asm line 1974: unrecognized instruction.          (TSTRED)
1975   04F7             	LD	A,(TYPE)		; Get data type
basic2.asm line 1975: unrecognized instruction.          (LD)
1976   04F7             	RRA			; Carry set = string
basic2.asm line 1976: unrecognized instruction.          (RRA)
1977   04F7             	LD	A,D		; Get last precedence value
basic2.asm line 1977: unrecognized instruction.          (LD)
1978   04F7             	RLA			; Times 2 plus carry
basic2.asm line 1978: unrecognized instruction.          (RLA)
1979   04F7             	LD	E,A		; To E
basic2.asm line 1979: unrecognized instruction.          (LD)
1980   04F7             	LD	D,64H		; Relational precedence
basic2.asm line 1980: unrecognized instruction.          (LD)
1981   04F7             	LD	A,B		; Get current precedence
basic2.asm line 1981: unrecognized instruction.          (LD)
basic2.asm line 1982: Label not found: (D)
basic2.asm line 1982: Unused data in MS byte of argument. (2)
1982   04F7 F4 00 00    	CP	D		; Compare with last
1983   04FA             	RET	NC		; Eval if last was rel' or log'
basic2.asm line 1983: unrecognized argument.             (NC)
basic2.asm line 1984: Label not found: (STKTHS)
basic2.asm line 1984: Unused data in MS byte of argument. (2)
1984   04FA F2 00 00    	JP	STKTHS		; Stack this one and get next
1985   04FD             
basic2.asm line 1986: Label not found: (CMPLG1)
basic2.asm line 1986: Label not found: (CMPLG1)
1986   04FD 00 00       CMPLOG:	.WORD	CMPLG1		; Compare two values / strings
1987   04FF             CMPLG1:	LD	A,C		; Get data type
basic2.asm line 1987: Label not found: (CMPLG1)
basic2.asm line 1987: label value misalligned.           (CMPLG1)
basic2.asm line 1987: unrecognized instruction.          (CMPLG1)
1988   04FF             	OR	A
basic2.asm line 1988: unrecognized instruction.          (OR)
1989   04FF             	RRA
basic2.asm line 1989: unrecognized instruction.          (RRA)
1990   04FF             	POP	BC		; Get last expression to BCDE
basic2.asm line 1990: unrecognized argument.             (BC)
1991   04FF             	POP	DE
basic2.asm line 1991: unrecognized argument.             (DE)
1992   04FF             	PUSH	AF		; Save status
basic2.asm line 1992: unrecognized argument.             (AF)
basic2.asm line 1993: Label not found: (CHKTYP)
basic2.asm line 1993: Unused data in MS byte of argument. (2)
1993   04FF CD 00 00    	CALL	CHKTYP		; Check that types match
1994   0502             	LD	HL,CMPRES		; Result to comparison
basic2.asm line 1994: unrecognized instruction.          (LD)
1995   0502             	PUSH	HL		; Save for RETurn
basic2.asm line 1995: unrecognized argument.             (HL)
basic2.asm line 1996: Label not found: (Z)
basic2.asm line 1996: Unknown token: (,)
basic2.asm line 1996: Unknown token.    
basic2.asm line 1996: Label not found: (CMPNUM)
basic2.asm line 1996: Unused data in MS byte of argument. (2)
1996   0502 F2 00 00    	JP	Z,CMPNUM		; Compare values if numeric
1997   0505             	XOR	A		; Compare two strings
basic2.asm line 1997: unrecognized instruction.          (XOR)
1998   0505             	LD	(TYPE),A		; Set type to numeric
basic2.asm line 1998: unrecognized instruction.          (LD)
1999   0505             	PUSH	DE		; Save string name
basic2.asm line 1999: unrecognized argument.             (DE)
basic2.asm line 2000: Label not found: (GSTRCU)
basic2.asm line 2000: Unused data in MS byte of argument. (2)
2000   0505 CD 00 00    	CALL	GSTRCU		; Get current string
2001   0508             	LD	A,(HL)		; Get length of string
basic2.asm line 2001: unrecognized instruction.          (LD)
2002   0508             	INC	HL
basic2.asm line 2002: unrecognized instruction.          (INC)
2003   0508             	INC	HL
basic2.asm line 2003: unrecognized instruction.          (INC)
2004   0508             	LD	C,(HL)		; Get LSB of address
basic2.asm line 2004: unrecognized instruction.          (LD)
2005   0508             	INC	HL
basic2.asm line 2005: unrecognized instruction.          (INC)
2006   0508             	LD	B,(HL)		; Get MSB of address
basic2.asm line 2006: unrecognized instruction.          (LD)
2007   0508             	POP	DE		; Restore string name
basic2.asm line 2007: unrecognized argument.             (DE)
2008   0508             	PUSH	BC		; Save address of string
basic2.asm line 2008: unrecognized argument.             (BC)
2009   0508             	PUSH	AF		; Save length of string
basic2.asm line 2009: unrecognized argument.             (AF)
2010   0508 CD 90 06    	CALL	GSTRDE		; Get second string
basic2.asm line 2011: Label not found: (LOADFP)
basic2.asm line 2011: Unused data in MS byte of argument. (2)
2011   050B CD 00 00    	CALL	LOADFP		; Get address of second string
2012   050E             	POP	AF		; Restore length of string 1
basic2.asm line 2012: unrecognized argument.             (AF)
2013   050E             	LD	D,A		; Length to D
basic2.asm line 2013: unrecognized instruction.          (LD)
2014   050E             	POP	HL		; Restore address of string 1
basic2.asm line 2014: unrecognized argument.             (HL)
2015   050E             CMPSTR:	LD	A,E		; Bytes of string 2 to do
basic2.asm line 2015: Label not found: (CMPSTR)
basic2.asm line 2015: label value misalligned.           (CMPSTR)
basic2.asm line 2015: unrecognized instruction.          (CMPSTR)
2016   050E             	OR	D		; Bytes of string 1 to do
basic2.asm line 2016: unrecognized instruction.          (OR)
2017   050E             	RET	Z		; Exit if all bytes compared
basic2.asm line 2017: unrecognized argument.             (Z)
2018   050E             	LD	A,D		; Get bytes of string 1 to do
basic2.asm line 2018: unrecognized instruction.          (LD)
2019   050E             	SUB	1
basic2.asm line 2019: unrecognized argument.             (1)
2020   050E             	RET	C		; Exit if end of string 1
basic2.asm line 2020: unrecognized argument.             (C)
2021   050E             	XOR	A
basic2.asm line 2021: unrecognized instruction.          (XOR)
basic2.asm line 2022: Label not found: (E)
basic2.asm line 2022: Unused data in MS byte of argument. (2)
2022   050E F4 00 00    	CP	E		; Bytes of string 2 to do
2023   0511             	INC	A
basic2.asm line 2023: unrecognized instruction.          (INC)
2024   0511             	RET	NC		; Exit if end of string 2
basic2.asm line 2024: unrecognized argument.             (NC)
2025   0511             	DEC	D		; Count bytes in string 1
basic2.asm line 2025: unrecognized instruction.          (DEC)
2026   0511             	DEC	E		; Count bytes in string 2
basic2.asm line 2026: unrecognized instruction.          (DEC)
2027   0511             	LD	A,(BC)		; Byte in string 2
basic2.asm line 2027: unrecognized instruction.          (LD)
basic2.asm line 2028: Label not found: (HL)
basic2.asm line 2028: Unused data in MS byte of argument. (2)
2028   0511 F4 00 00    	CP	(HL)		; Compare to byte in string 1
2029   0514             	INC	HL		; Move up string 1
basic2.asm line 2029: unrecognized instruction.          (INC)
2030   0514             	INC	BC		; Move up string 2
basic2.asm line 2030: unrecognized instruction.          (INC)
2031   0514             	JR	Z,CMPSTR		; Same - Try next bytes
basic2.asm line 2031: unrecognized instruction.          (JR)
2032   0514             	CCF			; Flag difference (">" or "<")
basic2.asm line 2032: unrecognized instruction.          (CCF)
basic2.asm line 2033: Label not found: (FLGDIF)
basic2.asm line 2033: Unused data in MS byte of argument. (2)
2033   0514 F2 00 00    	JP	FLGDIF		; "<" gives -1 , ">" gives +1
2034   0517             
2035   0517             CMPRES:	INC	A		; Increment current value
basic2.asm line 2035: Label not found: (CMPRES)
basic2.asm line 2035: label value misalligned.           (CMPRES)
basic2.asm line 2035: unrecognized instruction.          (CMPRES)
2036   0517             	ADC	A,A		; Double plus carry
basic2.asm line 2036: unrecognized argument.             (A,A)
2037   0517             	POP	BC		; Get other value
basic2.asm line 2037: unrecognized argument.             (BC)
2038   0517             	AND	B		; Combine them
basic2.asm line 2038: unrecognized instruction.          (AND)
2039   0517             	ADD	A,-1		; Carry set if different
basic2.asm line 2039: unrecognized argument.             (A,-1)
2040   0517             	SBC	A,A		; 00 - Equal , FF - Different
basic2.asm line 2040: unrecognized instruction.          (SBC)
basic2.asm line 2041: Label not found: (FLGREL)
basic2.asm line 2041: Unused data in MS byte of argument. (2)
2041   0517 F2 00 00    	JP	FLGREL		; Set current value & continue
2042   051A             ;------------------------------------------------------------------------------
2043   051A             ; NOT	FPREG = NOT(FPREG)
2044   051A             ;------------------------------------------------------------------------------
2045   051A             EVNOT:	LD	D,5AH		; Precedence value for "NOT"
basic2.asm line 2045: Label not found: (EVNOT)
basic2.asm line 2045: label value misalligned.           (EVNOT)
basic2.asm line 2045: unrecognized instruction.          (EVNOT)
basic2.asm line 2046: Label not found: (EVAL1)
basic2.asm line 2046: Unused data in MS byte of argument. (2)
2046   051A CD 00 00    	CALL	EVAL1		; Eval until precedence break
2047   051D CD 2E 04    	CALL	TSTNUM		; Make sure it's a number
basic2.asm line 2048: Label not found: (DEINT)
basic2.asm line 2048: Unused data in MS byte of argument. (2)
2048   0520 CD 00 00    	CALL	DEINT		; Get integer -32768 - 32767
2049   0523             	LD	A,E		; Get LSB
basic2.asm line 2049: unrecognized instruction.          (LD)
2050   0523             	CPL			; Invert LSB
basic2.asm line 2050: unrecognized instruction.          (CPL)
2051   0523             	LD	C,A		; Save "NOT" of LSB
basic2.asm line 2051: unrecognized instruction.          (LD)
2052   0523             	LD	A,D		; Get MSB
basic2.asm line 2052: unrecognized instruction.          (LD)
2053   0523             	CPL			; Invert MSB
basic2.asm line 2053: unrecognized instruction.          (CPL)
basic2.asm line 2054: Label not found: (ACPASS)
basic2.asm line 2054: Unused data in MS byte of argument. (2)
2054   0523 CD 00 00    	CALL	ACPASS		; Save AC as current
2055   0526             	POP	BC		; Clean up stack
basic2.asm line 2055: unrecognized argument.             (BC)
basic2.asm line 2056: Label not found: (EVAL3)
basic2.asm line 2056: Unused data in MS byte of argument. (2)
2056   0526 F2 00 00    	JP	EVAL3		; Continue evaluation
2057   0529             ;------------------------------------------------------------------------------
2058   0529             ; DIM
2059   0529             ;------------------------------------------------------------------------------
2060   0529             DIMRET:	DEC	HL		; DEC 'cos GETCHR INCs
basic2.asm line 2060: Label not found: (DIMRET)
basic2.asm line 2060: label value misalligned.           (DIMRET)
basic2.asm line 2060: unrecognized instruction.          (DIMRET)
basic2.asm line 2061: Label not found: (GETCHR)
basic2.asm line 2061: Unused data in MS byte of argument. (2)
2061   0529 CD 00 00    	CALL	GETCHR		; Get next character
2062   052C             	RET	Z		; End of DIM statement
basic2.asm line 2062: unrecognized argument.             (Z)
basic2.asm line 2063: Label not found: (CHKSYN)
basic2.asm line 2063: Unused data in MS byte of argument. (2)
2063   052C CD 00 00    	CALL	CHKSYN		; Make sure "," follows
2064   052F 2C          	.BYTE	','
2065   0530             DIM:	LD	BC,DIMRET		; Return to "DIMRET"
basic2.asm line 2065: Label not found: (DIM)
basic2.asm line 2065: label value misalligned.           (DIM)
basic2.asm line 2065: unrecognized instruction.          (DIM)
2066   0530             	PUSH	BC		; Save on stack
basic2.asm line 2066: unrecognized argument.             (BC)
2067   0530 F6          	.BYTE	0F6H		; Flag "Create" variable
2068   0531             GETVAR:	XOR	A		; Find variable address,to DE
basic2.asm line 2068: Label not found: (GETVAR)
basic2.asm line 2068: label value misalligned.           (GETVAR)
basic2.asm line 2068: unrecognized instruction.          (GETVAR)
2069   0531             	LD	(LCRFLG),A		; Set locate / create flag
basic2.asm line 2069: unrecognized instruction.          (LD)
2070   0531             	LD	B,(HL)		; Get First byte of name
basic2.asm line 2070: unrecognized instruction.          (LD)
basic2.asm line 2071: Label not found: (CHKLTR)
basic2.asm line 2071: Unused data in MS byte of argument. (2)
2071   0531 CD 00 00    GTFNAM:	CALL	CHKLTR		; See if a letter
basic2.asm line 2072: Label not found: (C)
basic2.asm line 2072: Unknown token: (,)
basic2.asm line 2072: Unknown token.    
basic2.asm line 2072: Label not found: (SNERR)
basic2.asm line 2072: Unused data in MS byte of argument. (2)
2072   0534 F2 00 00    	JP	C,SNERR		; ?SN Error if not a letter
2073   0537             	XOR	A
basic2.asm line 2073: unrecognized instruction.          (XOR)
2074   0537             	LD	C,A		; Clear second byte of name
basic2.asm line 2074: unrecognized instruction.          (LD)
2075   0537             	LD	(TYPE),A		; Set type to numeric
basic2.asm line 2075: unrecognized instruction.          (LD)
basic2.asm line 2076: Label not found: (GETCHR)
basic2.asm line 2076: Unused data in MS byte of argument. (2)
2076   0537 CD 00 00    	CALL	GETCHR		; Get next character
2077   053A             	JR	C,SVNAM2		; Numeric - Save in name
basic2.asm line 2077: unrecognized instruction.          (JR)
basic2.asm line 2078: Label not found: (CHKLTR)
basic2.asm line 2078: Unused data in MS byte of argument. (2)
2078   053A CD 00 00    	CALL	CHKLTR		; See if a letter
2079   053D             	JR	C,CHARTY		; Not a letter - Check type
basic2.asm line 2079: unrecognized instruction.          (JR)
2080   053D             SVNAM2:	LD	C,A		; Save second byte of name
basic2.asm line 2080: Label not found: (SVNAM2)
basic2.asm line 2080: label value misalligned.           (SVNAM2)
basic2.asm line 2080: unrecognized instruction.          (SVNAM2)
basic2.asm line 2081: Label not found: (GETCHR)
basic2.asm line 2081: Unused data in MS byte of argument. (2)
2081   053D CD 00 00    ENDNAM:	CALL	GETCHR		; Get next character
2082   0540             	JR	C,ENDNAM		; Numeric - Get another
basic2.asm line 2082: unrecognized instruction.          (JR)
basic2.asm line 2083: Label not found: (CHKLTR)
basic2.asm line 2083: Unused data in MS byte of argument. (2)
2083   0540 CD 00 00    	CALL	CHKLTR		; See if a letter
2084   0543             	JR	NC,ENDNAM		; Letter - Get another
basic2.asm line 2084: unrecognized instruction.          (JR)
2085   0543             CHARTY:	SUB	'$'		; String variable?
basic2.asm line 2085: Label not found: (CHARTY)
basic2.asm line 2085: label value misalligned.           (CHARTY)
basic2.asm line 2085: unrecognized argument.             (CHARTY)
2086   0543             	JR	NZ,NOTSTR		; No - Numeric variable
basic2.asm line 2086: unrecognized instruction.          (JR)
2087   0543             	INC	A		; A = 1 (string type)
basic2.asm line 2087: unrecognized instruction.          (INC)
2088   0543             	LD	(TYPE),A		; Set type to string
basic2.asm line 2088: unrecognized instruction.          (LD)
2089   0543             	RRCA			; A = 80H , Flag for string
basic2.asm line 2089: unrecognized instruction.          (RRCA)
2090   0543             	ADD	A,C		; 2nd byte of name has bit 7 on
basic2.asm line 2090: unrecognized argument.             (A,C)
2091   0543             	LD	C,A		; Resave second byte on name
basic2.asm line 2091: unrecognized instruction.          (LD)
basic2.asm line 2092: Label not found: (GETCHR)
basic2.asm line 2092: Unused data in MS byte of argument. (2)
2092   0543 CD 00 00    	CALL	GETCHR		; Get next character
2093   0546             NOTSTR:	LD	A,(FORFLG)	; Array name needed ?
basic2.asm line 2093: Label not found: (NOTSTR)
basic2.asm line 2093: label value misalligned.           (NOTSTR)
basic2.asm line 2093: unrecognized instruction.          (NOTSTR)
2094   0546             	DEC	A
basic2.asm line 2094: unrecognized instruction.          (DEC)
basic2.asm line 2095: Label not found: (Z)
basic2.asm line 2095: Unknown token: (,)
basic2.asm line 2095: Unknown token.    
basic2.asm line 2095: Label not found: (ARLDSV)
basic2.asm line 2095: Unused data in MS byte of argument. (2)
2095   0546 F2 00 00    	JP	Z,ARLDSV		; Yes - Get array name
basic2.asm line 2096: Label not found: (P)
basic2.asm line 2096: Unknown token: (,)
basic2.asm line 2096: Unknown token.    
basic2.asm line 2096: Label not found: (NSCFOR)
basic2.asm line 2096: Unused data in MS byte of argument. (2)
2096   0549 F2 00 00    	JP	P,NSCFOR		; No array with "FOR" or "FN"
2097   054C             	LD	A,(HL)		; Get byte again
basic2.asm line 2097: unrecognized instruction.          (LD)
2098   054C             	SUB	'('		; Subscripted variable?
basic2.asm line 2098: unrecognized argument.             ('(')
basic2.asm line 2099: Label not found: (Z)
basic2.asm line 2099: Unknown token: (,)
basic2.asm line 2099: Unknown token.    
basic2.asm line 2099: Label not found: (SBSCPT)
basic2.asm line 2099: Unused data in MS byte of argument. (2)
2099   054C F2 00 00    	JP	Z,SBSCPT		; Yes - Sort out subscript
2100   054F             
2101   054F             NSCFOR:	XOR	A		; Simple variable
basic2.asm line 2101: Label not found: (NSCFOR)
basic2.asm line 2101: label value misalligned.           (NSCFOR)
basic2.asm line 2101: unrecognized instruction.          (NSCFOR)
2102   054F             	LD	(FORFLG),A	; Clear "FOR" flag
basic2.asm line 2102: unrecognized instruction.          (LD)
2103   054F             	PUSH	HL		; Save code string address
basic2.asm line 2103: unrecognized argument.             (HL)
2104   054F             	LD	D,B		; DE = Variable name to find
basic2.asm line 2104: unrecognized instruction.          (LD)
2105   054F             	LD	E,C
basic2.asm line 2105: unrecognized instruction.          (LD)
2106   054F             	LD	HL,(FNRGNM)	; FN argument name
basic2.asm line 2106: unrecognized instruction.          (LD)
basic2.asm line 2107: Label not found: (CPHLDE)
basic2.asm line 2107: Unused data in MS byte of argument. (2)
2107   054F CD 00 00    	CALL	CPHLDE		; Is it the FN argument?
2108   0552             	LD	DE,FNARG		; Point to argument value
basic2.asm line 2108: unrecognized instruction.          (LD)
basic2.asm line 2109: Label not found: (Z)
basic2.asm line 2109: Unknown token: (,)
basic2.asm line 2109: Unknown token.    
basic2.asm line 2109: Label not found: (POPHRT)
basic2.asm line 2109: Unused data in MS byte of argument. (2)
2109   0552 F2 00 00    	JP	Z,POPHRT		; Yes - Return FN argument value
2110   0555             	LD	HL,(VAREND)	; End of variables
basic2.asm line 2110: unrecognized instruction.          (LD)
2111   0555             	EX	DE,HL		; Address of end of search
basic2.asm line 2111: unrecognized instruction.          (EX)
2112   0555             	LD	HL,(PROGND)	; Start of variables address
basic2.asm line 2112: unrecognized instruction.          (LD)
basic2.asm line 2113: Label not found: (CPHLDE)
basic2.asm line 2113: Unused data in MS byte of argument. (2)
2113   0555 CD 00 00    FNDVAR:	CALL	CPHLDE		; End of variable list table?
2114   0558             	JR	Z,CFEVAL		; Yes - Called from EVAL?
basic2.asm line 2114: unrecognized instruction.          (JR)
2115   0558             	LD	A,C		; Get second byte of name
basic2.asm line 2115: unrecognized instruction.          (LD)
2116   0558             	SUB	(HL)		; Compare with name in list
basic2.asm line 2116: unrecognized argument.             ((HL))
2117   0558             	INC	HL		; Move on to first byte
basic2.asm line 2117: unrecognized instruction.          (INC)
2118   0558             	JR	NZ,FNTHR		; Different - Find another
basic2.asm line 2118: unrecognized instruction.          (JR)
2119   0558             	LD	A,B		; Get first byte of name
basic2.asm line 2119: unrecognized instruction.          (LD)
2120   0558             	SUB	(HL)		; Compare with name in list
basic2.asm line 2120: unrecognized argument.             ((HL))
2121   0558             FNTHR:	INC	HL		; Move on to LSB of value
basic2.asm line 2121: Label not found: (FNTHR)
basic2.asm line 2121: label value misalligned.           (FNTHR)
basic2.asm line 2121: unrecognized instruction.          (FNTHR)
basic2.asm line 2122: Label not found: (Z)
basic2.asm line 2122: Unknown token: (,)
basic2.asm line 2122: Unknown token.    
basic2.asm line 2122: Label not found: (RETADR)
basic2.asm line 2122: Unused data in MS byte of argument. (2)
2122   0558 F2 00 00    	JP	Z,RETADR		; Found - Return address
2123   055B             	INC	HL		; <- Skip
basic2.asm line 2123: unrecognized instruction.          (INC)
2124   055B             	INC	HL		; <- over
basic2.asm line 2124: unrecognized instruction.          (INC)
2125   055B             	INC	HL		; <- F.P.
basic2.asm line 2125: unrecognized instruction.          (INC)
2126   055B             	INC	HL		; <- value
basic2.asm line 2126: unrecognized instruction.          (INC)
2127   055B F2 55 05    	JP	FNDVAR		; Keep looking
2128   055E             
2129   055E             CFEVAL:	POP	HL		; Restore code string address
basic2.asm line 2129: Label not found: (CFEVAL)
basic2.asm line 2129: label value misalligned.           (CFEVAL)
basic2.asm line 2129: unrecognized argument.             (CFEVAL)
2130   055E             	EX	(SP),HL		; Get return address
basic2.asm line 2130: unrecognized instruction.          (EX)
2131   055E             	PUSH	DE		; Save address of variable
basic2.asm line 2131: unrecognized argument.             (DE)
2132   055E             	LD	DE,FRMEVL		; Return address in EVAL
basic2.asm line 2132: unrecognized instruction.          (LD)
basic2.asm line 2133: Label not found: (CPHLDE)
basic2.asm line 2133: Unused data in MS byte of argument. (2)
2133   055E CD 00 00    	CALL	CPHLDE		; Called from EVAL ?
2134   0561             	POP	DE		; Restore address of variable
basic2.asm line 2134: unrecognized argument.             (DE)
basic2.asm line 2135: Label not found: (Z)
basic2.asm line 2135: Unknown token: (,)
basic2.asm line 2135: Unknown token.    
basic2.asm line 2135: Label not found: (RETNUL)
basic2.asm line 2135: Unused data in MS byte of argument. (2)
2135   0561 F2 00 00    	JP	Z,RETNUL		; Yes - Return null variable
2136   0564             	EX	(SP),HL		; Put back return
basic2.asm line 2136: unrecognized instruction.          (EX)
2137   0564             	PUSH	HL		; Save code string address
basic2.asm line 2137: unrecognized argument.             (HL)
2138   0564             	PUSH	BC		; Save variable name
basic2.asm line 2138: unrecognized argument.             (BC)
2139   0564             	LD	BC,6		; 2 byte name plus 4 byte data
basic2.asm line 2139: unrecognized instruction.          (LD)
2140   0564             	LD	HL,(ARREND)	; End of arrays
basic2.asm line 2140: unrecognized instruction.          (LD)
2141   0564             	PUSH	HL		; Save end of arrays
basic2.asm line 2141: unrecognized argument.             (HL)
2142   0564             	ADD	HL,BC		; Move up 6 bytes
basic2.asm line 2142: unrecognized argument.             (HL,BC)
2143   0564             	POP	BC		; Source address in BC
basic2.asm line 2143: unrecognized argument.             (BC)
2144   0564             	PUSH	HL		; Save new end address
basic2.asm line 2144: unrecognized argument.             (HL)
2145   0564 CD 92 00    	CALL	MOVUP		; Move arrays up
2146   0567             	POP	HL		; Restore new end address
basic2.asm line 2146: unrecognized argument.             (HL)
2147   0567             	LD	(ARREND),HL	; Set new end address
basic2.asm line 2147: unrecognized instruction.          (LD)
2148   0567             	LD	H,B		; End of variables to HL
basic2.asm line 2148: unrecognized instruction.          (LD)
2149   0567             	LD	L,C
basic2.asm line 2149: unrecognized instruction.          (LD)
2150   0567             	LD	(VAREND),HL	; Set new end address
basic2.asm line 2150: unrecognized instruction.          (LD)
2151   0567             
2152   0567             ZEROLP:	DEC	HL		; Back through to zero variable
basic2.asm line 2152: Label not found: (ZEROLP)
basic2.asm line 2152: label value misalligned.           (ZEROLP)
basic2.asm line 2152: unrecognized instruction.          (ZEROLP)
2153   0567             	LD	(HL),0		; Zero byte in variable
basic2.asm line 2153: unrecognized instruction.          (LD)
basic2.asm line 2154: Label not found: (CPHLDE)
basic2.asm line 2154: Unused data in MS byte of argument. (2)
2154   0567 CD 00 00    	CALL	CPHLDE		; Done them all?
basic2.asm line 2155: Label not found: (NZ)
basic2.asm line 2155: Unknown token: (,)
basic2.asm line 2155: Unknown token.    
basic2.asm line 2155: Label not found: (ZEROLP)
basic2.asm line 2155: Unused data in MS byte of argument. (2)
2155   056A F2 00 00    	JP	NZ,ZEROLP		; No - Keep on going
2156   056D             	POP	DE		; Get variable name
basic2.asm line 2156: unrecognized argument.             (DE)
2157   056D             	LD	(HL),E		; Store second character
basic2.asm line 2157: unrecognized instruction.          (LD)
2158   056D             	INC	HL
basic2.asm line 2158: unrecognized instruction.          (INC)
2159   056D             	LD	(HL),D		; Store first character
basic2.asm line 2159: unrecognized instruction.          (LD)
2160   056D             	INC	HL
basic2.asm line 2160: unrecognized instruction.          (INC)
2161   056D             RETADR:	EX	DE,HL		; Address of variable in DE
basic2.asm line 2161: Label not found: (RETADR)
basic2.asm line 2161: label value misalligned.           (RETADR)
basic2.asm line 2161: unrecognized instruction.          (RETADR)
2162   056D             	POP	HL		; Restore code string address
basic2.asm line 2162: unrecognized argument.             (HL)
2163   056D C9          	RET
2164   056E             
2165   056E             RETNUL:	LD	(FPEXP),A		; Set result to zero
basic2.asm line 2165: Label not found: (RETNUL)
basic2.asm line 2165: label value misalligned.           (RETNUL)
basic2.asm line 2165: unrecognized instruction.          (RETNUL)
2166   056E             	LD	HL,ZERBYT		; Also set a null string
basic2.asm line 2166: unrecognized instruction.          (LD)
2167   056E             	LD	(FPREG),HL	; Save for EVAL
basic2.asm line 2167: unrecognized instruction.          (LD)
2168   056E             	POP	HL		; Restore code string address
basic2.asm line 2168: unrecognized argument.             (HL)
2169   056E C9          	RET
2170   056F             
2171   056F             SBSCPT:	PUSH	HL		; Save code string address
basic2.asm line 2171: Label not found: (SBSCPT)
basic2.asm line 2171: label value misalligned.           (SBSCPT)
basic2.asm line 2171: unrecognized argument.             (SBSCPT)
2172   056F             	LD	HL,(LCRFLG)	; Locate/Create and Type
basic2.asm line 2172: unrecognized instruction.          (LD)
2173   056F             	EX	(SP),HL		; Save and get code string
basic2.asm line 2173: unrecognized instruction.          (EX)
2174   056F             	LD	D,A		; Zero number of dimensions
basic2.asm line 2174: unrecognized instruction.          (LD)
2175   056F             SCPTLP:	PUSH	DE		; Save number of dimensions
basic2.asm line 2175: Label not found: (SCPTLP)
basic2.asm line 2175: label value misalligned.           (SCPTLP)
basic2.asm line 2175: unrecognized argument.             (SCPTLP)
2176   056F             	PUSH	BC		; Save array name
basic2.asm line 2176: unrecognized argument.             (BC)
2177   056F CD 69 02    	CALL	FPSINT		; Get subscript (0-32767)
2178   0572             	POP	BC		; Restore array name
basic2.asm line 2178: unrecognized argument.             (BC)
2179   0572             	POP	AF		; Get number of dimensions
basic2.asm line 2179: unrecognized argument.             (AF)
2180   0572             	EX	DE,HL
basic2.asm line 2180: unrecognized instruction.          (EX)
2181   0572             	EX	(SP),HL		; Save subscript value
basic2.asm line 2181: unrecognized instruction.          (EX)
2182   0572             	PUSH	HL		; Save LCRFLG and TYPE
basic2.asm line 2182: unrecognized argument.             (HL)
2183   0572             	EX	DE,HL
basic2.asm line 2183: unrecognized instruction.          (EX)
2184   0572             	INC	A		; Count dimensions
basic2.asm line 2184: unrecognized instruction.          (INC)
2185   0572             	LD	D,A		; Save in D
basic2.asm line 2185: unrecognized instruction.          (LD)
2186   0572             	LD	A,(HL)		; Get next byte in code string
basic2.asm line 2186: unrecognized instruction.          (LD)
2187   0572 F4 2C 00    	CP	','		; Comma (more to come)?
2188   0575             	JR	Z,SCPTLP		; Yes - More subscripts
basic2.asm line 2188: unrecognized instruction.          (JR)
basic2.asm line 2189: Label not found: (CHKSYN)
basic2.asm line 2189: Unused data in MS byte of argument. (2)
2189   0575 CD 00 00    	CALL	CHKSYN		; Make sure ")" follows
2190   0578 29          	.BYTE	')'
2191   0579             	LD	(NXTOPR),HL	; Save code string address
basic2.asm line 2191: unrecognized instruction.          (LD)
2192   0579             	POP	HL		; Get LCRFLG and TYPE
basic2.asm line 2192: unrecognized argument.             (HL)
2193   0579             	LD	(LCRFLG),HL	; Restore Locate/create & type
basic2.asm line 2193: unrecognized instruction.          (LD)
2194   0579             	LD	E,0		; Flag not SAVE* or LOAD*
basic2.asm line 2194: unrecognized instruction.          (LD)
2195   0579             	PUSH	DE		; Save number of dimensions (D)
basic2.asm line 2195: unrecognized argument.             (DE)
2196   0579 11          	.BYTE	$11		; Skip "PUSH HL" and "PUSH AF'
2197   057A             
2198   057A             ARLDSV:	PUSH	HL		; Save code string address
basic2.asm line 2198: Label not found: (ARLDSV)
basic2.asm line 2198: label value misalligned.           (ARLDSV)
basic2.asm line 2198: unrecognized argument.             (ARLDSV)
2199   057A             	PUSH	AF		; A = 00 , Flags set = Z,N
basic2.asm line 2199: unrecognized argument.             (AF)
2200   057A             	LD	HL,(VAREND)	; Start of arrays
basic2.asm line 2200: unrecognized instruction.          (LD)
2201   057A 3E          	.BYTE	$3E		; Skip "ADD HL,DE"
2202   057B             FNDARY:	ADD	HL,DE		; Move to next array start
basic2.asm line 2202: Label not found: (FNDARY)
basic2.asm line 2202: label value misalligned.           (FNDARY)
basic2.asm line 2202: unrecognized argument.             (FNDARY)
2203   057B             	EX	DE,HL
basic2.asm line 2203: unrecognized instruction.          (EX)
2204   057B             	LD	HL,(ARREND)	; End of arrays
basic2.asm line 2204: unrecognized instruction.          (LD)
2205   057B             	EX	DE,HL		; Current array pointer
basic2.asm line 2205: unrecognized instruction.          (EX)
basic2.asm line 2206: Label not found: (CPHLDE)
basic2.asm line 2206: Unused data in MS byte of argument. (2)
2206   057B CD 00 00    	CALL	CPHLDE		; End of arrays found?
2207   057E             	JR	Z,CREARY		; Yes - Create array
basic2.asm line 2207: unrecognized instruction.          (JR)
2208   057E             	LD	A,(HL)		; Get second byte of name
basic2.asm line 2208: unrecognized instruction.          (LD)
basic2.asm line 2209: Label not found: (C)
basic2.asm line 2209: Unused data in MS byte of argument. (2)
2209   057E F4 00 00    	CP	C		; Compare with name given
2210   0581             	INC	HL		; Move on
basic2.asm line 2210: unrecognized instruction.          (INC)
2211   0581             	JR	NZ,NXTARY		; Different - Find next array
basic2.asm line 2211: unrecognized instruction.          (JR)
2212   0581             	LD	A,(HL)		; Get first byte of name
basic2.asm line 2212: unrecognized instruction.          (LD)
basic2.asm line 2213: Label not found: (B)
basic2.asm line 2213: Unused data in MS byte of argument. (2)
2213   0581 F4 00 00    	CP	B		; Compare with name given
2214   0584             NXTARY:	INC	HL		; Move on
basic2.asm line 2214: Label not found: (NXTARY)
basic2.asm line 2214: label value misalligned.           (NXTARY)
basic2.asm line 2214: unrecognized instruction.          (NXTARY)
2215   0584             	LD	E,(HL)		; Get LSB of next array address
basic2.asm line 2215: unrecognized instruction.          (LD)
2216   0584             	INC	HL
basic2.asm line 2216: unrecognized instruction.          (INC)
2217   0584             	LD	D,(HL)		; Get MSB of next array address
basic2.asm line 2217: unrecognized instruction.          (LD)
2218   0584             	INC	HL
basic2.asm line 2218: unrecognized instruction.          (INC)
2219   0584             	JR	NZ,FNDARY		; Not found - Keep looking
basic2.asm line 2219: unrecognized instruction.          (JR)
2220   0584             	LD	A,(LCRFLG)	; Found Locate or Create it?
basic2.asm line 2220: unrecognized instruction.          (LD)
2221   0584             	OR	A
basic2.asm line 2221: unrecognized instruction.          (OR)
basic2.asm line 2222: Label not found: (NZ)
basic2.asm line 2222: Unknown token: (,)
basic2.asm line 2222: Unknown token.    
basic2.asm line 2222: Label not found: (DDERR)
basic2.asm line 2222: Unused data in MS byte of argument. (2)
2222   0584 F2 00 00    	JP	NZ,DDERR		; Create - ?DD Error
2223   0587             	POP	AF		; Locate - Get number of dim'ns
basic2.asm line 2223: unrecognized argument.             (AF)
2224   0587             	LD	B,H		; BC Points to array dim'ns
basic2.asm line 2224: unrecognized instruction.          (LD)
2225   0587             	LD	C,L
basic2.asm line 2225: unrecognized instruction.          (LD)
basic2.asm line 2226: Label not found: (Z)
basic2.asm line 2226: Unknown token: (,)
basic2.asm line 2226: Unknown token.    
basic2.asm line 2226: Label not found: (POPHRT)
basic2.asm line 2226: Unused data in MS byte of argument. (2)
2226   0587 F2 00 00    	JP	Z,POPHRT		; Jump if array load/save
2227   058A             	SUB	(HL)		; Same number of dimensions?
basic2.asm line 2227: unrecognized argument.             ((HL))
basic2.asm line 2228: Label not found: (Z)
basic2.asm line 2228: Unknown token: (,)
basic2.asm line 2228: Unknown token.    
basic2.asm line 2228: Label not found: (FINDEL)
basic2.asm line 2228: Unused data in MS byte of argument. (2)
2228   058A F2 00 00    	JP	Z,FINDEL		; Yes - Find element
2229   058D             BSERR:	LD	E,BS		; ?BS Error
basic2.asm line 2229: Label not found: (BSERR)
basic2.asm line 2229: label value misalligned.           (BSERR)
basic2.asm line 2229: unrecognized instruction.          (BSERR)
2230   058D F2 A3 00    	JP	ERROR		; Output error
2231   0590             ;------------------------------------------------------------------------------
2232   0590             ; CREATE ARRAY IN MEMORY
2233   0590             ;------------------------------------------------------------------------------
2234   0590             CREARY:	LD	DE,4		; 4 Bytes per entry
basic2.asm line 2234: Label not found: (CREARY)
basic2.asm line 2234: label value misalligned.           (CREARY)
basic2.asm line 2234: unrecognized instruction.          (CREARY)
2235   0590             	POP	AF		; Array to save or 0 dim'ns?
basic2.asm line 2235: unrecognized argument.             (AF)
basic2.asm line 2236: Label not found: (Z)
basic2.asm line 2236: Unknown token: (,)
basic2.asm line 2236: Unknown token.    
basic2.asm line 2236: Label not found: (FCERR)
basic2.asm line 2236: Unused data in MS byte of argument. (2)
2236   0590 F2 00 00    	JP	Z,FCERR		; Yes - ?FC Error
2237   0593             	LD	(HL),C		; Save second byte of name
basic2.asm line 2237: unrecognized instruction.          (LD)
2238   0593             	INC	HL
basic2.asm line 2238: unrecognized instruction.          (INC)
2239   0593             	LD	(HL),B		; Save first byte of name
basic2.asm line 2239: unrecognized instruction.          (LD)
2240   0593             	INC	HL
basic2.asm line 2240: unrecognized instruction.          (INC)
2241   0593             	LD	C,A		; Number of dimensions to C
basic2.asm line 2241: unrecognized instruction.          (LD)
basic2.asm line 2242: Label not found: (CHKSTK)
basic2.asm line 2242: Unused data in MS byte of argument. (2)
2242   0593 CD 00 00    	CALL	CHKSTK		; Check if enough memory
2243   0596             	INC	HL		; Point to number of dimensions
basic2.asm line 2243: unrecognized instruction.          (INC)
2244   0596             	INC	HL
basic2.asm line 2244: unrecognized instruction.          (INC)
2245   0596             	LD	(CUROPR),HL	; Save address of pointer
basic2.asm line 2245: unrecognized instruction.          (LD)
2246   0596             	LD	(HL),C		; Set number of dimensions
basic2.asm line 2246: unrecognized instruction.          (LD)
2247   0596             	INC	HL
basic2.asm line 2247: unrecognized instruction.          (INC)
2248   0596             	LD	A,(LCRFLG)	; Locate of Create?
basic2.asm line 2248: unrecognized instruction.          (LD)
2249   0596             	RLA			; Carry set = Create
basic2.asm line 2249: unrecognized instruction.          (RLA)
2250   0596             	LD	A,C		; Get number of dimensions
basic2.asm line 2250: unrecognized instruction.          (LD)
2251   0596             CRARLP:	LD	BC,10+1		; Default dimension size 10
basic2.asm line 2251: Label not found: (CRARLP)
basic2.asm line 2251: label value misalligned.           (CRARLP)
basic2.asm line 2251: unrecognized instruction.          (CRARLP)
2252   0596             	JR	NC,DEFSIZ		; Locate - Set default size
basic2.asm line 2252: unrecognized instruction.          (JR)
2253   0596             	POP	BC		; Get specified dimension size
basic2.asm line 2253: unrecognized argument.             (BC)
2254   0596             	INC	BC		; Include zero element
basic2.asm line 2254: unrecognized instruction.          (INC)
2255   0596             DEFSIZ:	LD	(HL),C		; Save LSB of dimension size
basic2.asm line 2255: Label not found: (DEFSIZ)
basic2.asm line 2255: label value misalligned.           (DEFSIZ)
basic2.asm line 2255: unrecognized instruction.          (DEFSIZ)
2256   0596             	INC	HL
basic2.asm line 2256: unrecognized instruction.          (INC)
2257   0596             	LD	(HL),B		; Save MSB of dimension size
basic2.asm line 2257: unrecognized instruction.          (LD)
2258   0596             	INC	HL
basic2.asm line 2258: unrecognized instruction.          (INC)
2259   0596             	PUSH	AF		; Save num' of dim'ns an status
basic2.asm line 2259: unrecognized argument.             (AF)
2260   0596             	PUSH	HL		; Save address of dim'n size
basic2.asm line 2260: unrecognized argument.             (HL)
basic2.asm line 2261: Label not found: (MLDEBC)
basic2.asm line 2261: Unused data in MS byte of argument. (2)
2261   0596 CD 00 00    	CALL	MLDEBC		; Multiply DE by BC to find
2262   0599             	EX	DE,HL		; amount of mem needed (to DE)
basic2.asm line 2262: unrecognized instruction.          (EX)
2263   0599             	POP	HL		; Restore address of dimension
basic2.asm line 2263: unrecognized argument.             (HL)
2264   0599             	POP	AF		; Restore number of dimensions
basic2.asm line 2264: unrecognized argument.             (AF)
2265   0599             	DEC	A		; Count them
basic2.asm line 2265: unrecognized instruction.          (DEC)
2266   0599             	JR	NZ,CRARLP		; Do next dimension if more
basic2.asm line 2266: unrecognized instruction.          (JR)
2267   0599             	PUSH	AF		; Save locate/create flag
basic2.asm line 2267: unrecognized argument.             (AF)
2268   0599             	LD	B,D		; MSB of memory needed
basic2.asm line 2268: unrecognized instruction.          (LD)
2269   0599             	LD	C,E		; LSB of memory needed
basic2.asm line 2269: unrecognized instruction.          (LD)
2270   0599             	EX	DE,HL
basic2.asm line 2270: unrecognized instruction.          (EX)
2271   0599             	ADD	HL,DE		; Add bytes to array start
basic2.asm line 2271: unrecognized argument.             (HL,DE)
basic2.asm line 2272: Label not found: (C)
basic2.asm line 2272: Unknown token: (,)
basic2.asm line 2272: Unknown token.    
basic2.asm line 2272: Label not found: (OMERR)
basic2.asm line 2272: Unused data in MS byte of argument. (2)
2272   0599 F2 00 00    	JP	C,OMERR		; Too big - Error
basic2.asm line 2273: Label not found: (ENFMEM)
basic2.asm line 2273: Unused data in MS byte of argument. (2)
2273   059C CD 00 00    	CALL	ENFMEM		; See if enough memory
2274   059F             	LD	(ARREND),HL	; Save new end of array
basic2.asm line 2274: unrecognized instruction.          (LD)
2275   059F             
2276   059F             ZERARY:	DEC	HL		; Back through array data
basic2.asm line 2276: Label not found: (ZERARY)
basic2.asm line 2276: label value misalligned.           (ZERARY)
basic2.asm line 2276: unrecognized instruction.          (ZERARY)
2277   059F             	LD	(HL),0		; Set array element to zero
basic2.asm line 2277: unrecognized instruction.          (LD)
basic2.asm line 2278: Label not found: (CPHLDE)
basic2.asm line 2278: Unused data in MS byte of argument. (2)
2278   059F CD 00 00    	CALL	CPHLDE		; All elements zeroed?
2279   05A2             	JR	NZ,ZERARY		; No - Keep on going
basic2.asm line 2279: unrecognized instruction.          (JR)
2280   05A2             	INC	BC		; Number of bytes + 1
basic2.asm line 2280: unrecognized instruction.          (INC)
2281   05A2             	LD	D,A		; A=0
basic2.asm line 2281: unrecognized instruction.          (LD)
2282   05A2             	LD	HL,(CUROPR)	; Get address of array
basic2.asm line 2282: unrecognized instruction.          (LD)
2283   05A2             	LD	E,(HL)		; Number of dimensions
basic2.asm line 2283: unrecognized instruction.          (LD)
2284   05A2             	EX	DE,HL		; To HL
basic2.asm line 2284: unrecognized instruction.          (EX)
2285   05A2             	ADD	HL,HL		; Two bytes per dimension size
basic2.asm line 2285: unrecognized argument.             (HL,HL)
2286   05A2             	ADD	HL,BC		; Add number of bytes
basic2.asm line 2286: unrecognized argument.             (HL,BC)
2287   05A2             	EX	DE,HL		; Bytes needed to DE
basic2.asm line 2287: unrecognized instruction.          (EX)
2288   05A2             	DEC	HL
basic2.asm line 2288: unrecognized instruction.          (DEC)
2289   05A2             	DEC	HL
basic2.asm line 2289: unrecognized instruction.          (DEC)
2290   05A2             	LD	(HL),E		; Save LSB of bytes needed
basic2.asm line 2290: unrecognized instruction.          (LD)
2291   05A2             	INC	HL
basic2.asm line 2291: unrecognized instruction.          (INC)
2292   05A2             	LD	(HL),D		; Save MSB of bytes needed
basic2.asm line 2292: unrecognized instruction.          (LD)
2293   05A2             	INC	HL
basic2.asm line 2293: unrecognized instruction.          (INC)
2294   05A2             	POP	AF		; Locate / Create?
basic2.asm line 2294: unrecognized argument.             (AF)
2295   05A2             	JR	C,ENDDIM		; A is 0 , End if create
basic2.asm line 2295: unrecognized instruction.          (JR)
2296   05A2             FINDEL:	LD	B,A		; Find array element
basic2.asm line 2296: Label not found: (FINDEL)
basic2.asm line 2296: label value misalligned.           (FINDEL)
basic2.asm line 2296: unrecognized instruction.          (FINDEL)
2297   05A2             	LD	C,A
basic2.asm line 2297: unrecognized instruction.          (LD)
2298   05A2             	LD	A,(HL)		; Number of dimensions
basic2.asm line 2298: unrecognized instruction.          (LD)
2299   05A2             	INC	HL
basic2.asm line 2299: unrecognized instruction.          (INC)
2300   05A2 16          	.BYTE	16H		; Skip "POP HL"
2301   05A3             FNDELP:	POP	HL		; Address of next dim' size
basic2.asm line 2301: Label not found: (FNDELP)
basic2.asm line 2301: label value misalligned.           (FNDELP)
basic2.asm line 2301: unrecognized argument.             (FNDELP)
2302   05A3             	LD	E,(HL)		; Get LSB of dim'n size
basic2.asm line 2302: unrecognized instruction.          (LD)
2303   05A3             	INC	HL
basic2.asm line 2303: unrecognized instruction.          (INC)
2304   05A3             	LD	D,(HL)		; Get MSB of dim'n size
basic2.asm line 2304: unrecognized instruction.          (LD)
2305   05A3             	INC	HL
basic2.asm line 2305: unrecognized instruction.          (INC)
2306   05A3             	EX	(SP),HL		; Save address - Get index
basic2.asm line 2306: unrecognized instruction.          (EX)
2307   05A3             	PUSH	AF		; Save number of dim'ns
basic2.asm line 2307: unrecognized argument.             (AF)
basic2.asm line 2308: Label not found: (CPHLDE)
basic2.asm line 2308: Unused data in MS byte of argument. (2)
2308   05A3 CD 00 00    	CALL	CPHLDE		; Dimension too large?
basic2.asm line 2309: Label not found: (NC)
basic2.asm line 2309: Unknown token: (,)
basic2.asm line 2309: Unknown token.    
basic2.asm line 2309: Label not found: (BSERR)
basic2.asm line 2309: Unused data in MS byte of argument. (2)
2309   05A6 F2 00 00    	JP	NC,BSERR		; Yes - ?BS Error
2310   05A9             	PUSH	HL		; Save index
basic2.asm line 2310: unrecognized argument.             (HL)
basic2.asm line 2311: Label not found: (MLDEBC)
basic2.asm line 2311: Unused data in MS byte of argument. (2)
2311   05A9 CD 00 00    	CALL	MLDEBC		; Multiply previous by size
2312   05AC             	POP	DE		; Index supplied to DE
basic2.asm line 2312: unrecognized argument.             (DE)
2313   05AC             	ADD	HL,DE		; Add index to pointer
basic2.asm line 2313: unrecognized argument.             (HL,DE)
2314   05AC             	POP	AF		; Number of dimensions
basic2.asm line 2314: unrecognized argument.             (AF)
2315   05AC             	DEC	A		; Count them
basic2.asm line 2315: unrecognized instruction.          (DEC)
2316   05AC             	LD	B,H		; MSB of pointer
basic2.asm line 2316: unrecognized instruction.          (LD)
2317   05AC             	LD	C,L		; LSB of pointer
basic2.asm line 2317: unrecognized instruction.          (LD)
2318   05AC             	JR	NZ,FNDELP		; More - Keep going
basic2.asm line 2318: unrecognized instruction.          (JR)
2319   05AC             	ADD	HL,HL		; 4 Bytes per element
basic2.asm line 2319: unrecognized argument.             (HL,HL)
2320   05AC             	ADD	HL,HL
basic2.asm line 2320: unrecognized argument.             (HL,HL)
2321   05AC             	POP	BC		; Start of array
basic2.asm line 2321: unrecognized argument.             (BC)
2322   05AC             	ADD	HL,BC		; Point to element
basic2.asm line 2322: unrecognized argument.             (HL,BC)
2323   05AC             	EX	DE,HL		; Address of element to DE
basic2.asm line 2323: unrecognized instruction.          (EX)
2324   05AC             ENDDIM:	LD	HL,(NXTOPR)	; Got code string address
basic2.asm line 2324: Label not found: (ENDDIM)
basic2.asm line 2324: label value misalligned.           (ENDDIM)
basic2.asm line 2324: unrecognized instruction.          (ENDDIM)
2325   05AC C9          	RET
2326   05AD             ;------------------------------------------------------------------------------
2327   05AD             ; FRE list amount of free memory remaining
2328   05AD             ;------------------------------------------------------------------------------
2329   05AD             FRE:	LD	HL,(ARREND)	; Start of free memory
basic2.asm line 2329: Label not found: (FRE)
basic2.asm line 2329: label value misalligned.           (FRE)
basic2.asm line 2329: unrecognized instruction.          (FRE)
2330   05AD             	EX	DE,HL		; To DE
basic2.asm line 2330: unrecognized instruction.          (EX)
2331   05AD             	LD	HL,(LSTRAM)	; Top of available (after CLEAR)
basic2.asm line 2331: unrecognized instruction.          (LD)
2332   05AD             	LD	A,(TYPE)		; Dummy argument type
basic2.asm line 2332: unrecognized instruction.          (LD)
2333   05AD             	OR	A		; If string, return free string memory
basic2.asm line 2333: unrecognized instruction.          (OR)
2334   05AD             	JR	Z,FRENUM		; Numeric - Free variable space
basic2.asm line 2334: unrecognized instruction.          (JR)
basic2.asm line 2335: Label not found: (GSTRCU)
basic2.asm line 2335: Unused data in MS byte of argument. (2)
2335   05AD CD 00 00    	CALL	GSTRCU		; Current string to pool
basic2.asm line 2336: Label not found: (GARBGE)
basic2.asm line 2336: Unused data in MS byte of argument. (2)
2336   05B0 CD 00 00    	CALL	GARBGE		; Garbage collection
2337   05B3             	LD	HL,(STRSPC)	; Bottom of string space in use
basic2.asm line 2337: unrecognized instruction.          (LD)
2338   05B3             	EX	DE,HL		; To DE
basic2.asm line 2338: unrecognized instruction.          (EX)
2339   05B3             	LD	HL,(STRBOT)	; Bottom of string space
basic2.asm line 2339: unrecognized instruction.          (LD)
2340   05B3             FRENUM:	LD	A,L		; Get LSB of end
basic2.asm line 2340: Label not found: (FRENUM)
basic2.asm line 2340: label value misalligned.           (FRENUM)
basic2.asm line 2340: unrecognized instruction.          (FRENUM)
2341   05B3 93          	SUB	E		; Subtract LSB of beginning
2342   05B4             	LD	C,A		; Save difference if C
basic2.asm line 2342: unrecognized instruction.          (LD)
2343   05B4             	LD	A,H		; Get MSB of end
basic2.asm line 2343: unrecognized instruction.          (LD)
2344   05B4             	SBC	A,D		; Subtract MSB of beginning
basic2.asm line 2344: unrecognized instruction.          (SBC)
2345   05B4             ;------------------------------------------------------------------------------	
2346   05B4             ACPASS:	LD	B,C		; Return integer AC
basic2.asm line 2346: Label not found: (ACPASS)
basic2.asm line 2346: label value misalligned.           (ACPASS)
basic2.asm line 2346: unrecognized instruction.          (ACPASS)
2347   05B4             ABPASS:	LD	D,B		; Return integer AB
basic2.asm line 2347: Label not found: (ABPASS)
basic2.asm line 2347: label value misalligned.           (ABPASS)
basic2.asm line 2347: unrecognized instruction.          (ABPASS)
2348   05B4             	LD	E,0		; Numeric type
basic2.asm line 2348: unrecognized instruction.          (LD)
2349   05B4             	LD	HL,TYPE		; Point to type
basic2.asm line 2349: unrecognized instruction.          (LD)
2350   05B4             	LD	(HL),E		; Set type to numeric
basic2.asm line 2350: unrecognized instruction.          (LD)
2351   05B4             	LD	B,80H+16		; 16 bit integer
basic2.asm line 2351: unrecognized instruction.          (LD)
basic2.asm line 2352: Label not found: (RETINT)
basic2.asm line 2352: Unused data in MS byte of argument. (2)
2352   05B4 F2 00 00    	JP	RETINT		; Return the integer
2353   05B7             ;------------------------------------------------------------------------------
2354   05B7             ; POS returns current cursor position
2355   05B7             ;------------------------------------------------------------------------------
2356   05B7             POS:	LD	A,(CURPOS)	; Get cursor position
basic2.asm line 2356: Label not found: (POS)
basic2.asm line 2356: label value misalligned.           (POS)
basic2.asm line 2356: unrecognized instruction.          (POS)
2357   05B7             PASSA:	LD	B,A		; Put A into AB
basic2.asm line 2357: Label not found: (PASSA)
basic2.asm line 2357: label value misalligned.           (PASSA)
basic2.asm line 2357: unrecognized instruction.          (PASSA)
2358   05B7             	XOR	A		; Zero A
basic2.asm line 2358: unrecognized instruction.          (XOR)
2359   05B7             	JR	ABPASS		; Return integer AB
basic2.asm line 2359: unrecognized instruction.          (JR)
2360   05B7             ;------------------------------------------------------------------------------
2361   05B7             ; DEF FN define function
2362   05B7             ;------------------------------------------------------------------------------
2363   05B7 CD EE 05    DEF:	CALL	CHEKFN		; Get "FN" and name
basic2.asm line 2364: Label not found: (IDTEST)
basic2.asm line 2364: Unused data in MS byte of argument. (2)
2364   05BA CD 00 00    	CALL	IDTEST		; Test for illegal direct
2365   05BD             	LD	BC,DATA		; To get next statement
basic2.asm line 2365: unrecognized instruction.          (LD)
2366   05BD             	PUSH	BC		; Save address for RETurn
basic2.asm line 2366: unrecognized argument.             (BC)
2367   05BD             	PUSH	DE		; Save address of function ptr
basic2.asm line 2367: unrecognized argument.             (DE)
basic2.asm line 2368: Label not found: (CHKSYN)
basic2.asm line 2368: Unused data in MS byte of argument. (2)
2368   05BD CD 00 00    	CALL	CHKSYN		; Make sure "(" follows
2369   05C0 28          	.BYTE	'('
basic2.asm line 2370: Label not found: (GETVAR)
basic2.asm line 2370: Unused data in MS byte of argument. (2)
2370   05C1 CD 00 00    	CALL	GETVAR		; Get argument variable name
2371   05C4             	PUSH	HL		; Save code string address
basic2.asm line 2371: unrecognized argument.             (HL)
2372   05C4             	EX	DE,HL		; Argument address to HL
basic2.asm line 2372: unrecognized instruction.          (EX)
2373   05C4             	DEC	HL
basic2.asm line 2373: unrecognized instruction.          (DEC)
2374   05C4             	LD	D,(HL)		; Get first byte of arg name
basic2.asm line 2374: unrecognized instruction.          (LD)
2375   05C4             	DEC	HL
basic2.asm line 2375: unrecognized instruction.          (DEC)
2376   05C4             	LD	E,(HL)		; Get second byte of arg name
basic2.asm line 2376: unrecognized instruction.          (LD)
2377   05C4             	POP	HL		; Restore code string address
basic2.asm line 2377: unrecognized argument.             (HL)
2378   05C4 CD 2E 04    	CALL	TSTNUM		; Make sure numeric argument
basic2.asm line 2379: Label not found: (CHKSYN)
basic2.asm line 2379: Unused data in MS byte of argument. (2)
2379   05C7 CD 00 00    	CALL	CHKSYN		; Make sure ")" follows
2380   05CA 29          	.BYTE	')'
basic2.asm line 2381: Label not found: (CHKSYN)
basic2.asm line 2381: Unused data in MS byte of argument. (2)
2381   05CB CD 00 00    	CALL	CHKSYN		; Make sure "=" follows
2382   05CE B4          	.BYTE	ZEQUAL		; "=" token
2383   05CF             	LD	B,H		; Code string address to BC
basic2.asm line 2383: unrecognized instruction.          (LD)
2384   05CF             	LD	C,L
basic2.asm line 2384: unrecognized instruction.          (LD)
2385   05CF             	EX	(SP),HL		; Save code str , Get FN ptr
basic2.asm line 2385: unrecognized instruction.          (EX)
2386   05CF             	LD	(HL),C		; Save LSB of FN code string
basic2.asm line 2386: unrecognized instruction.          (LD)
2387   05CF             	INC	HL
basic2.asm line 2387: unrecognized instruction.          (INC)
2388   05CF             	LD	(HL),B		; Save MSB of FN code string
basic2.asm line 2388: unrecognized instruction.          (LD)
basic2.asm line 2389: Label not found: (SVSTAD)
basic2.asm line 2389: Unused data in MS byte of argument. (2)
2389   05CF F2 00 00    	JP	SVSTAD		; Save address and do function
2390   05D2             ;------------------------------------------------------------------------------
2391   05D2             ; Perform FN function
2392   05D2             ;------------------------------------------------------------------------------
2393   05D2 CD EE 05    DOFN:	CALL	CHEKFN		; Make sure FN follows
2394   05D5             	PUSH	DE		; Save function pointer address
basic2.asm line 2394: unrecognized argument.             (DE)
2395   05D5 CD 9F 04    	CALL	EVLPAR		; Evaluate expression in "()"
2396   05D8 CD 2E 04    	CALL	TSTNUM		; Make sure numeric result
2397   05DB             	EX	(SP),HL		; Save code str , Get FN ptr
basic2.asm line 2397: unrecognized instruction.          (EX)
2398   05DB             	LD	E,(HL)		; Get LSB of FN code string
basic2.asm line 2398: unrecognized instruction.          (LD)
2399   05DB             	INC	HL
basic2.asm line 2399: unrecognized instruction.          (INC)
2400   05DB             	LD	D,(HL)		; Get MSB of FN code string
basic2.asm line 2400: unrecognized instruction.          (LD)
2401   05DB             	INC	HL
basic2.asm line 2401: unrecognized instruction.          (INC)
2402   05DB             	LD	A,D		; And function DEFined?
basic2.asm line 2402: unrecognized instruction.          (LD)
2403   05DB             	OR	E
basic2.asm line 2403: unrecognized instruction.          (OR)
basic2.asm line 2404: Label not found: (Z)
basic2.asm line 2404: Unknown token: (,)
basic2.asm line 2404: Unknown token.    
basic2.asm line 2404: Label not found: (UFERR)
basic2.asm line 2404: Unused data in MS byte of argument. (2)
2404   05DB F2 00 00    	JP	Z,UFERR		; No - ?UF Error
2405   05DE             	LD	A,(HL)		; Get LSB of argument address
basic2.asm line 2405: unrecognized instruction.          (LD)
2406   05DE             	INC	HL
basic2.asm line 2406: unrecognized instruction.          (INC)
2407   05DE             	LD	H,(HL)		; Get MSB of argument address
basic2.asm line 2407: unrecognized instruction.          (LD)
2408   05DE             	LD	L,A		; HL = Arg variable address
basic2.asm line 2408: unrecognized instruction.          (LD)
2409   05DE             	PUSH	HL		; Save it
basic2.asm line 2409: unrecognized argument.             (HL)
2410   05DE             	LD	HL,(FNRGNM)	; Get old argument name
basic2.asm line 2410: unrecognized instruction.          (LD)
2411   05DE             	EX	(SP),HL		; Save old , Get new
basic2.asm line 2411: unrecognized instruction.          (EX)
2412   05DE             	LD	(FNRGNM),HL	; Set new argument name
basic2.asm line 2412: unrecognized instruction.          (LD)
2413   05DE             	LD	HL,(FNARG+2)	; Get LSB,NLSB of old arg value
basic2.asm line 2413: unrecognized instruction.          (LD)
2414   05DE             	PUSH	HL		; Save it
basic2.asm line 2414: unrecognized argument.             (HL)
2415   05DE             	LD	HL,(FNARG)	; Get MSB,EXP of old arg value
basic2.asm line 2415: unrecognized instruction.          (LD)
2416   05DE             	PUSH	HL		; Save it
basic2.asm line 2416: unrecognized argument.             (HL)
2417   05DE             	LD	HL,FNARG		; HL = Value of argument
basic2.asm line 2417: unrecognized instruction.          (LD)
2418   05DE             	PUSH	DE		; Save FN code string address
basic2.asm line 2418: unrecognized argument.             (DE)
basic2.asm line 2419: Label not found: (FPTHL)
basic2.asm line 2419: Unused data in MS byte of argument. (2)
2419   05DE CD 00 00    	CALL	FPTHL		; Move FPREG to argument
2420   05E1             	POP	HL		; Get FN code string address
basic2.asm line 2420: unrecognized argument.             (HL)
2421   05E1 CD 2B 04    	CALL	GETNUM		; Get value from function
2422   05E4             	DEC	HL		; DEC 'cos GETCHR INCs
basic2.asm line 2422: unrecognized instruction.          (DEC)
basic2.asm line 2423: Label not found: (GETCHR)
basic2.asm line 2423: Unused data in MS byte of argument. (2)
2423   05E4 CD 00 00    	CALL	GETCHR		; Get next character
basic2.asm line 2424: Label not found: (NZ)
basic2.asm line 2424: Unknown token: (,)
basic2.asm line 2424: Unknown token.    
basic2.asm line 2424: Label not found: (SNERR)
basic2.asm line 2424: Unused data in MS byte of argument. (2)
2424   05E7 F2 00 00    	JP	NZ,SNERR		; Bad character in FN - Error
2425   05EA             	POP	HL		; Get MSB,EXP of old arg
basic2.asm line 2425: unrecognized argument.             (HL)
2426   05EA             	LD	(FNARG),HL	; Restore it
basic2.asm line 2426: unrecognized instruction.          (LD)
2427   05EA             	POP	HL		; Get LSB,NLSB of old arg
basic2.asm line 2427: unrecognized argument.             (HL)
2428   05EA             	LD	(FNARG+2),HL	; Restore it
basic2.asm line 2428: unrecognized instruction.          (LD)
2429   05EA             	POP	HL		; Get name of old arg
basic2.asm line 2429: unrecognized argument.             (HL)
2430   05EA             	LD	(FNRGNM),HL	; Restore it
basic2.asm line 2430: unrecognized instruction.          (LD)
2431   05EA             	POP	HL		; Restore code string address
basic2.asm line 2431: unrecognized argument.             (HL)
2432   05EA C9          	RET
2433   05EB             ;------------------------------------------------------------------------------
2434   05EB             ; Determine if Immediate or if operating in program RUN
2435   05EB             ;------------------------------------------------------------------------------
2436   05EB             IDTEST:	PUSH	HL		; Save code string address
basic2.asm line 2436: Label not found: (IDTEST)
basic2.asm line 2436: label value misalligned.           (IDTEST)
basic2.asm line 2436: unrecognized argument.             (IDTEST)
2437   05EB             	LD	HL,(LINEAT)	; Get current line number
basic2.asm line 2437: unrecognized instruction.          (LD)
2438   05EB             	INC	HL		; -1 means direct statement
basic2.asm line 2438: unrecognized instruction.          (INC)
2439   05EB             	LD	A,H
basic2.asm line 2439: unrecognized instruction.          (LD)
2440   05EB             	OR	L
basic2.asm line 2440: unrecognized instruction.          (OR)
2441   05EB             	POP	HL		; Restore code string address
basic2.asm line 2441: unrecognized argument.             (HL)
2442   05EB             	RET	NZ		; Return if in program
basic2.asm line 2442: unrecognized argument.             (NZ)
2443   05EB             	LD	E,ID		; ?ID Error
basic2.asm line 2443: unrecognized instruction.          (LD)
2444   05EB F2 A3 00    	JP	ERROR
2445   05EE             
basic2.asm line 2446: Label not found: (CHKSYN)
basic2.asm line 2446: Unused data in MS byte of argument. (2)
2446   05EE CD 00 00    CHEKFN:	CALL	CHKSYN		; Make sure FN follows
2447   05F1 A7          	.BYTE	ZFN		; "FN" token
2448   05F2             	LD	A,80H
basic2.asm line 2448: unrecognized instruction.          (LD)
2449   05F2             	LD	(FORFLG),A	; Flag FN name to find
basic2.asm line 2449: unrecognized instruction.          (LD)
2450   05F2             	OR	(HL)		; FN name has bit 7 set
basic2.asm line 2450: unrecognized instruction.          (OR)
2451   05F2             	LD	B,A		; in first byte of name
basic2.asm line 2451: unrecognized instruction.          (LD)
2452   05F2 CD 31 05    	CALL	GTFNAM		; Get FN name
2453   05F5 F2 2E 04    	JP	TSTNUM		; Make sure numeric function
2454   05F8             ;------------------------------------------------------------------------------
2455   05F8             ; STR function turns numeric into string value
2456   05F8             ;------------------------------------------------------------------------------
2457   05F8 CD 2E 04    STR:	CALL	TSTNUM		; Make sure it's a number
basic2.asm line 2458: Label not found: (NUMASC)
basic2.asm line 2458: Unused data in MS byte of argument. (2)
2458   05FB CD 00 00    	CALL	NUMASC		; Turn number into text
basic2.asm line 2459: Label not found: (CRTST)
basic2.asm line 2459: Unused data in MS byte of argument. (2)
2459   05FE CD 00 00    STR1:	CALL	CRTST		; Create string entry for it
basic2.asm line 2460: Label not found: (GSTRCU)
basic2.asm line 2460: Unused data in MS byte of argument. (2)
2460   0601 CD 00 00    	CALL	GSTRCU		; Current string to pool
2461   0604             	LD	BC,TOPOOL		; Save in string pool
basic2.asm line 2461: unrecognized instruction.          (LD)
2462   0604             	PUSH	BC		; Save address on stack
basic2.asm line 2462: unrecognized argument.             (BC)
2463   0604             
2464   0604             SAVSTR:	LD	A,(HL)		; Get string length
basic2.asm line 2464: Label not found: (SAVSTR)
basic2.asm line 2464: label value misalligned.           (SAVSTR)
basic2.asm line 2464: unrecognized instruction.          (SAVSTR)
2465   0604             	INC	HL
basic2.asm line 2465: unrecognized instruction.          (INC)
2466   0604             	INC	HL
basic2.asm line 2466: unrecognized instruction.          (INC)
2467   0604             	PUSH	HL		; Save pointer to string
basic2.asm line 2467: unrecognized argument.             (HL)
basic2.asm line 2468: Label not found: (TESTR)
basic2.asm line 2468: Unused data in MS byte of argument. (2)
2468   0604 CD 00 00    	CALL	TESTR		; See if enough string space
2469   0607             	POP	HL		; Restore pointer to string
basic2.asm line 2469: unrecognized argument.             (HL)
2470   0607             	LD	C,(HL)		; Get LSB of address
basic2.asm line 2470: unrecognized instruction.          (LD)
2471   0607             	INC	HL
basic2.asm line 2471: unrecognized instruction.          (INC)
2472   0607             	LD	B,(HL)		; Get MSB of address
basic2.asm line 2472: unrecognized instruction.          (LD)
basic2.asm line 2473: Label not found: (CRTMST)
basic2.asm line 2473: Unused data in MS byte of argument. (2)
2473   0607 CD 00 00    	CALL	CRTMST		; Create string entry
2474   060A             	PUSH	HL		; Save pointer to MSB of addr
basic2.asm line 2474: unrecognized argument.             (HL)
2475   060A             	LD	L,A		; Length of string
basic2.asm line 2475: unrecognized instruction.          (LD)
basic2.asm line 2476: Label not found: (TOSTRA)
basic2.asm line 2476: Unused data in MS byte of argument. (2)
2476   060A CD 00 00    	CALL	TOSTRA		; Move to string area
2477   060D             	POP	DE		; Restore pointer to MSB
basic2.asm line 2477: unrecognized argument.             (DE)
2478   060D C9          	RET
2479   060E             ;------------------------------------------------------------------------------
basic2.asm line 2480: Label not found: (TESTR)
basic2.asm line 2480: Unused data in MS byte of argument. (2)
2480   060E CD 00 00    MKTMST:	CALL	TESTR		; See if enough string space
2481   0611             CRTMST:	LD	HL,TMPSTR		; Temporary string
basic2.asm line 2481: Label not found: (CRTMST)
basic2.asm line 2481: label value misalligned.           (CRTMST)
basic2.asm line 2481: unrecognized instruction.          (CRTMST)
2482   0611             	PUSH	HL		; Save it
basic2.asm line 2482: unrecognized argument.             (HL)
2483   0611             	LD	(HL),A		; Save length of string
basic2.asm line 2483: unrecognized instruction.          (LD)
2484   0611             	INC	HL
basic2.asm line 2484: unrecognized instruction.          (INC)
2485   0611             SVSTAD:	INC	HL
basic2.asm line 2485: Label not found: (SVSTAD)
basic2.asm line 2485: label value misalligned.           (SVSTAD)
basic2.asm line 2485: unrecognized instruction.          (SVSTAD)
2486   0611             	LD	(HL),E		; Save LSB of address
basic2.asm line 2486: unrecognized instruction.          (LD)
2487   0611             	INC	HL
basic2.asm line 2487: unrecognized instruction.          (INC)
2488   0611             	LD	(HL),D		; Save MSB of address
basic2.asm line 2488: unrecognized instruction.          (LD)
2489   0611             	POP	HL		; Restore pointer
basic2.asm line 2489: unrecognized argument.             (HL)
2490   0611 C9          	RET
2491   0612             ;------------------------------------------------------------------------------
2492   0612             CRTST:	DEC	HL		; DEC - INCed after
basic2.asm line 2492: Label not found: (CRTST)
basic2.asm line 2492: label value misalligned.           (CRTST)
basic2.asm line 2492: unrecognized instruction.          (CRTST)
2493   0612             QTSTR:	LD	B,$22		; Terminating quote "
basic2.asm line 2493: Label not found: (QTSTR)
basic2.asm line 2493: label value misalligned.           (QTSTR)
basic2.asm line 2493: unrecognized instruction.          (QTSTR)
2494   0612             	LD	D,B		; Quote to D
basic2.asm line 2494: unrecognized instruction.          (LD)
2495   0612             DTSTR:	PUSH	HL		; Save start
basic2.asm line 2495: Label not found: (DTSTR)
basic2.asm line 2495: label value misalligned.           (DTSTR)
basic2.asm line 2495: unrecognized argument.             (DTSTR)
2496   0612             	LD	C,-1		; Set counter to -1
basic2.asm line 2496: unrecognized instruction.          (LD)
2497   0612             QTSTLP:	INC	HL		; Move on
basic2.asm line 2497: Label not found: (QTSTLP)
basic2.asm line 2497: label value misalligned.           (QTSTLP)
basic2.asm line 2497: unrecognized instruction.          (QTSTLP)
2498   0612             	LD	A,(HL)		; Get byte
basic2.asm line 2498: unrecognized instruction.          (LD)
2499   0612             	INC	C		; Count bytes
basic2.asm line 2499: unrecognized instruction.          (INC)
2500   0612             	OR	A		; End of line?
basic2.asm line 2500: unrecognized instruction.          (OR)
2501   0612             	JR	Z,CRTSTE		; Yes - Create string entry
basic2.asm line 2501: unrecognized instruction.          (JR)
basic2.asm line 2502: Label not found: (D)
basic2.asm line 2502: Unused data in MS byte of argument. (2)
2502   0612 F4 00 00    	CP	D		; Terminator D found?
2503   0615             	JR	Z,CRTSTE		; Yes - Create string entry
basic2.asm line 2503: unrecognized instruction.          (JR)
basic2.asm line 2504: Label not found: (B)
basic2.asm line 2504: Unused data in MS byte of argument. (2)
2504   0615 F4 00 00    	CP	B		; Terminator B found?
2505   0618             	JR	NZ,QTSTLP		; No - Keep looking
basic2.asm line 2505: unrecognized instruction.          (JR)
2506   0618 F4 22 00    CRTSTE:	CP	$22		; End with '"'?
basic2.asm line 2507: Label not found: (Z)
basic2.asm line 2507: Unknown token: (,)
basic2.asm line 2507: Unknown token.    
basic2.asm line 2507: Label not found: (GETCHR)
basic2.asm line 2507: Unused data in MS byte of argument. (2)
2507   061B CD 00 00    	CALL	Z,GETCHR		; Yes - Get next character
2508   061E             	EX	(SP),HL		; Starting quote
basic2.asm line 2508: unrecognized instruction.          (EX)
2509   061E             	INC	HL		; First byte of string
basic2.asm line 2509: unrecognized instruction.          (INC)
2510   061E             	EX	DE,HL		; To DE
basic2.asm line 2510: unrecognized instruction.          (EX)
2511   061E             	LD	A,C		; Get length
basic2.asm line 2511: unrecognized instruction.          (LD)
basic2.asm line 2512: Label not found: (CRTMST)
basic2.asm line 2512: Unused data in MS byte of argument. (2)
2512   061E CD 00 00    	CALL	CRTMST		; Create string entry
2513   0621             TSTOPL:	LD	DE,TMPSTR		; Temporary string
basic2.asm line 2513: Label not found: (TSTOPL)
basic2.asm line 2513: label value misalligned.           (TSTOPL)
basic2.asm line 2513: unrecognized instruction.          (TSTOPL)
2514   0621             	LD	HL,(TMSTPT)	; Temporary string pool pointer
basic2.asm line 2514: unrecognized instruction.          (LD)
2515   0621             	LD	(FPREG),HL	; Save address of string ptr
basic2.asm line 2515: unrecognized instruction.          (LD)
2516   0621             	LD	A,1
basic2.asm line 2516: unrecognized instruction.          (LD)
2517   0621             	LD	(TYPE),A		; Set type to string
basic2.asm line 2517: unrecognized instruction.          (LD)
basic2.asm line 2518: Label not found: (DETHL4)
basic2.asm line 2518: Unused data in MS byte of argument. (2)
2518   0621 CD 00 00    	CALL	DETHL4		; Move string to pool
basic2.asm line 2519: Label not found: (CPHLDE)
basic2.asm line 2519: Unused data in MS byte of argument. (2)
2519   0624 CD 00 00    	CALL	CPHLDE		; Out of string pool?
2520   0627             	LD	(TMSTPT),HL	; Save new pointer
basic2.asm line 2520: unrecognized instruction.          (LD)
2521   0627             	POP	HL		; Restore code string address
basic2.asm line 2521: unrecognized argument.             (HL)
2522   0627             	LD	A,(HL)		; Get next code byte
basic2.asm line 2522: unrecognized instruction.          (LD)
2523   0627             	RET	NZ		; Return if pool OK
basic2.asm line 2523: unrecognized argument.             (NZ)
2524   0627             	LD	E,ST		; ?ST Error
basic2.asm line 2524: unrecognized instruction.          (LD)
2525   0627 F2 A3 00    	JP	ERROR		; String pool overflow
2526   062A             ;------------------------------------------------------------------------------
2527   062A             ; Print String routines
2528   062A             ;------------------------------------------------------------------------------
2529   062A             PRNUMS:	INC	HL		; Skip leading space
basic2.asm line 2529: Label not found: (PRNUMS)
basic2.asm line 2529: label value misalligned.           (PRNUMS)
basic2.asm line 2529: unrecognized instruction.          (PRNUMS)
basic2.asm line 2530: Label not found: (CRTST)
basic2.asm line 2530: Unused data in MS byte of argument. (2)
2530   062A CD 00 00    PRS:	CALL	CRTST		; Create string entry for it
basic2.asm line 2531: Label not found: (GSTRCU)
basic2.asm line 2531: Unused data in MS byte of argument. (2)
2531   062D CD 00 00    PRS1:	CALL	GSTRCU		; Current string to pool
basic2.asm line 2532: Label not found: (LOADFP)
basic2.asm line 2532: Unused data in MS byte of argument. (2)
2532   0630 CD 00 00    	CALL	LOADFP		; Move string block to BCDE
2533   0633             	INC	E		; Length + 1
basic2.asm line 2533: unrecognized instruction.          (INC)
2534   0633             PRSLP:	DEC	E		; Count characters
basic2.asm line 2534: Label not found: (PRSLP)
basic2.asm line 2534: label value misalligned.           (PRSLP)
basic2.asm line 2534: unrecognized instruction.          (PRSLP)
2535   0633             	RET	Z		; End of string
basic2.asm line 2535: unrecognized argument.             (Z)
2536   0633             	LD	A,(BC)		; Get byte to output
basic2.asm line 2536: unrecognized instruction.          (LD)
basic2.asm line 2537: Label not found: (OUTC)
basic2.asm line 2537: Unused data in MS byte of argument. (2)
2537   0633 CD 00 00    	CALL	OUTC		; Output character in A
2538   0636 F4 0D 00    	CP	CR		; Return?
basic2.asm line 2539: Label not found: (Z)
basic2.asm line 2539: Unknown token: (,)
basic2.asm line 2539: Unknown token.    
basic2.asm line 2539: Label not found: (DONULL)
basic2.asm line 2539: Unused data in MS byte of argument. (2)
2539   0639 CD 00 00    	CALL	Z,DONULL		; Yes - Do nulls
2540   063C             	INC	BC		; Next byte in string
basic2.asm line 2540: unrecognized instruction.          (INC)
2541   063C             	JR	PRSLP		; More characters to output
basic2.asm line 2541: unrecognized instruction.          (JR)
2542   063C             ;------------------------------------------------------------------------------
2543   063C             TESTR:	OR	A		; Test if enough room (string length=A)
basic2.asm line 2543: Label not found: (TESTR)
basic2.asm line 2543: label value misalligned.           (TESTR)
basic2.asm line 2543: unrecognized instruction.          (TESTR)
2544   063C 0E          	.BYTE	$0E		; No garbage collection done
2545   063D             GRBDON:	POP	AF		; Garbage collection done
basic2.asm line 2545: Label not found: (GRBDON)
basic2.asm line 2545: label value misalligned.           (GRBDON)
basic2.asm line 2545: unrecognized argument.             (GRBDON)
2546   063D             	PUSH	AF		; Save status
basic2.asm line 2546: unrecognized argument.             (AF)
2547   063D             	LD	HL,(STRSPC)	; Bottom of string space in use
basic2.asm line 2547: unrecognized instruction.          (LD)
2548   063D             	EX	DE,HL		; To DE
basic2.asm line 2548: unrecognized instruction.          (EX)
2549   063D             	LD	HL,(STRBOT)	; Bottom of string area
basic2.asm line 2549: unrecognized instruction.          (LD)
2550   063D             	CPL			; Negate length (Top down)
basic2.asm line 2550: unrecognized instruction.          (CPL)
2551   063D             	LD	C,A		; -Length to BC
basic2.asm line 2551: unrecognized instruction.          (LD)
2552   063D             	LD	B,-1		; BC = negeative length of string
basic2.asm line 2552: unrecognized instruction.          (LD)
2553   063D             	ADD	HL,BC		; Add to bottom of space in use
basic2.asm line 2553: unrecognized argument.             (HL,BC)
2554   063D             	INC	HL		; Plus one for 2's complement
basic2.asm line 2554: unrecognized instruction.          (INC)
basic2.asm line 2555: Label not found: (CPHLDE)
basic2.asm line 2555: Unused data in MS byte of argument. (2)
2555   063D CD 00 00    	CALL	CPHLDE		; Below string RAM area?
2556   0640             	JR	C,TESTOS		; Tidy up if not done else err
basic2.asm line 2556: unrecognized instruction.          (JR)
2557   0640             	LD	(STRBOT),HL		; Save new bottom of area
basic2.asm line 2557: unrecognized instruction.          (LD)
2558   0640             	INC	HL		; Point to first byte of string
basic2.asm line 2558: unrecognized instruction.          (INC)
2559   0640             	EX	DE,HL		; Address to DE
basic2.asm line 2559: unrecognized instruction.          (EX)
2560   0640             POPAF:	POP	AF		; Throw away status push
basic2.asm line 2560: Label not found: (POPAF)
basic2.asm line 2560: label value misalligned.           (POPAF)
basic2.asm line 2560: unrecognized argument.             (POPAF)
2561   0640 C9          	RET
2562   0641             TESTOS:	POP	AF		; Garbage collect been done?
basic2.asm line 2562: Label not found: (TESTOS)
basic2.asm line 2562: label value misalligned.           (TESTOS)
basic2.asm line 2562: unrecognized argument.             (TESTOS)
2563   0641             	LD	E,OS		; ?OS Error
basic2.asm line 2563: unrecognized instruction.          (LD)
basic2.asm line 2564: Label not found: (Z)
basic2.asm line 2564: Unknown token: (,)
basic2.asm line 2564: Unknown token.    
2564   0641 F2 A3 00    	JP	Z,ERROR		; Yes - Not enough string apace
basic2.asm line 2565: Label not found: (A)
basic2.asm line 2565: Unused data in MS byte of argument. (2)
2565   0644 F4 00 00    	CP	A		; Flag garbage collect done
2566   0647             	PUSH	AF		; Save status
basic2.asm line 2566: unrecognized argument.             (AF)
2567   0647             	LD	BC,GRBDON		; Garbage collection done
basic2.asm line 2567: unrecognized instruction.          (LD)
2568   0647             	PUSH	BC		; Save for RETurn
basic2.asm line 2568: unrecognized argument.             (BC)
2569   0647             GARBGE:	LD	HL,(LSTRAM)	; Get end of RAM pointer
basic2.asm line 2569: Label not found: (GARBGE)
basic2.asm line 2569: label value misalligned.           (GARBGE)
basic2.asm line 2569: unrecognized instruction.          (GARBGE)
2570   0647             GARBLP:	LD	(STRBOT),HL	; Reset string pointer
basic2.asm line 2570: Label not found: (GARBLP)
basic2.asm line 2570: label value misalligned.           (GARBLP)
basic2.asm line 2570: unrecognized instruction.          (GARBLP)
2571   0647             	LD	HL,0
basic2.asm line 2571: unrecognized instruction.          (LD)
2572   0647             	PUSH	HL		; Flag no string found
basic2.asm line 2572: unrecognized argument.             (HL)
2573   0647             	LD	HL,(STRSPC)	; Get bottom of string space
basic2.asm line 2573: unrecognized instruction.          (LD)
2574   0647             	PUSH	HL		; Save bottom of string space
basic2.asm line 2574: unrecognized argument.             (HL)
2575   0647             	LD	HL,TMSTPL		; Temporary string pool
basic2.asm line 2575: unrecognized instruction.          (LD)
2576   0647             GRBLP:	EX	DE,HL
basic2.asm line 2576: Label not found: (GRBLP)
basic2.asm line 2576: label value misalligned.           (GRBLP)
basic2.asm line 2576: unrecognized instruction.          (GRBLP)
2577   0647             	LD	HL,(TMSTPT)	; Temporary string pool pointer
basic2.asm line 2577: unrecognized instruction.          (LD)
2578   0647             	EX	DE,HL
basic2.asm line 2578: unrecognized instruction.          (EX)
basic2.asm line 2579: Label not found: (CPHLDE)
basic2.asm line 2579: Unused data in MS byte of argument. (2)
2579   0647 CD 00 00    	CALL	CPHLDE		; Temporary string pool done?
2580   064A             	LD	BC,GRBLP		; Loop until string pool done
basic2.asm line 2580: unrecognized instruction.          (LD)
basic2.asm line 2581: Label not found: (NZ)
basic2.asm line 2581: Unknown token: (,)
basic2.asm line 2581: Unknown token.    
basic2.asm line 2581: Label not found: (STPOOL)
basic2.asm line 2581: Unused data in MS byte of argument. (2)
2581   064A F2 00 00    	JP	NZ,STPOOL		; No - See if in string area
2582   064D             	LD	HL,(PROGND)	; Start of simple variables
basic2.asm line 2582: unrecognized instruction.          (LD)
2583   064D             SMPVAR:	EX	DE,HL
basic2.asm line 2583: Label not found: (SMPVAR)
basic2.asm line 2583: label value misalligned.           (SMPVAR)
basic2.asm line 2583: unrecognized instruction.          (SMPVAR)
2584   064D             	LD	HL,(VAREND)	; End of simple variables
basic2.asm line 2584: unrecognized instruction.          (LD)
2585   064D             	EX	DE,HL
basic2.asm line 2585: unrecognized instruction.          (EX)
basic2.asm line 2586: Label not found: (CPHLDE)
basic2.asm line 2586: Unused data in MS byte of argument. (2)
2586   064D CD 00 00    	CALL	CPHLDE		; All simple strings done?
basic2.asm line 2587: Label not found: (Z)
basic2.asm line 2587: Unknown token: (,)
basic2.asm line 2587: Unknown token.    
basic2.asm line 2587: Label not found: (ARRLP)
basic2.asm line 2587: Unused data in MS byte of argument. (2)
2587   0650 F2 00 00    	JP	Z,ARRLP		; Yes - Do string arrays
2588   0653             	LD	A,(HL)		; Get type of variable
basic2.asm line 2588: unrecognized instruction.          (LD)
2589   0653             	INC	HL
basic2.asm line 2589: unrecognized instruction.          (INC)
2590   0653             	INC	HL
basic2.asm line 2590: unrecognized instruction.          (INC)
2591   0653             	OR	A		; "S" flag set if string
basic2.asm line 2591: unrecognized instruction.          (OR)
basic2.asm line 2592: Label not found: (STRADD)
basic2.asm line 2592: Unused data in MS byte of argument. (2)
2592   0653 CD 00 00    	CALL	STRADD		; See if string in string area
2593   0656             	JR	SMPVAR		; Loop until simple ones done
basic2.asm line 2593: unrecognized instruction.          (JR)
2594   0656             
2595   0656             GNXARY:	POP	BC		; Scrap address of this array
basic2.asm line 2595: Label not found: (GNXARY)
basic2.asm line 2595: label value misalligned.           (GNXARY)
basic2.asm line 2595: unrecognized argument.             (GNXARY)
2596   0656             ARRLP:	EX	DE,HL
basic2.asm line 2596: Label not found: (ARRLP)
basic2.asm line 2596: label value misalligned.           (ARRLP)
basic2.asm line 2596: unrecognized instruction.          (ARRLP)
2597   0656             	LD	HL,(ARREND)	; End of string arrays
basic2.asm line 2597: unrecognized instruction.          (LD)
2598   0656             	EX	DE,HL
basic2.asm line 2598: unrecognized instruction.          (EX)
basic2.asm line 2599: Label not found: (CPHLDE)
basic2.asm line 2599: Unused data in MS byte of argument. (2)
2599   0656 CD 00 00    	CALL	CPHLDE		; All string arrays done?
basic2.asm line 2600: Label not found: (Z)
basic2.asm line 2600: Unknown token: (,)
basic2.asm line 2600: Unknown token.    
basic2.asm line 2600: Label not found: (SCNEND)
basic2.asm line 2600: Unused data in MS byte of argument. (2)
2600   0659 F2 00 00    	JP	Z,SCNEND		; Yes - Move string if found
basic2.asm line 2601: Label not found: (LOADFP)
basic2.asm line 2601: Unused data in MS byte of argument. (2)
2601   065C CD 00 00    	CALL	LOADFP		; Get array name to BCDE
2602   065F             	LD	A,E		; Get type of array	
basic2.asm line 2602: unrecognized instruction.          (LD)
2603   065F             	PUSH	HL		; Save address of num of dim'ns
basic2.asm line 2603: unrecognized argument.             (HL)
2604   065F             	ADD	HL,BC		; Start of next array
basic2.asm line 2604: unrecognized argument.             (HL,BC)
2605   065F             	OR	A		; Test type of array
basic2.asm line 2605: unrecognized instruction.          (OR)
basic2.asm line 2606: Label not found: (P)
basic2.asm line 2606: Unknown token: (,)
basic2.asm line 2606: Unknown token.    
basic2.asm line 2606: Label not found: (GNXARY)
basic2.asm line 2606: Unused data in MS byte of argument. (2)
2606   065F F2 00 00    	JP	P,GNXARY		; Numeric array - Ignore it
2607   0662             	LD	(CUROPR),HL	; Save address of next array
basic2.asm line 2607: unrecognized instruction.          (LD)
2608   0662             	POP	HL		; Get address of num of dim'ns
basic2.asm line 2608: unrecognized argument.             (HL)
2609   0662             	LD	C,(HL)		; BC = Number of dimensions
basic2.asm line 2609: unrecognized instruction.          (LD)
2610   0662             	LD	B,0
basic2.asm line 2610: unrecognized instruction.          (LD)
2611   0662             	ADD	HL,BC		; Two bytes per dimension size
basic2.asm line 2611: unrecognized argument.             (HL,BC)
2612   0662             	ADD	HL,BC
basic2.asm line 2612: unrecognized argument.             (HL,BC)
2613   0662             	INC	HL		; Plus one for number of dim'ns
basic2.asm line 2613: unrecognized instruction.          (INC)
2614   0662             GRBARY:	EX	DE,HL
basic2.asm line 2614: Label not found: (GRBARY)
basic2.asm line 2614: label value misalligned.           (GRBARY)
basic2.asm line 2614: unrecognized instruction.          (GRBARY)
2615   0662             	LD	HL,(CUROPR)	; Get address of next array
basic2.asm line 2615: unrecognized instruction.          (LD)
2616   0662             	EX	DE,HL
basic2.asm line 2616: unrecognized instruction.          (EX)
basic2.asm line 2617: Label not found: (CPHLDE)
basic2.asm line 2617: Unused data in MS byte of argument. (2)
2617   0662 CD 00 00    	CALL	CPHLDE		; Is this array finished?
2618   0665             	JR	Z,ARRLP		; Yes - Get next one
basic2.asm line 2618: unrecognized instruction.          (JR)
2619   0665             	LD	BC,GRBARY		; Loop until array all done
basic2.asm line 2619: unrecognized instruction.          (LD)
2620   0665             STPOOL:	PUSH	BC		; Save return address
basic2.asm line 2620: Label not found: (STPOOL)
basic2.asm line 2620: label value misalligned.           (STPOOL)
basic2.asm line 2620: unrecognized argument.             (STPOOL)
2621   0665             	OR	80H		; Flag string type
basic2.asm line 2621: unrecognized instruction.          (OR)
2622   0665             STRADD:	LD	A,(HL)		; Get string length
basic2.asm line 2622: Label not found: (STRADD)
basic2.asm line 2622: label value misalligned.           (STRADD)
basic2.asm line 2622: unrecognized instruction.          (STRADD)
2623   0665             	INC	HL
basic2.asm line 2623: unrecognized instruction.          (INC)
2624   0665             	INC	HL
basic2.asm line 2624: unrecognized instruction.          (INC)
2625   0665             	LD	E,(HL)		; Get LSB of string address
basic2.asm line 2625: unrecognized instruction.          (LD)
2626   0665             	INC	HL
basic2.asm line 2626: unrecognized instruction.          (INC)
2627   0665             	LD	D,(HL)		; Get MSB of string address
basic2.asm line 2627: unrecognized instruction.          (LD)
2628   0665             	INC	HL
basic2.asm line 2628: unrecognized instruction.          (INC)
2629   0665             	RET	P		; Not a string - Return
basic2.asm line 2629: unrecognized argument.             (P)
2630   0665             	OR	A		; Set flags on string length
basic2.asm line 2630: unrecognized instruction.          (OR)
2631   0665             	RET	Z		; Null string - Return
basic2.asm line 2631: unrecognized argument.             (Z)
2632   0665             	LD	B,H		; Save variable pointer
basic2.asm line 2632: unrecognized instruction.          (LD)
2633   0665             	LD	C,L
basic2.asm line 2633: unrecognized instruction.          (LD)
2634   0665             	LD	HL,(STRBOT)		; Bottom of new area
basic2.asm line 2634: unrecognized instruction.          (LD)
basic2.asm line 2635: Label not found: (CPHLDE)
basic2.asm line 2635: Unused data in MS byte of argument. (2)
2635   0665 CD 00 00    	CALL	CPHLDE		; String been done?
2636   0668             	LD	H,B		; Restore variable pointer
basic2.asm line 2636: unrecognized instruction.          (LD)
2637   0668             	LD	L,C
basic2.asm line 2637: unrecognized instruction.          (LD)
2638   0668             	RET	C		; String done - Ignore
basic2.asm line 2638: unrecognized argument.             (C)
2639   0668             	POP	HL		; Return address
basic2.asm line 2639: unrecognized argument.             (HL)
2640   0668             	EX	(SP),HL		; Lowest available string area
basic2.asm line 2640: unrecognized instruction.          (EX)
basic2.asm line 2641: Label not found: (CPHLDE)
basic2.asm line 2641: Unused data in MS byte of argument. (2)
2641   0668 CD 00 00    	CALL	CPHLDE		; String within string area?
2642   066B             	EX	(SP),HL		; Lowest available string area
basic2.asm line 2642: unrecognized instruction.          (EX)
2643   066B             	PUSH	HL		; Re-save return address
basic2.asm line 2643: unrecognized argument.             (HL)
2644   066B             	LD	H,B		; Restore variable pointer
basic2.asm line 2644: unrecognized instruction.          (LD)
2645   066B             	LD	L,C
basic2.asm line 2645: unrecognized instruction.          (LD)
2646   066B             	RET	NC		; Outside string area - Ignore
basic2.asm line 2646: unrecognized argument.             (NC)
2647   066B             	POP	BC		; Get return , Throw 2 away
basic2.asm line 2647: unrecognized argument.             (BC)
2648   066B             	POP	AF		; 
basic2.asm line 2648: unrecognized argument.             (AF)
2649   066B             	POP	AF		; 
basic2.asm line 2649: unrecognized argument.             (AF)
2650   066B             	PUSH	HL		; Save variable pointer
basic2.asm line 2650: unrecognized argument.             (HL)
2651   066B             	PUSH	DE		; Save address of current
basic2.asm line 2651: unrecognized argument.             (DE)
2652   066B             	PUSH	BC		; Put back return address
basic2.asm line 2652: unrecognized argument.             (BC)
2653   066B C9          	RET			; Go to it
2654   066C             
2655   066C             SCNEND:	POP	DE		; Addresses of strings
basic2.asm line 2655: Label not found: (SCNEND)
basic2.asm line 2655: label value misalligned.           (SCNEND)
basic2.asm line 2655: unrecognized argument.             (SCNEND)
2656   066C             	POP	HL		; 
basic2.asm line 2656: unrecognized argument.             (HL)
2657   066C             	LD	A,L		; HL = 0 if no more to do
basic2.asm line 2657: unrecognized instruction.          (LD)
2658   066C             	OR	H
basic2.asm line 2658: unrecognized instruction.          (OR)
2659   066C             	RET	Z		; No more to do - Return
basic2.asm line 2659: unrecognized argument.             (Z)
2660   066C             	DEC	HL
basic2.asm line 2660: unrecognized instruction.          (DEC)
2661   066C             	LD	B,(HL)		; MSB of address of string
basic2.asm line 2661: unrecognized instruction.          (LD)
2662   066C             	DEC	HL
basic2.asm line 2662: unrecognized instruction.          (DEC)
2663   066C             	LD	C,(HL)		; LSB of address of string
basic2.asm line 2663: unrecognized instruction.          (LD)
2664   066C             	PUSH	HL		; Save variable address
basic2.asm line 2664: unrecognized argument.             (HL)
2665   066C             	DEC	HL
basic2.asm line 2665: unrecognized instruction.          (DEC)
2666   066C             	DEC	HL
basic2.asm line 2666: unrecognized instruction.          (DEC)
2667   066C             	LD	L,(HL)		; HL = Length of string
basic2.asm line 2667: unrecognized instruction.          (LD)
2668   066C             	LD	H,0
basic2.asm line 2668: unrecognized instruction.          (LD)
2669   066C             	ADD	HL,BC		; Address of end of string+1
basic2.asm line 2669: unrecognized argument.             (HL,BC)
2670   066C             	LD	D,B		; String address to DE
basic2.asm line 2670: unrecognized instruction.          (LD)
2671   066C             	LD	E,C
basic2.asm line 2671: unrecognized instruction.          (LD)
2672   066C             	DEC	HL		; Last byte in string
basic2.asm line 2672: unrecognized instruction.          (DEC)
2673   066C             	LD	B,H		; Address to BC
basic2.asm line 2673: unrecognized instruction.          (LD)
2674   066C             	LD	C,L
basic2.asm line 2674: unrecognized instruction.          (LD)
2675   066C             	LD	HL,(STRBOT)	; Current bottom of string area
basic2.asm line 2675: unrecognized instruction.          (LD)
basic2.asm line 2676: Label not found: (MOVSTR)
basic2.asm line 2676: Unused data in MS byte of argument. (2)
2676   066C CD 00 00    	CALL	MOVSTR		; Move string to new address
2677   066F             	POP	HL		; Restore variable address
basic2.asm line 2677: unrecognized argument.             (HL)
2678   066F             	LD	(HL),C		; Save new LSB of address
basic2.asm line 2678: unrecognized instruction.          (LD)
2679   066F             	INC	HL
basic2.asm line 2679: unrecognized instruction.          (INC)
2680   066F             	LD	(HL),B		; Save new MSB of address
basic2.asm line 2680: unrecognized instruction.          (LD)
2681   066F             	LD	L,C		; Next string area+1 to HL
basic2.asm line 2681: unrecognized instruction.          (LD)
2682   066F             	LD	H,B
basic2.asm line 2682: unrecognized instruction.          (LD)
2683   066F             	DEC	HL		; Next string area address
basic2.asm line 2683: unrecognized instruction.          (DEC)
basic2.asm line 2684: Label not found: (GARBLP)
basic2.asm line 2684: Unused data in MS byte of argument. (2)
2684   066F F2 00 00    	JP	GARBLP		; Look for more strings
2685   0672             
2686   0672             CONCAT:	PUSH	BC		; Save prec' opr & code string
basic2.asm line 2686: Label not found: (CONCAT)
basic2.asm line 2686: label value misalligned.           (CONCAT)
basic2.asm line 2686: unrecognized argument.             (CONCAT)
2687   0672             	PUSH	HL		; 
basic2.asm line 2687: unrecognized argument.             (HL)
2688   0672             	LD	HL,(FPREG)	; Get first string
basic2.asm line 2688: unrecognized instruction.          (LD)
2689   0672             	EX	(SP),HL		; Save first string
basic2.asm line 2689: unrecognized instruction.          (EX)
basic2.asm line 2690: Label not found: (OPRND)
basic2.asm line 2690: Unused data in MS byte of argument. (2)
2690   0672 CD 00 00    	CALL	OPRND		; Get second string
2691   0675             	EX	(SP),HL		; Restore first string
basic2.asm line 2691: unrecognized instruction.          (EX)
basic2.asm line 2692: Label not found: (TSTSTR)
basic2.asm line 2692: Unused data in MS byte of argument. (2)
2692   0675 CD 00 00    	CALL	TSTSTR		; Make sure it's a string
2693   0678             	LD	A,(HL)		; Get length of second string
basic2.asm line 2693: unrecognized instruction.          (LD)
2694   0678             	PUSH	HL		; Save first string
basic2.asm line 2694: unrecognized argument.             (HL)
2695   0678             	LD	HL,(FPREG)	; Get second string
basic2.asm line 2695: unrecognized instruction.          (LD)
2696   0678             	PUSH	HL		; Save second string
basic2.asm line 2696: unrecognized argument.             (HL)
2697   0678             	ADD	A,(HL)		; Add length of second string
basic2.asm line 2697: unrecognized argument.             (A,(HL))
2698   0678             	LD	E,LS		; ?LS Error
basic2.asm line 2698: unrecognized instruction.          (LD)
basic2.asm line 2699: Label not found: (C)
basic2.asm line 2699: Unknown token: (,)
basic2.asm line 2699: Unknown token.    
2699   0678 F2 A3 00    	JP	C,ERROR		; String too long - Error
2700   067B CD 0E 06    	CALL	MKTMST		; Make temporary string
2701   067E             	POP	DE		; Get second string to DE
basic2.asm line 2701: unrecognized argument.             (DE)
2702   067E CD 90 06    	CALL	GSTRDE		; Move to string pool if needed
2703   0681             	EX	(SP),HL		; Get first string
basic2.asm line 2703: unrecognized instruction.          (EX)
basic2.asm line 2704: Label not found: (GSTRHL)
basic2.asm line 2704: Unused data in MS byte of argument. (2)
2704   0681 CD 00 00    	CALL	GSTRHL		; Move to string pool if needed
2705   0684             	PUSH	HL		; Save first string
basic2.asm line 2705: unrecognized argument.             (HL)
2706   0684             	LD	HL,(TMPSTR+2)	; Temporary string address
basic2.asm line 2706: unrecognized instruction.          (LD)
2707   0684             	EX	DE,HL		; To DE
basic2.asm line 2707: unrecognized instruction.          (EX)
basic2.asm line 2708: Label not found: (SSTSA)
basic2.asm line 2708: Unused data in MS byte of argument. (2)
2708   0684 CD 00 00    	CALL	SSTSA		; First string to string area
basic2.asm line 2709: Label not found: (SSTSA)
basic2.asm line 2709: Unused data in MS byte of argument. (2)
2709   0687 CD 00 00    	CALL	SSTSA		; Second string to string area
2710   068A             	LD	HL,EVAL2		; Return to evaluation loop
basic2.asm line 2710: unrecognized instruction.          (LD)
2711   068A             	EX	(SP),HL		; Save return,get code string
basic2.asm line 2711: unrecognized instruction.          (EX)
2712   068A             	PUSH	HL		; Save code string address
basic2.asm line 2712: unrecognized argument.             (HL)
basic2.asm line 2713: Label not found: (TSTOPL)
basic2.asm line 2713: Unused data in MS byte of argument. (2)
2713   068A F2 00 00    	JP	TSTOPL		; To temporary string to pool
2714   068D             
2715   068D             SSTSA:	POP	HL		; Return address
basic2.asm line 2715: Label not found: (SSTSA)
basic2.asm line 2715: label value misalligned.           (SSTSA)
basic2.asm line 2715: unrecognized argument.             (SSTSA)
2716   068D             	EX	(SP),HL		; Get string block,save return
basic2.asm line 2716: unrecognized instruction.          (EX)
2717   068D             	LD	A,(HL)		; Get length of string
basic2.asm line 2717: unrecognized instruction.          (LD)
2718   068D             	INC	HL
basic2.asm line 2718: unrecognized instruction.          (INC)
2719   068D             	INC	HL
basic2.asm line 2719: unrecognized instruction.          (INC)
2720   068D             	LD	C,(HL)		; Get LSB of string address
basic2.asm line 2720: unrecognized instruction.          (LD)
2721   068D             	INC	HL
basic2.asm line 2721: unrecognized instruction.          (INC)
2722   068D             	LD	B,(HL)		; Get MSB of string address
basic2.asm line 2722: unrecognized instruction.          (LD)
2723   068D             	LD	L,A		; Length to L
basic2.asm line 2723: unrecognized instruction.          (LD)
2724   068D             TOSTRA:	INC	L		; INC - DECed after
basic2.asm line 2724: Label not found: (TOSTRA)
basic2.asm line 2724: label value misalligned.           (TOSTRA)
basic2.asm line 2724: unrecognized instruction.          (TOSTRA)
2725   068D             TSALP:	DEC	L		; Count bytes moved
basic2.asm line 2725: Label not found: (TSALP)
basic2.asm line 2725: label value misalligned.           (TSALP)
basic2.asm line 2725: unrecognized instruction.          (TSALP)
2726   068D             	RET	Z		; End of string - Return
basic2.asm line 2726: unrecognized argument.             (Z)
2727   068D             	LD	A,(BC)		; Get source
basic2.asm line 2727: unrecognized instruction.          (LD)
2728   068D             	LD	(DE),A		; Save destination
basic2.asm line 2728: unrecognized instruction.          (LD)
2729   068D             	INC	BC		; Next source
basic2.asm line 2729: unrecognized instruction.          (INC)
2730   068D             	INC	DE		; Next destination
basic2.asm line 2730: unrecognized instruction.          (INC)
2731   068D             	JR	TSALP		; Loop until string moved
basic2.asm line 2731: unrecognized instruction.          (JR)
2732   068D             
basic2.asm line 2733: Label not found: (TSTSTR)
basic2.asm line 2733: Unused data in MS byte of argument. (2)
2733   068D CD 00 00    GETSTR:	CALL	TSTSTR		; Make sure it's a string
2734   0690             GSTRCU:	LD	HL,(FPREG)	; Get current string
basic2.asm line 2734: Label not found: (GSTRCU)
basic2.asm line 2734: label value misalligned.           (GSTRCU)
basic2.asm line 2734: unrecognized instruction.          (GSTRCU)
2735   0690             GSTRHL:	EX	DE,HL		; Save DE
basic2.asm line 2735: Label not found: (GSTRHL)
basic2.asm line 2735: label value misalligned.           (GSTRHL)
basic2.asm line 2735: unrecognized instruction.          (GSTRHL)
basic2.asm line 2736: Label not found: (BAKTMP)
basic2.asm line 2736: Unused data in MS byte of argument. (2)
2736   0690 CD 00 00    GSTRDE:	CALL	BAKTMP		; Was it last tmp-str?
2737   0693             	EX	DE,HL		; Restore DE
basic2.asm line 2737: unrecognized instruction.          (EX)
2738   0693             	RET	NZ		; No - Return
basic2.asm line 2738: unrecognized argument.             (NZ)
2739   0693             	PUSH	DE		; Save string
basic2.asm line 2739: unrecognized argument.             (DE)
2740   0693             	LD	D,B		; String block address to DE
basic2.asm line 2740: unrecognized instruction.          (LD)
2741   0693             	LD	E,C
basic2.asm line 2741: unrecognized instruction.          (LD)
2742   0693             	DEC	DE		; Point to length
basic2.asm line 2742: unrecognized instruction.          (DEC)
2743   0693             	LD	C,(HL)		; Get string length
basic2.asm line 2743: unrecognized instruction.          (LD)
2744   0693             	LD	HL,(STRBOT)	; Current bottom of string area
basic2.asm line 2744: unrecognized instruction.          (LD)
basic2.asm line 2745: Label not found: (CPHLDE)
basic2.asm line 2745: Unused data in MS byte of argument. (2)
2745   0693 CD 00 00    	CALL	CPHLDE		; Last one in string area?
2746   0696             	JR	NZ,POPHL		; No - Return
basic2.asm line 2746: unrecognized instruction.          (JR)
2747   0696             	LD	B,A		; Clear B (A=0)
basic2.asm line 2747: unrecognized instruction.          (LD)
2748   0696             	ADD	HL,BC		; Remove string from str' area
basic2.asm line 2748: unrecognized argument.             (HL,BC)
2749   0696             	LD	(STRBOT),HL	; Save new bottom of str' area
basic2.asm line 2749: unrecognized instruction.          (LD)
2750   0696             POPHL:	POP	HL		; Restore string
basic2.asm line 2750: Label not found: (POPHL)
basic2.asm line 2750: label value misalligned.           (POPHL)
basic2.asm line 2750: unrecognized argument.             (POPHL)
2751   0696 C9          	RET
2752   0697             
2753   0697             BAKTMP:	LD	HL,(TMSTPT)	; Get temporary string pool top
basic2.asm line 2753: Label not found: (BAKTMP)
basic2.asm line 2753: label value misalligned.           (BAKTMP)
basic2.asm line 2753: unrecognized instruction.          (BAKTMP)
2754   0697             	DEC	HL		; Back
basic2.asm line 2754: unrecognized instruction.          (DEC)
2755   0697             	LD	B,(HL)		; Get MSB of address
basic2.asm line 2755: unrecognized instruction.          (LD)
2756   0697             	DEC	HL		; Back
basic2.asm line 2756: unrecognized instruction.          (DEC)
2757   0697             	LD	C,(HL)		; Get LSB of address
basic2.asm line 2757: unrecognized instruction.          (LD)
2758   0697             	DEC	HL		; Back
basic2.asm line 2758: unrecognized instruction.          (DEC)
2759   0697             	DEC	HL		; Back
basic2.asm line 2759: unrecognized instruction.          (DEC)
basic2.asm line 2760: Label not found: (CPHLDE)
basic2.asm line 2760: Unused data in MS byte of argument. (2)
2760   0697 CD 00 00    	CALL	CPHLDE		; String last in string pool?
2761   069A             	RET	NZ		; Yes - Leave it
basic2.asm line 2761: unrecognized argument.             (NZ)
2762   069A             	LD	(TMSTPT),HL	; Save new string pool top
basic2.asm line 2762: unrecognized instruction.          (LD)
2763   069A C9          	RET
2764   069B             ;------------------------------------------------------------------------------
2765   069B             ; LEN string length
2766   069B             ;------------------------------------------------------------------------------
2767   069B             LEN:	LD	BC,PASSA		; To return integer A
basic2.asm line 2767: Label not found: (LEN)
basic2.asm line 2767: label value misalligned.           (LEN)
basic2.asm line 2767: unrecognized instruction.          (LEN)
2768   069B             	PUSH	BC		; Save address
basic2.asm line 2768: unrecognized argument.             (BC)
2769   069B CD 8D 06    GETLEN:	CALL	GETSTR		; Get string and its length
2770   069E             	XOR	A
basic2.asm line 2770: unrecognized instruction.          (XOR)
2771   069E             	LD	D,A		; Clear D
basic2.asm line 2771: unrecognized instruction.          (LD)
2772   069E             	LD	(TYPE),A		; Set type to numeric
basic2.asm line 2772: unrecognized instruction.          (LD)
2773   069E             	LD	A,(HL)		; Get length of string
basic2.asm line 2773: unrecognized instruction.          (LD)
2774   069E             	OR	A		; Set status flags
basic2.asm line 2774: unrecognized instruction.          (OR)
2775   069E C9          	RET
2776   069F             ;------------------------------------------------------------------------------
2777   069F             ; ASC string value
2778   069F             ;------------------------------------------------------------------------------
2779   069F             ASC:	LD	BC,PASSA		; To return integer A
basic2.asm line 2779: Label not found: (ASC)
basic2.asm line 2779: label value misalligned.           (ASC)
basic2.asm line 2779: unrecognized instruction.          (ASC)
2780   069F             	PUSH	BC		; Save address
basic2.asm line 2780: unrecognized argument.             (BC)
2781   069F CD 9B 06    GTFLNM:	CALL	GETLEN		; Get length of string
basic2.asm line 2782: Label not found: (Z)
basic2.asm line 2782: Unknown token: (,)
basic2.asm line 2782: Unknown token.    
basic2.asm line 2782: Label not found: (FCERR)
basic2.asm line 2782: Unused data in MS byte of argument. (2)
2782   06A2 F2 00 00    	JP	Z,FCERR		; Null string - Error
2783   06A5             	INC	HL
basic2.asm line 2783: unrecognized instruction.          (INC)
2784   06A5             	INC	HL
basic2.asm line 2784: unrecognized instruction.          (INC)
2785   06A5             	LD	E,(HL)		; Get LSB of address
basic2.asm line 2785: unrecognized instruction.          (LD)
2786   06A5             	INC	HL
basic2.asm line 2786: unrecognized instruction.          (INC)
2787   06A5             	LD	D,(HL)		; Get MSB of address
basic2.asm line 2787: unrecognized instruction.          (LD)
2788   06A5             	LD	A,(DE)		; Get first byte of string
basic2.asm line 2788: unrecognized instruction.          (LD)
2789   06A5 C9          	RET
2790   06A6             ;------------------------------------------------------------------------------
2791   06A6             ; CHR
2792   06A6             ;------------------------------------------------------------------------------
2793   06A6             CHR:	LD	A,1		; One character string
basic2.asm line 2793: Label not found: (CHR)
basic2.asm line 2793: label value misalligned.           (CHR)
basic2.asm line 2793: unrecognized instruction.          (CHR)
2794   06A6 CD 0E 06    	CALL	MKTMST		; Make a temporary string
2795   06A9 CD 24 07    	CALL	MAKINT		; Make it integer A
2796   06AC             	LD	HL,(TMPSTR+2)	; Get address of string
basic2.asm line 2796: unrecognized instruction.          (LD)
2797   06AC             	LD	(HL),E		; Save character
basic2.asm line 2797: unrecognized instruction.          (LD)
2798   06AC             TOPOOL:	POP	BC		; Clean up stack
basic2.asm line 2798: Label not found: (TOPOOL)
basic2.asm line 2798: label value misalligned.           (TOPOOL)
basic2.asm line 2798: unrecognized argument.             (TOPOOL)
basic2.asm line 2799: Label not found: (TSTOPL)
basic2.asm line 2799: Unused data in MS byte of argument. (2)
2799   06AC F2 00 00    	JP	TSTOPL		; Temporary string to pool
2800   06AF             ;------------------------------------------------------------------------------
2801   06AF             ; LEFT$
2802   06AF             ;------------------------------------------------------------------------------
basic2.asm line 2803: Label not found: (LFRGNM)
basic2.asm line 2803: Unused data in MS byte of argument. (2)
2803   06AF CD 00 00    LEFT:	CALL	LFRGNM		; Get number and ending ")"
2804   06B2             	XOR	A		; Start at first byte in string
basic2.asm line 2804: unrecognized instruction.          (XOR)
2805   06B2             ;------------------------------------------------------------------------------
2806   06B2             ; RIGHT$
2807   06B2             ;------------------------------------------------------------------------------
2808   06B2             RIGHT1:	EX	(SP),HL		; Save code string,Get string
basic2.asm line 2808: Label not found: (RIGHT1)
basic2.asm line 2808: label value misalligned.           (RIGHT1)
basic2.asm line 2808: unrecognized instruction.          (RIGHT1)
2809   06B2             	LD	C,A		; Starting position in string
basic2.asm line 2809: unrecognized instruction.          (LD)
2810   06B2             ;------------------------------------------------------------------------------
2811   06B2             ; MID$
2812   06B2             ;------------------------------------------------------------------------------	
2813   06B2             MID1:	PUSH	HL		; Save string block address
basic2.asm line 2813: Label not found: (MID1)
basic2.asm line 2813: label value misalligned.           (MID1)
basic2.asm line 2813: unrecognized argument.             (MID1)
2814   06B2             	LD	A,(HL)		; Get length of string
basic2.asm line 2814: unrecognized instruction.          (LD)
basic2.asm line 2815: Label not found: (B)
basic2.asm line 2815: Unused data in MS byte of argument. (2)
2815   06B2 F4 00 00    	CP	B		; Compare with number given
2816   06B5             	JR	C,ALLFOL		; All following bytes required
basic2.asm line 2816: unrecognized instruction.          (JR)
2817   06B5             	LD	A,B		; Get new length
basic2.asm line 2817: unrecognized instruction.          (LD)
2818   06B5 11          	.BYTE	11H		; Skip "LD C,0"
2819   06B6             ALLFOL:	LD	C,0		; First byte of string
basic2.asm line 2819: Label not found: (ALLFOL)
basic2.asm line 2819: label value misalligned.           (ALLFOL)
basic2.asm line 2819: unrecognized instruction.          (ALLFOL)
2820   06B6             	PUSH	BC		; Save position in string
basic2.asm line 2820: unrecognized argument.             (BC)
basic2.asm line 2821: Label not found: (TESTR)
basic2.asm line 2821: Unused data in MS byte of argument. (2)
2821   06B6 CD 00 00    	CALL	TESTR		; See if enough string space
2822   06B9             	POP	BC		; Get position in string
basic2.asm line 2822: unrecognized argument.             (BC)
2823   06B9             	POP	HL		; Restore string block address
basic2.asm line 2823: unrecognized argument.             (HL)
2824   06B9             	PUSH	HL		; And re-save it
basic2.asm line 2824: unrecognized argument.             (HL)
2825   06B9             	INC	HL
basic2.asm line 2825: unrecognized instruction.          (INC)
2826   06B9             	INC	HL
basic2.asm line 2826: unrecognized instruction.          (INC)
2827   06B9             	LD	B,(HL)		; Get LSB of address
basic2.asm line 2827: unrecognized instruction.          (LD)
2828   06B9             	INC	HL
basic2.asm line 2828: unrecognized instruction.          (INC)
2829   06B9             	LD	H,(HL)		; Get MSB of address
basic2.asm line 2829: unrecognized instruction.          (LD)
2830   06B9             	LD	L,B		; HL = address of string
basic2.asm line 2830: unrecognized instruction.          (LD)
2831   06B9             	LD	B,0		; BC = starting address
basic2.asm line 2831: unrecognized instruction.          (LD)
2832   06B9             	ADD	HL,BC		; Point to that byte
basic2.asm line 2832: unrecognized argument.             (HL,BC)
2833   06B9             	LD	B,H		; BC = source string
basic2.asm line 2833: unrecognized instruction.          (LD)
2834   06B9             	LD	C,L
basic2.asm line 2834: unrecognized instruction.          (LD)
basic2.asm line 2835: Label not found: (CRTMST)
basic2.asm line 2835: Unused data in MS byte of argument. (2)
2835   06B9 CD 00 00    	CALL	CRTMST		; Create a string entry
2836   06BC             	LD	L,A		; Length of new string
basic2.asm line 2836: unrecognized instruction.          (LD)
basic2.asm line 2837: Label not found: (TOSTRA)
basic2.asm line 2837: Unused data in MS byte of argument. (2)
2837   06BC CD 00 00    	CALL	TOSTRA		; Move string to string area
2838   06BF             	POP	DE		; Clear stack
basic2.asm line 2838: unrecognized argument.             (DE)
2839   06BF CD 90 06    	CALL	GSTRDE		; Move to string pool if needed
basic2.asm line 2840: Label not found: (TSTOPL)
basic2.asm line 2840: Unused data in MS byte of argument. (2)
2840   06C2 F2 00 00    	JP	TSTOPL		; Temporary string to pool
2841   06C5             
basic2.asm line 2842: Label not found: (LFRGNM)
basic2.asm line 2842: Unused data in MS byte of argument. (2)
2842   06C5 CD 00 00    RIGHT:	CALL	LFRGNM		; Get number and ending ")"
2843   06C8             	POP	DE		; Get string length
basic2.asm line 2843: unrecognized argument.             (DE)
2844   06C8             	PUSH	DE		; And re-save
basic2.asm line 2844: unrecognized argument.             (DE)
2845   06C8             	LD	A,(DE)		; Get length
basic2.asm line 2845: unrecognized instruction.          (LD)
2846   06C8 90          	SUB	B		; Move back N bytes
2847   06C9             	JR	RIGHT1		; Go and get sub-string
basic2.asm line 2847: unrecognized instruction.          (JR)
2848   06C9             
2849   06C9             MID:	EX	DE,HL		; Get code string address
basic2.asm line 2849: Label not found: (MID)
basic2.asm line 2849: label value misalligned.           (MID)
basic2.asm line 2849: unrecognized instruction.          (MID)
2850   06C9             	LD	A,(HL)		; Get next byte "," or ")"
basic2.asm line 2850: unrecognized instruction.          (LD)
basic2.asm line 2851: Label not found: (MIDNUM)
basic2.asm line 2851: Unused data in MS byte of argument. (2)
2851   06C9 CD 00 00    	CALL	MIDNUM		; Get number supplied
2852   06CC             	INC	B		; Is it character zero?
basic2.asm line 2852: unrecognized instruction.          (INC)
2853   06CC             	DEC	B
basic2.asm line 2853: unrecognized instruction.          (DEC)
basic2.asm line 2854: Label not found: (Z)
basic2.asm line 2854: Unknown token: (,)
basic2.asm line 2854: Unknown token.    
basic2.asm line 2854: Label not found: (FCERR)
basic2.asm line 2854: Unused data in MS byte of argument. (2)
2854   06CC F2 00 00    	JP	Z,FCERR		; Yes - Error
2855   06CF             	PUSH	BC		; Save starting position
basic2.asm line 2855: unrecognized argument.             (BC)
2856   06CF             	LD	E,255		; All of string
basic2.asm line 2856: unrecognized instruction.          (LD)
2857   06CF F4 29 00    	CP	')'		; Any length given?
2858   06D2             	JR	Z,RSTSTR		; No - Rest of string
basic2.asm line 2858: unrecognized instruction.          (JR)
basic2.asm line 2859: Label not found: (CHKSYN)
basic2.asm line 2859: Unused data in MS byte of argument. (2)
2859   06D2 CD 00 00    	CALL	CHKSYN		; Make sure "," follows
2860   06D5 2C          	.BYTE	','
2861   06D6 CD 21 07    	CALL	GETINT		; Get integer 0-255
basic2.asm line 2862: Label not found: (CHKSYN)
basic2.asm line 2862: Unused data in MS byte of argument. (2)
2862   06D9 CD 00 00    RSTSTR:	CALL	CHKSYN		; Make sure ")" follows
2863   06DC 29          	.BYTE	')'
2864   06DD             	POP	AF		; Restore starting position
basic2.asm line 2864: unrecognized argument.             (AF)
2865   06DD             	EX	(SP),HL		; Get string,8ave code string
basic2.asm line 2865: unrecognized instruction.          (EX)
2866   06DD             	LD	BC,MID1		; Continuation of MID$ routine
basic2.asm line 2866: unrecognized instruction.          (LD)
2867   06DD             	PUSH	BC		; Save for return
basic2.asm line 2867: unrecognized argument.             (BC)
2868   06DD             	DEC	A		; Starting position-1
basic2.asm line 2868: unrecognized instruction.          (DEC)
basic2.asm line 2869: Label not found: (HL)
basic2.asm line 2869: Unused data in MS byte of argument. (2)
2869   06DD F4 00 00    	CP	(HL)		; Compare with length
2870   06E0             	LD	B,0		; Zero bytes length
basic2.asm line 2870: unrecognized instruction.          (LD)
2871   06E0             	RET	NC		; Null string if start past end
basic2.asm line 2871: unrecognized argument.             (NC)
2872   06E0             	LD	C,A		; Save starting position-1
basic2.asm line 2872: unrecognized instruction.          (LD)
2873   06E0             	LD	A,(HL)		; Get length of string
basic2.asm line 2873: unrecognized instruction.          (LD)
2874   06E0 91          	SUB	C		; Subtract start
basic2.asm line 2875: Label not found: (E)
basic2.asm line 2875: Unused data in MS byte of argument. (2)
2875   06E1 F4 00 00    	CP	E		; Enough string for it?
2876   06E4             	LD	B,A		; Save maximum length available
basic2.asm line 2876: unrecognized instruction.          (LD)
2877   06E4             	RET	C		; Truncate string if needed
basic2.asm line 2877: unrecognized argument.             (C)
2878   06E4             	LD	B,E		; Set specified length
basic2.asm line 2878: unrecognized instruction.          (LD)
2879   06E4 C9          	RET			; Go and create string
2880   06E5             ;------------------------------------------------------------------------------
2881   06E5             ; VAL
2882   06E5             ;------------------------------------------------------------------------------
2883   06E5 CD 9B 06    VAL:	CALL	GETLEN		; Get length of string
basic2.asm line 2884: Label not found: (Z)
basic2.asm line 2884: Unknown token: (,)
basic2.asm line 2884: Unknown token.    
basic2.asm line 2884: Label not found: (RESZER)
basic2.asm line 2884: Unused data in MS byte of argument. (2)
2884   06E8 F2 00 00    	JP	Z,RESZER		; Result zero
2885   06EB             	LD	E,A		; Save length
basic2.asm line 2885: unrecognized instruction.          (LD)
2886   06EB             	INC	HL
basic2.asm line 2886: unrecognized instruction.          (INC)
2887   06EB             	INC	HL
basic2.asm line 2887: unrecognized instruction.          (INC)
2888   06EB             	LD	A,(HL)		; Get LSB of address
basic2.asm line 2888: unrecognized instruction.          (LD)
2889   06EB             	INC	HL
basic2.asm line 2889: unrecognized instruction.          (INC)
2890   06EB             	LD	H,(HL)		; Get MSB of address
basic2.asm line 2890: unrecognized instruction.          (LD)
2891   06EB             	LD	L,A		; HL = String address
basic2.asm line 2891: unrecognized instruction.          (LD)
2892   06EB             	PUSH	HL		; Save string address
basic2.asm line 2892: unrecognized argument.             (HL)
2893   06EB             	ADD	HL,DE
basic2.asm line 2893: unrecognized argument.             (HL,DE)
2894   06EB             	LD	B,(HL)		; Get end of string+1 byte
basic2.asm line 2894: unrecognized instruction.          (LD)
2895   06EB             	LD	(HL),D		; Zero it to terminate
basic2.asm line 2895: unrecognized instruction.          (LD)
2896   06EB             	EX	(SP),HL		; Save string end,get start
basic2.asm line 2896: unrecognized instruction.          (EX)
2897   06EB             	PUSH	BC		; Save end+1 byte
basic2.asm line 2897: unrecognized argument.             (BC)
2898   06EB             	LD	A,(HL)		; Get starting byte
basic2.asm line 2898: unrecognized instruction.          (LD)
2899   06EB CD 75 08    	CALL	ASCTFP		; Convert ASCII string to FP
2900   06EE             	POP	BC		; Restore end+1 byte
basic2.asm line 2900: unrecognized argument.             (BC)
2901   06EE             	POP	HL		; Restore end+1 address
basic2.asm line 2901: unrecognized argument.             (HL)
2902   06EE             	LD	(HL),B		; Put back original byte
basic2.asm line 2902: unrecognized instruction.          (LD)
2903   06EE C9          	RET
2904   06EF             
2905   06EF             LFRGNM:	EX	DE,HL		; Code string address to HL
basic2.asm line 2905: Label not found: (LFRGNM)
basic2.asm line 2905: label value misalligned.           (LFRGNM)
basic2.asm line 2905: unrecognized instruction.          (LFRGNM)
basic2.asm line 2906: Label not found: (CHKSYN)
basic2.asm line 2906: Unused data in MS byte of argument. (2)
2906   06EF CD 00 00    	CALL	CHKSYN		; Make sure ")" follows
2907   06F2 29          	.BYTE	")"
2908   06F3             MIDNUM:	POP	BC		; Get return address
basic2.asm line 2908: Label not found: (MIDNUM)
basic2.asm line 2908: label value misalligned.           (MIDNUM)
basic2.asm line 2908: unrecognized argument.             (MIDNUM)
2909   06F3             	POP	DE		; Get number supplied
basic2.asm line 2909: unrecognized argument.             (DE)
2910   06F3             	PUSH	BC		; Re-save return address
basic2.asm line 2910: unrecognized argument.             (BC)
2911   06F3             	LD	B,E		; Number to B
basic2.asm line 2911: unrecognized instruction.          (LD)
2912   06F3 C9          	RET
2913   06F4             ;------------------------------------------------------------------------------
2914   06F4             ; INPUT
2915   06F4             ;------------------------------------------------------------------------------
2916   06F4 CD 24 07    INP:	CALL	MAKINT		; Make it integer A
2917   06F7             	LD	(INPORT),A	; Set input port
basic2.asm line 2917: unrecognized instruction.          (LD)
2918   06F7 CD 5E 31    	CALL	INPSUB		; Get input from port
basic2.asm line 2919: Label not found: (PASSA)
basic2.asm line 2919: Unused data in MS byte of argument. (2)
2919   06FA F2 00 00    	JP	PASSA		; Return integer A
2920   06FD             ;------------------------------------------------------------------------------
2921   06FD             ; OUTPUT
2922   06FD             ;------------------------------------------------------------------------------
2923   06FD CD 14 07    POUT:	CALL	SETIO		; Set up port number
2924   0700 F2 26 31    	JP	OUTSUB		; Output data and return
2925   0703             ;------------------------------------------------------------------------------
2926   0703             ; WAIT
2927   0703             ;------------------------------------------------------------------------------
2928   0703 CD 14 07    WAIT:	CALL	SETIO		; Set up port number
2929   0706             	PUSH	AF		; Save AND mask
basic2.asm line 2929: unrecognized argument.             (AF)
2930   0706             	LD	E,0		; Assume zero if none given
basic2.asm line 2930: unrecognized instruction.          (LD)
2931   0706             	DEC	HL		; DEC 'cos GETCHR INCs
basic2.asm line 2931: unrecognized instruction.          (DEC)
basic2.asm line 2932: Label not found: (GETCHR)
basic2.asm line 2932: Unused data in MS byte of argument. (2)
2932   0706 CD 00 00    	CALL	GETCHR		; Get next character
2933   0709             	JR	Z,NOXOR		; No XOR byte given
basic2.asm line 2933: unrecognized instruction.          (JR)
basic2.asm line 2934: Label not found: (CHKSYN)
basic2.asm line 2934: Unused data in MS byte of argument. (2)
2934   0709 CD 00 00    	CALL	CHKSYN		; Make sure "," follows
2935   070C 2C          	.BYTE	','
2936   070D CD 21 07    	CALL	GETINT		; Get integer 0-255 to XOR with
2937   0710             NOXOR:	POP	BC		; Restore AND mask
basic2.asm line 2937: Label not found: (NOXOR)
basic2.asm line 2937: label value misalligned.           (NOXOR)
basic2.asm line 2937: unrecognized argument.             (NOXOR)
2938   0710 CD 5E 31    WAITLP:	CALL	INPSUB		; Get input
2939   0713             	XOR	E		; Flip selected bits
basic2.asm line 2939: unrecognized instruction.          (XOR)
2940   0713             	AND	B		; Result non-zero?
basic2.asm line 2940: unrecognized instruction.          (AND)
2941   0713             	JR	Z,WAITLP		; No = keep waiting
basic2.asm line 2941: unrecognized instruction.          (JR)
2942   0713 C9          	RET
2943   0714             ;------------------------------------------------------------------------------
2944   0714             ; Process INP and OUT
2945   0714             ;------------------------------------------------------------------------------
2946   0714 CD 21 07    SETIO:	CALL	GETINT		; Get integer 0-255
2947   0717             	LD	(INPORT),A	; Set input port
basic2.asm line 2947: unrecognized instruction.          (LD)
2948   0717             	LD	(OTPORT),A	; Set output port
basic2.asm line 2948: unrecognized instruction.          (LD)
basic2.asm line 2949: Label not found: (CHKSYN)
basic2.asm line 2949: Unused data in MS byte of argument. (2)
2949   0717 CD 00 00    	CALL	CHKSYN		; Make sure "," follows
2950   071A 2C          	.BYTE	','
2951   071B F2 21 07    	JP	GETINT		; Get integer 0-255 and return
2952   071E             
basic2.asm line 2953: Label not found: (GETCHR)
basic2.asm line 2953: Unused data in MS byte of argument. (2)
2953   071E CD 00 00    FNDNUM:	CALL	GETCHR		; Get next character
2954   0721 CD 2B 04    GETINT:	CALL	GETNUM		; Get a number from 0 to 255
2955   0724 CD 6F 02    MAKINT:	CALL	DEPINT		; Make sure value 0 - 255
2956   0727             	LD	A,D		; Get MSB of number
basic2.asm line 2956: unrecognized instruction.          (LD)
2957   0727             	OR	A		; Zero?
basic2.asm line 2957: unrecognized instruction.          (OR)
basic2.asm line 2958: Label not found: (NZ)
basic2.asm line 2958: Unknown token: (,)
basic2.asm line 2958: Unknown token.    
basic2.asm line 2958: Label not found: (FCERR)
basic2.asm line 2958: Unused data in MS byte of argument. (2)
2958   0727 F2 00 00    	JP	NZ,FCERR		; No - Error
2959   072A             	DEC	HL		; DEC 'cos GETCHR INCs
basic2.asm line 2959: unrecognized instruction.          (DEC)
basic2.asm line 2960: Label not found: (GETCHR)
basic2.asm line 2960: Unused data in MS byte of argument. (2)
2960   072A CD 00 00    	CALL	GETCHR		; Get next character
2961   072D             	LD	A,E		; Get number to A
basic2.asm line 2961: unrecognized instruction.          (LD)
2962   072D C9          	RET
2963   072E             ;------------------------------------------------------------------------------
2964   072E             ; PEEK
2965   072E             ;------------------------------------------------------------------------------
basic2.asm line 2966: Label not found: (DEINT)
basic2.asm line 2966: Unused data in MS byte of argument. (2)
2966   072E CD 00 00    PEEK:	CALL	DEINT		; Get memory address
2967   0731             	LD	A,(DE)		; Get byte in memory
basic2.asm line 2967: unrecognized instruction.          (LD)
basic2.asm line 2968: Label not found: (PASSA)
basic2.asm line 2968: Unused data in MS byte of argument. (2)
2968   0731 F2 00 00    	JP	PASSA		; Return integer A
2969   0734             ;------------------------------------------------------------------------------
2970   0734             ; POKE
2971   0734             ;------------------------------------------------------------------------------
2972   0734 CD 2B 04    POKE:	CALL	GETNUM		; Get memory address
basic2.asm line 2973: Label not found: (DEINT)
basic2.asm line 2973: Unused data in MS byte of argument. (2)
2973   0737 CD 00 00    	CALL	DEINT		; Get integer -32768 to 3276
2974   073A             	PUSH	DE		; Save memory address
basic2.asm line 2974: unrecognized argument.             (DE)
basic2.asm line 2975: Label not found: (CHKSYN)
basic2.asm line 2975: Unused data in MS byte of argument. (2)
2975   073A CD 00 00    	CALL	CHKSYN		; Make sure "," follows
2976   073D 2C          	.BYTE	','
2977   073E CD 21 07    	CALL	GETINT		; Get integer 0-255
2978   0741             	POP	DE		; Restore memory address
basic2.asm line 2978: unrecognized argument.             (DE)
2979   0741             	LD	(DE),A		; Load it into memory
basic2.asm line 2979: unrecognized instruction.          (LD)
2980   0741 C9          	RET
2981   0742             ;------------------------------------------------------------------------------
2982   0742             ; HEX( [Replaces DEEK] Convert 16 bit number to Hexadecimal string
2983   0742             ;------------------------------------------------------------------------------
2984   0742 CD 2E 04    HEX: 	CALL	TSTNUM		; Verify it's a number
basic2.asm line 2985: Label not found: (DEINT)
basic2.asm line 2985: Unused data in MS byte of argument. (2)
2985   0745 CD 00 00    	CALL	DEINT		; Get integer -32768 to 32767
2986   0748             	PUSH	BC		; Save contents of BC
basic2.asm line 2986: unrecognized argument.             (BC)
2987   0748             	LD	HL,PBUFF
basic2.asm line 2987: unrecognized instruction.          (LD)
2988   0748             	LD	(HL),'$'		; Store "$" to start of conv buffer
basic2.asm line 2988: unrecognized instruction.          (LD)
2989   0748             	INC	HL		; Index next
basic2.asm line 2989: unrecognized instruction.          (INC)
2990   0748             	LD	A,D		; Get high order into A
basic2.asm line 2990: unrecognized instruction.          (LD)
basic2.asm line 2991: Label not found: (BYT2ASC)
basic2.asm line 2991: Unused data in MS byte of argument. (2)
2991   0748 CD 00 00    	CALL	BYT2ASC		; Convert	D to ASCII
2992   074B             	LD	(HL),B		; Store it to PBUFF+1
basic2.asm line 2992: unrecognized instruction.          (LD)
2993   074B             	INC	HL		; Next location
basic2.asm line 2993: unrecognized instruction.          (INC)
2994   074B             	LD	(HL),C		; Store C	to PBUFF+2
basic2.asm line 2994: unrecognized instruction.          (LD)
2995   074B             	LD	A,E		; Get lower byte
basic2.asm line 2995: unrecognized instruction.          (LD)
basic2.asm line 2996: Label not found: (BYT2ASC)
basic2.asm line 2996: Unused data in MS byte of argument. (2)
2996   074B CD 00 00    	CALL	BYT2ASC		; Convert	E to ASCII
2997   074E             	INC	HL		; Save B
basic2.asm line 2997: unrecognized instruction.          (INC)
2998   074E             	LD	(HL),B		; to PBUFF+3
basic2.asm line 2998: unrecognized instruction.          (LD)
2999   074E             	INC	HL		; Save C
basic2.asm line 2999: unrecognized instruction.          (INC)
3000   074E             	LD	(HL),C		; to PBUFF+4
basic2.asm line 3000: unrecognized instruction.          (LD)
3001   074E             	LD	A,$20		; Create a <spc> after the number
basic2.asm line 3001: unrecognized instruction.          (LD)
3002   074E             	INC	HL		; Index next
basic2.asm line 3002: unrecognized instruction.          (INC)
3003   074E             	LD	(HL),A		; PBUFF+5	to space
basic2.asm line 3003: unrecognized instruction.          (LD)
3004   074E             	XOR	A		; Terminating character
basic2.asm line 3004: unrecognized instruction.          (XOR)
3005   074E             	INC	HL		; PBUFF+6	to zero
basic2.asm line 3005: unrecognized instruction.          (INC)
3006   074E             	LD	(HL),A		; Store zero to terminate
basic2.asm line 3006: unrecognized instruction.          (LD)
3007   074E             	INC	HL		; Make sure PBUFF is terminated
basic2.asm line 3007: unrecognized instruction.          (INC)
3008   074E             	LD	(HL),A		; Store the double zero there
basic2.asm line 3008: unrecognized instruction.          (LD)
3009   074E             	POP	BC		; Get BC back
basic2.asm line 3009: unrecognized argument.             (BC)
3010   074E             	LD	HL,PBUFF		; Reset to start of PBUFF
basic2.asm line 3010: unrecognized instruction.          (LD)
3011   074E F2 FE 05    	JP	STR1		; Convert the PBUFF to a string and return it
3012   0751             ;------------------------------------------------------------------------------
3013   0751             ; Convert byte in A to ASCII in BC, same as routine in Monitor at $0326
3014   0751             ;------------------------------------------------------------------------------
3015   0751             BYT2ASC:LD	B,A		; Save original value
basic2.asm line 3015: Label not found: (BYT2ASC)
basic2.asm line 3015: label value misalligned.           (BYT2ASC)
basic2.asm line 3015: unrecognized instruction.          (BYT2ASC)
3016   0751             	AND	$0F		; Strip off upper nybble
basic2.asm line 3016: unrecognized instruction.          (AND)
3017   0751 F4 0A 00    	CP	$0A		; 0-9?
3018   0754             	JR	C,ADD30		; If A-F, add 7 more
basic2.asm line 3018: unrecognized instruction.          (JR)
3019   0754             	ADD	A,$07		; Bring value up to ASCII A-F
basic2.asm line 3019: unrecognized argument.             (A,$07)
3020   0754             ADD30:	ADD	A,$30		; And make ASCII
basic2.asm line 3020: Label not found: (ADD30)
basic2.asm line 3020: label value misalligned.           (ADD30)
basic2.asm line 3020: unrecognized argument.             (ADD30)
3021   0754             	LD	C,A		; Save converted char to C
basic2.asm line 3021: unrecognized instruction.          (LD)
3022   0754             	LD	A,B		; Retrieve original value
basic2.asm line 3022: unrecognized instruction.          (LD)
3023   0754             	RRCA			; and Rotate it right
basic2.asm line 3023: unrecognized instruction.          (RRCA)
3024   0754             	RRCA
basic2.asm line 3024: unrecognized instruction.          (RRCA)
3025   0754             	RRCA
basic2.asm line 3025: unrecognized instruction.          (RRCA)
3026   0754             	RRCA
basic2.asm line 3026: unrecognized instruction.          (RRCA)
3027   0754             	AND	$0F		; Mask off upper nybble
basic2.asm line 3027: unrecognized instruction.          (AND)
3028   0754 F4 0A 00    	CP	$0A		; 0-9? < A hex?
3029   0757             	JR	C,ADD301		; Skip Add 7
basic2.asm line 3029: unrecognized instruction.          (JR)
3030   0757             	ADD	A,$07		; Bring it up to ASCII A-F
basic2.asm line 3030: unrecognized argument.             (A,$07)
3031   0757             ADD301:	ADD	A,$30		; And make it full ASCII
basic2.asm line 3031: Label not found: (ADD301)
basic2.asm line 3031: label value misalligned.           (ADD301)
basic2.asm line 3031: unrecognized argument.             (ADD301)
3032   0757             	LD	B,A		; Store high order byte
basic2.asm line 3032: unrecognized instruction.          (LD)
3033   0757 C9          	RET	
3034   0758             ;------------------------------------------------------------------------------
3035   0758             ; VECTOR Set address for USR jump vector [formerly DOKE]
3036   0758             ;------------------------------------------------------------------------------
3037   0758 CD 2B 04    VECTOR:	CALL	GETNUM		; Get a number
basic2.asm line 3038: Label not found: (DEINT)
basic2.asm line 3038: Unused data in MS byte of argument. (2)
3038   075B CD 00 00    	CALL	DEINT		; Get integer into DE
3039   075E             	LD	(USR+1),DE	; Store vector at USR vector
basic2.asm line 3039: unrecognized instruction.          (LD)
3040   075E C9          	RET
3041   075F             ;------------------------------------------------------------------------------
3042   075F             ; WIDTH
3043   075F             ;------------------------------------------------------------------------------
3044   075F CD 21 07    WIDTH:	CALL	GETINT		; Get integer 0-255
3045   0762             	LD	A,E		; Width to A
basic2.asm line 3045: unrecognized instruction.          (LD)
3046   0762             	LD	(LWIDTH),A	; Set width
basic2.asm line 3046: unrecognized instruction.          (LD)
3047   0762 C9          	RET
3048   0763             ;------------------------------------------------------------------------------
3049   0763             ; LINES
3050   0763             ;------------------------------------------------------------------------------
3051   0763 CD 2B 04    LINES:	CALL	GETNUM		; Get a number
basic2.asm line 3052: Label not found: (DEINT)
basic2.asm line 3052: Unused data in MS byte of argument. (2)
3052   0766 CD 00 00    	CALL	DEINT		; Get integer -32768 to 32767
3053   0769             	LD	(LINESC),DE	; Set lines counter
basic2.asm line 3053: unrecognized instruction.          (LD)
3054   0769             	LD	(LINESN),DE	; Set lines number
basic2.asm line 3054: unrecognized instruction.          (LD)
3055   0769 C9          	RET
3056   076A             ;------------------------------------------------------------------------------
3057   076A             ;------------------------------------------------------------------------------
3058   076A             ; 
3059   076A             ; Start of	F L O A T I N G	P O I N T	M A T H
3060   076A             ;
3061   076A             ;------------------------------------------------------------------------------
3062   076A             ;------------------------------------------------------------------------------
3063   076A             ROUND:	LD	HL,HALF		; Add 0.5 to FPREG
basic2.asm line 3063: Label not found: (ROUND)
basic2.asm line 3063: label value misalligned.           (ROUND)
basic2.asm line 3063: unrecognized instruction.          (ROUND)
basic2.asm line 3064: Label not found: (LOADFP)
basic2.asm line 3064: Unused data in MS byte of argument. (2)
3064   076A CD 00 00    ADDPHL:	CALL	LOADFP		; Load FP at (HL) to BCDE
3065   076D             	JR	FPADD		; Add BCDE to FPREG
basic2.asm line 3065: unrecognized instruction.          (JR)
3066   076D             
basic2.asm line 3067: Label not found: (LOADFP)
basic2.asm line 3067: Unused data in MS byte of argument. (2)
3067   076D CD 00 00    SUBPHL:	CALL	LOADFP		; FPREG = -FPREG + number at HL
3068   0770 21          	.BYTE	21H		; Skip "POP BC" and "POP DE"
3069   0771             PSUB:	POP	BC		; Get FP number from stack
basic2.asm line 3069: Label not found: (PSUB)
basic2.asm line 3069: label value misalligned.           (PSUB)
basic2.asm line 3069: unrecognized argument.             (PSUB)
3070   0771             	POP	DE
basic2.asm line 3070: unrecognized argument.             (DE)
basic2.asm line 3071: Label not found: (INVSGN)
basic2.asm line 3071: Unused data in MS byte of argument. (2)
3071   0771 CD 00 00    SUBCDE:	CALL	INVSGN		; Negate FPREG
3072   0774             FPADD:	LD	A,B		; Get FP exponent
basic2.asm line 3072: Label not found: (FPADD)
basic2.asm line 3072: label value misalligned.           (FPADD)
basic2.asm line 3072: unrecognized instruction.          (FPADD)
3073   0774             	OR	A		; Is number zero?
basic2.asm line 3073: unrecognized instruction.          (OR)
3074   0774             	RET	Z		; Yes - Nothing to add
basic2.asm line 3074: unrecognized argument.             (Z)
3075   0774             	LD	A,(FPEXP)		; Get FPREG exponent
basic2.asm line 3075: unrecognized instruction.          (LD)
3076   0774             	OR	A		; Is this number zero?
basic2.asm line 3076: unrecognized instruction.          (OR)
basic2.asm line 3077: Label not found: (Z)
basic2.asm line 3077: Unknown token: (,)
basic2.asm line 3077: Unknown token.    
basic2.asm line 3077: Label not found: (FPBCDE)
basic2.asm line 3077: Unused data in MS byte of argument. (2)
3077   0774 F2 00 00    	JP	Z,FPBCDE		; Yes - Move BCDE to FPREG
3078   0777 90          	SUB	B		; BCDE number larger?
3079   0778             	JR	NC,NOSWAP		; No - Don't swap them
basic2.asm line 3079: unrecognized instruction.          (JR)
3080   0778             	CPL			; Two's complement
basic2.asm line 3080: unrecognized instruction.          (CPL)
3081   0778             	INC	A		; FP exponent
basic2.asm line 3081: unrecognized instruction.          (INC)
3082   0778             	EX	DE,HL
basic2.asm line 3082: unrecognized instruction.          (EX)
basic2.asm line 3083: Label not found: (STAKFP)
basic2.asm line 3083: Unused data in MS byte of argument. (2)
3083   0778 CD 00 00    	CALL	STAKFP		; Put FPREG on stack
3084   077B             	EX	DE,HL
basic2.asm line 3084: unrecognized instruction.          (EX)
basic2.asm line 3085: Label not found: (FPBCDE)
basic2.asm line 3085: Unused data in MS byte of argument. (2)
3085   077B CD 00 00    	CALL	FPBCDE		; Move BCDE to FPREG
3086   077E             	POP	BC		; Restore number from stack
basic2.asm line 3086: unrecognized argument.             (BC)
3087   077E             	POP	DE
basic2.asm line 3087: unrecognized argument.             (DE)
3088   077E F4 19 00    NOSWAP:	CP	24+1		; Second number insignificant?
3089   0781             	RET	NC		; Yes - First number is result
basic2.asm line 3089: unrecognized argument.             (NC)
3090   0781             	PUSH	AF		; Save number of bits to scale
basic2.asm line 3090: unrecognized argument.             (AF)
basic2.asm line 3091: Label not found: (SIGNS)
basic2.asm line 3091: Unused data in MS byte of argument. (2)
3091   0781 CD 00 00    	CALL	SIGNS		; Set MSBs & sign of result
3092   0784             	LD	H,A		; Save sign of result
basic2.asm line 3092: unrecognized instruction.          (LD)
3093   0784             	POP	AF		; Restore scaling factor
basic2.asm line 3093: unrecognized argument.             (AF)
basic2.asm line 3094: Label not found: (SCALE)
basic2.asm line 3094: Unused data in MS byte of argument. (2)
3094   0784 CD 00 00    	CALL	SCALE		; Scale BCDE to same exponent
3095   0787             	OR	H		; Result to be positive?
basic2.asm line 3095: unrecognized instruction.          (OR)
3096   0787             	LD	HL,FPREG		; Point to FPREG
basic2.asm line 3096: unrecognized instruction.          (LD)
basic2.asm line 3097: Label not found: (P)
basic2.asm line 3097: Unknown token: (,)
basic2.asm line 3097: Unknown token.    
basic2.asm line 3097: Label not found: (MINCDE)
basic2.asm line 3097: Unused data in MS byte of argument. (2)
3097   0787 F2 00 00    	JP	P,MINCDE		; No - Subtract FPREG from CDE
basic2.asm line 3098: Label not found: (PLUCDE)
basic2.asm line 3098: Unused data in MS byte of argument. (2)
3098   078A CD 00 00    	CALL	PLUCDE		; Add FPREG to CDE
basic2.asm line 3099: Label not found: (NC)
basic2.asm line 3099: Unknown token: (,)
basic2.asm line 3099: Unknown token.    
basic2.asm line 3099: Label not found: (RONDUP)
basic2.asm line 3099: Unused data in MS byte of argument. (2)
3099   078D F2 00 00    	JP	NC,RONDUP		; No overflow - Round it up
3100   0790             	INC	HL		; Point to exponent
basic2.asm line 3100: unrecognized instruction.          (INC)
3101   0790             	INC	(HL)		; Increment it
basic2.asm line 3101: unrecognized instruction.          (INC)
basic2.asm line 3102: Label not found: (Z)
basic2.asm line 3102: Unknown token: (,)
basic2.asm line 3102: Unknown token.    
basic2.asm line 3102: Label not found: (OVERR)
basic2.asm line 3102: Unused data in MS byte of argument. (2)
3102   0790 F2 00 00    	JP	Z,OVERR		; Number overflowed - Error
3103   0793             	LD	L,1		; 1 bit to shift right
basic2.asm line 3103: unrecognized instruction.          (LD)
basic2.asm line 3104: Label not found: (SHRT1)
basic2.asm line 3104: Unused data in MS byte of argument. (2)
3104   0793 CD 00 00    	CALL	SHRT1		; Shift result right
basic2.asm line 3105: Label not found: (RONDUP)
basic2.asm line 3105: Unused data in MS byte of argument. (2)
3105   0796 F2 00 00    	JP	RONDUP		; Round it up
3106   0799             
3107   0799             MINCDE:	XOR	A		; Clear A and carry
basic2.asm line 3107: Label not found: (MINCDE)
basic2.asm line 3107: label value misalligned.           (MINCDE)
basic2.asm line 3107: unrecognized instruction.          (MINCDE)
3108   0799 90          	SUB	B		; Negate exponent
3109   079A             	LD	B,A		; Re-save exponent
basic2.asm line 3109: unrecognized instruction.          (LD)
3110   079A             	LD	A,(HL)		; Get LSB of FPREG
basic2.asm line 3110: unrecognized instruction.          (LD)
3111   079A             	SBC	A, E		; Subtract LSB of BCDE
basic2.asm line 3111: unrecognized instruction.          (SBC)
3112   079A             	LD	E,A		; Save LSB of BCDE
basic2.asm line 3112: unrecognized instruction.          (LD)
3113   079A             	INC	HL
basic2.asm line 3113: unrecognized instruction.          (INC)
3114   079A             	LD	A,(HL)		; Get NMSB of FPREG
basic2.asm line 3114: unrecognized instruction.          (LD)
3115   079A             	SBC	A,D		; Subtract NMSB of BCDE
basic2.asm line 3115: unrecognized instruction.          (SBC)
3116   079A             	LD	D,A		; Save NMSB of BCDE
basic2.asm line 3116: unrecognized instruction.          (LD)
3117   079A             	INC	HL
basic2.asm line 3117: unrecognized instruction.          (INC)
3118   079A             	LD	A,(HL)		; Get MSB of FPREG
basic2.asm line 3118: unrecognized instruction.          (LD)
3119   079A             	SBC	A,C		; Subtract MSB of BCDE
basic2.asm line 3119: unrecognized instruction.          (SBC)
3120   079A             	LD	C,A		; Save MSB of BCDE
basic2.asm line 3120: unrecognized instruction.          (LD)
basic2.asm line 3121: Label not found: (C)
basic2.asm line 3121: Unknown token: (,)
basic2.asm line 3121: Unknown token.    
basic2.asm line 3121: Label not found: (COMPL)
basic2.asm line 3121: Unused data in MS byte of argument. (2)
3121   079A CD 00 00    CONPOS:	CALL	C,COMPL		; Overflow - Make it positive
3122   079D             
3123   079D             BNORM:	LD	L,B		; L = Exponent
basic2.asm line 3123: Label not found: (BNORM)
basic2.asm line 3123: label value misalligned.           (BNORM)
basic2.asm line 3123: unrecognized instruction.          (BNORM)
3124   079D             	LD	H,E		; H = LSB
basic2.asm line 3124: unrecognized instruction.          (LD)
3125   079D             	XOR	A
basic2.asm line 3125: unrecognized instruction.          (XOR)
3126   079D             BNRMLP:	LD	B,A		; Save bit count
basic2.asm line 3126: Label not found: (BNRMLP)
basic2.asm line 3126: label value misalligned.           (BNRMLP)
basic2.asm line 3126: unrecognized instruction.          (BNRMLP)
3127   079D             	LD	A,C		; Get MSB
basic2.asm line 3127: unrecognized instruction.          (LD)
3128   079D             	OR	A		; Is it zero?
basic2.asm line 3128: unrecognized instruction.          (OR)
3129   079D             	JR	NZ,PNORM		; No - Do it bit at a time
basic2.asm line 3129: unrecognized instruction.          (JR)
3130   079D             	LD	C,D		; MSB = NMSB
basic2.asm line 3130: unrecognized instruction.          (LD)
3131   079D             	LD	D,H		; NMSB= LSB
basic2.asm line 3131: unrecognized instruction.          (LD)
3132   079D             	LD	H,L		; LSB = VLSB
basic2.asm line 3132: unrecognized instruction.          (LD)
3133   079D             	LD	L,A		; VLSB= 0
basic2.asm line 3133: unrecognized instruction.          (LD)
3134   079D             	LD	A,B		; Get exponent
basic2.asm line 3134: unrecognized instruction.          (LD)
3135   079D             	SUB	8		; Count 8 bits
basic2.asm line 3135: unrecognized argument.             (8)
3136   079D F4 E0 FF    	CP	-24-8		; Was number zero?
3137   07A0             	JR	NZ,BNRMLP		; No - Keep normalising
basic2.asm line 3137: unrecognized instruction.          (JR)
3138   07A0             RESZER:	XOR	A		; Result is zero
basic2.asm line 3138: Label not found: (RESZER)
basic2.asm line 3138: label value misalligned.           (RESZER)
basic2.asm line 3138: unrecognized instruction.          (RESZER)
3139   07A0             SAVEXP:	LD	(FPEXP),A		; Save result as zero
basic2.asm line 3139: Label not found: (SAVEXP)
basic2.asm line 3139: label value misalligned.           (SAVEXP)
basic2.asm line 3139: unrecognized instruction.          (SAVEXP)
3140   07A0 C9          	RET
3141   07A1             
3142   07A1             NORMAL:	DEC	B		; Count bits
basic2.asm line 3142: Label not found: (NORMAL)
basic2.asm line 3142: label value misalligned.           (NORMAL)
basic2.asm line 3142: unrecognized instruction.          (NORMAL)
3143   07A1             	ADD	HL,HL		; Shift HL left
basic2.asm line 3143: unrecognized argument.             (HL,HL)
3144   07A1             	LD	A,D		; Get NMSB
basic2.asm line 3144: unrecognized instruction.          (LD)
3145   07A1             	RLA			; Shift left with last bit
basic2.asm line 3145: unrecognized instruction.          (RLA)
3146   07A1             	LD	D,A		; Save NMSB
basic2.asm line 3146: unrecognized instruction.          (LD)
3147   07A1             	LD	A,C		; Get MSB
basic2.asm line 3147: unrecognized instruction.          (LD)
3148   07A1             	ADC	A,A		; Shift left with last bit
basic2.asm line 3148: unrecognized argument.             (A,A)
3149   07A1             	LD	C,A		; Save MSB
basic2.asm line 3149: unrecognized instruction.          (LD)
basic2.asm line 3150: Label not found: (P)
basic2.asm line 3150: Unknown token: (,)
basic2.asm line 3150: Unknown token.    
basic2.asm line 3150: Label not found: (NORMAL)
basic2.asm line 3150: Unused data in MS byte of argument. (2)
3150   07A1 F2 00 00    PNORM:	JP	P,NORMAL		; Not done - Keep going
3151   07A4             	LD	A,B		; Number of bits shifted
basic2.asm line 3151: unrecognized instruction.          (LD)
3152   07A4             	LD	E,H		; Save HL in EB
basic2.asm line 3152: unrecognized instruction.          (LD)
3153   07A4             	LD	B,L
basic2.asm line 3153: unrecognized instruction.          (LD)
3154   07A4             	OR	A		; Any shifting done?
basic2.asm line 3154: unrecognized instruction.          (OR)
basic2.asm line 3155: Label not found: (Z)
basic2.asm line 3155: Unknown token: (,)
basic2.asm line 3155: Unknown token.    
basic2.asm line 3155: Label not found: (RONDUP)
basic2.asm line 3155: Unused data in MS byte of argument. (2)
3155   07A4 F2 00 00    	JP	Z,RONDUP		; No - Round it up
3156   07A7             	LD	HL,FPEXP		; Point to exponent
basic2.asm line 3156: unrecognized instruction.          (LD)
3157   07A7             	ADD	A,(HL)		; Add shifted bits
basic2.asm line 3157: unrecognized argument.             (A,(HL))
3158   07A7             	LD	(HL),A		; Re-save exponent
basic2.asm line 3158: unrecognized instruction.          (LD)
3159   07A7             	JR	NC,RESZER		; Underflow - Result is zero
basic2.asm line 3159: unrecognized instruction.          (JR)
3160   07A7             	RET	Z		; Result is zero
basic2.asm line 3160: unrecognized argument.             (Z)
3161   07A7             RONDUP:	LD	A,B		; Get VLSB of number
basic2.asm line 3161: Label not found: (RONDUP)
basic2.asm line 3161: label value misalligned.           (RONDUP)
basic2.asm line 3161: unrecognized instruction.          (RONDUP)
3162   07A7             RONDB:	LD	HL,FPEXP		; Point to exponent
basic2.asm line 3162: Label not found: (RONDB)
basic2.asm line 3162: label value misalligned.           (RONDB)
basic2.asm line 3162: unrecognized instruction.          (RONDB)
3163   07A7             	OR	A		; Any rounding?
basic2.asm line 3163: unrecognized instruction.          (OR)
basic2.asm line 3164: Label not found: (M)
basic2.asm line 3164: Unknown token: (,)
basic2.asm line 3164: Unknown token.    
basic2.asm line 3164: Label not found: (FPROND)
basic2.asm line 3164: Unused data in MS byte of argument. (2)
3164   07A7 CD 00 00    	CALL	M,FPROND		; Yes - Round number up
3165   07AA             	LD	B,(HL)		; B = Exponent
basic2.asm line 3165: unrecognized instruction.          (LD)
3166   07AA             	INC	HL
basic2.asm line 3166: unrecognized instruction.          (INC)
3167   07AA             	LD	A,(HL)		; Get sign of result
basic2.asm line 3167: unrecognized instruction.          (LD)
3168   07AA             	AND	10000000B		; Only bit 7 needed
basic2.asm line 3168: unrecognized instruction.          (AND)
3169   07AA             	XOR	C		; Set correct sign
basic2.asm line 3169: unrecognized instruction.          (XOR)
3170   07AA             	LD	C,A		; Save correct sign in number
basic2.asm line 3170: unrecognized instruction.          (LD)
basic2.asm line 3171: Label not found: (FPBCDE)
basic2.asm line 3171: Unused data in MS byte of argument. (2)
3171   07AA F2 00 00    	JP	FPBCDE		; Move BCDE to FPREG
3172   07AD             
3173   07AD             FPROND:	INC	E		; Round LSB
basic2.asm line 3173: Label not found: (FPROND)
basic2.asm line 3173: label value misalligned.           (FPROND)
basic2.asm line 3173: unrecognized instruction.          (FPROND)
3174   07AD             	RET	NZ		; Return if ok
basic2.asm line 3174: unrecognized argument.             (NZ)
3175   07AD             	INC	D		; Round NMSB
basic2.asm line 3175: unrecognized instruction.          (INC)
3176   07AD             	RET	NZ		; Return if ok
basic2.asm line 3176: unrecognized argument.             (NZ)
3177   07AD             	INC	C		; Round MSB
basic2.asm line 3177: unrecognized instruction.          (INC)
3178   07AD             	RET	NZ		; Return if ok
basic2.asm line 3178: unrecognized argument.             (NZ)
3179   07AD             	LD	C,80H		; Set normal value
basic2.asm line 3179: unrecognized instruction.          (LD)
3180   07AD             	INC	(HL)		; Increment exponent
basic2.asm line 3180: unrecognized instruction.          (INC)
3181   07AD             	RET	NZ		; Return if ok
basic2.asm line 3181: unrecognized argument.             (NZ)
basic2.asm line 3182: Label not found: (OVERR)
basic2.asm line 3182: Unused data in MS byte of argument. (2)
3182   07AD F2 00 00    	JP	OVERR		; Overflow error
3183   07B0             ;------------------------------------------------------------------------------
3184   07B0             ; ADD FPREG AT (HL) TO BCDE
3185   07B0             ;------------------------------------------------------------------------------
3186   07B0             PLUCDE:	LD	A,(HL)		; Get LSB of FPREG
basic2.asm line 3186: Label not found: (PLUCDE)
basic2.asm line 3186: label value misalligned.           (PLUCDE)
basic2.asm line 3186: unrecognized instruction.          (PLUCDE)
3187   07B0             	ADD	A,E		; Add LSB of BCDE
basic2.asm line 3187: unrecognized argument.             (A,E)
3188   07B0             	LD	E,A		; Save LSB of BCDE
basic2.asm line 3188: unrecognized instruction.          (LD)
3189   07B0             	INC	HL
basic2.asm line 3189: unrecognized instruction.          (INC)
3190   07B0             	LD	A,(HL)		; Get NMSB of FPREG
basic2.asm line 3190: unrecognized instruction.          (LD)
3191   07B0             	ADC	A,D		; Add NMSB of BCDE
basic2.asm line 3191: unrecognized argument.             (A,D)
3192   07B0             	LD	D,A		; Save NMSB of BCDE
basic2.asm line 3192: unrecognized instruction.          (LD)
3193   07B0             	INC	HL
basic2.asm line 3193: unrecognized instruction.          (INC)
3194   07B0             	LD	A,(HL)		; Get MSB of FPREG
basic2.asm line 3194: unrecognized instruction.          (LD)
3195   07B0             	ADC	A,C		; Add MSB of BCDE
basic2.asm line 3195: unrecognized argument.             (A,C)
3196   07B0             	LD	C,A		; Save MSB of BCDE
basic2.asm line 3196: unrecognized instruction.          (LD)
3197   07B0 C9          	RET
3198   07B1             ;------------------------------------------------------------------------------
3199   07B1             ; Compliment FP number in BCDE
3200   07B1             ;------------------------------------------------------------------------------
3201   07B1             COMPL:	LD	HL,SGNRES		; Sign of result
basic2.asm line 3201: Label not found: (COMPL)
basic2.asm line 3201: label value misalligned.           (COMPL)
basic2.asm line 3201: unrecognized instruction.          (COMPL)
3202   07B1             	LD	A,(HL)		; Get sign of result
basic2.asm line 3202: unrecognized instruction.          (LD)
3203   07B1             	CPL			; Negate it
basic2.asm line 3203: unrecognized instruction.          (CPL)
3204   07B1             	LD	(HL),A		; Put it back
basic2.asm line 3204: unrecognized instruction.          (LD)
3205   07B1             	XOR	A
basic2.asm line 3205: unrecognized instruction.          (XOR)
3206   07B1             	LD	L,A		; Set L to zero
basic2.asm line 3206: unrecognized instruction.          (LD)
3207   07B1 90          	SUB	B		; Negate exponent,set carry
3208   07B2             	LD	B,A		; Re-save exponent
basic2.asm line 3208: unrecognized instruction.          (LD)
3209   07B2             	LD	A,L		; Load zero
basic2.asm line 3209: unrecognized instruction.          (LD)
3210   07B2             	SBC	A,E		; Negate LSB
basic2.asm line 3210: unrecognized instruction.          (SBC)
3211   07B2             	LD	E,A		; Re-save LSB
basic2.asm line 3211: unrecognized instruction.          (LD)
3212   07B2             	LD	A,L		; Load zero
basic2.asm line 3212: unrecognized instruction.          (LD)
3213   07B2             	SBC	A,D		; Negate NMSB
basic2.asm line 3213: unrecognized instruction.          (SBC)
3214   07B2             	LD	D,A		; Re-save NMSB
basic2.asm line 3214: unrecognized instruction.          (LD)
3215   07B2             	LD	A,L		; Load zero
basic2.asm line 3215: unrecognized instruction.          (LD)
3216   07B2             	SBC	A,C		; Negate MSB
basic2.asm line 3216: unrecognized instruction.          (SBC)
3217   07B2             	LD	C,A		; Re-save MSB
basic2.asm line 3217: unrecognized instruction.          (LD)
3218   07B2 C9          	RET
3219   07B3             ;------------------------------------------------------------------------------
3220   07B3             ; Rescales BCDE 
3221   07B3             ;------------------------------------------------------------------------------
3222   07B3             SCALE:	LD	B,0		; Clear underflow
basic2.asm line 3222: Label not found: (SCALE)
basic2.asm line 3222: label value misalligned.           (SCALE)
basic2.asm line 3222: unrecognized instruction.          (SCALE)
3223   07B3             SCALLP:	SUB	8		; 8 bits (a whole byte)?
basic2.asm line 3223: Label not found: (SCALLP)
basic2.asm line 3223: label value misalligned.           (SCALLP)
basic2.asm line 3223: unrecognized argument.             (SCALLP)
3224   07B3             	JR	C,SHRITE		; No - Shift right A bits
basic2.asm line 3224: unrecognized instruction.          (JR)
3225   07B3             	LD	B,E		; <- Shift
basic2.asm line 3225: unrecognized instruction.          (LD)
3226   07B3             	LD	E,D		; <- right
basic2.asm line 3226: unrecognized instruction.          (LD)
3227   07B3             	LD	D,C		; <- eight
basic2.asm line 3227: unrecognized instruction.          (LD)
3228   07B3             	LD	C,0		; <- bits
basic2.asm line 3228: unrecognized instruction.          (LD)
3229   07B3             	JR	SCALLP		; More bits to shift
basic2.asm line 3229: unrecognized instruction.          (JR)
3230   07B3             
3231   07B3             SHRITE:	ADD	A,8+1		; Adjust count
basic2.asm line 3231: Label not found: (SHRITE)
basic2.asm line 3231: label value misalligned.           (SHRITE)
basic2.asm line 3231: unrecognized argument.             (SHRITE)
3232   07B3             	LD	L,A		; Save bits to shift
basic2.asm line 3232: unrecognized instruction.          (LD)
3233   07B3             SHRLP:	XOR	A		; Flag for all done
basic2.asm line 3233: Label not found: (SHRLP)
basic2.asm line 3233: label value misalligned.           (SHRLP)
basic2.asm line 3233: unrecognized instruction.          (SHRLP)
3234   07B3             	DEC	L		; All shifting done?
basic2.asm line 3234: unrecognized instruction.          (DEC)
3235   07B3             	RET	Z		; Yes - Return
basic2.asm line 3235: unrecognized argument.             (Z)
3236   07B3             	LD	A,C		; Get MSB
basic2.asm line 3236: unrecognized instruction.          (LD)
3237   07B3             SHRT1:	RRA			; Shift it right
basic2.asm line 3237: Label not found: (SHRT1)
basic2.asm line 3237: label value misalligned.           (SHRT1)
basic2.asm line 3237: unrecognized instruction.          (SHRT1)
3238   07B3             	LD	C,A		; Re-save
basic2.asm line 3238: unrecognized instruction.          (LD)
3239   07B3             	LD	A,D		; Get NMSB
basic2.asm line 3239: unrecognized instruction.          (LD)
3240   07B3             	RRA			; Shift right with last bit
basic2.asm line 3240: unrecognized instruction.          (RRA)
3241   07B3             	LD	D,A		; Re-save it
basic2.asm line 3241: unrecognized instruction.          (LD)
3242   07B3             	LD	A,E		; Get LSB
basic2.asm line 3242: unrecognized instruction.          (LD)
3243   07B3             	RRA			; Shift right with last bit
basic2.asm line 3243: unrecognized instruction.          (RRA)
3244   07B3             	LD	E,A		; Re-save it
basic2.asm line 3244: unrecognized instruction.          (LD)
3245   07B3             	LD	A,B		; Get underflow
basic2.asm line 3245: unrecognized instruction.          (LD)
3246   07B3             	RRA			; Shift right with last bit
basic2.asm line 3246: unrecognized instruction.          (RRA)
3247   07B3             	LD	B,A		; Re-save underflow
basic2.asm line 3247: unrecognized instruction.          (LD)
3248   07B3             	JR	SHRLP		; More bits to do
basic2.asm line 3248: unrecognized instruction.          (JR)
3249   07B3             
3250   07B3 00 00 00 81 UNITY:	.BYTE	$00,$00,$00,$81 ; 1.00000
3251   07B7             
3252   07B7 03          LOGTAB:	.BYTE	3		; TABLE USED BY LOG
3253   07B8 AA 56 19 80 	.BYTE	$AA,$56,$19,$80 ; 0.59898
3254   07BC F1 22 76 80 	.BYTE	$F1,$22,$76,$80 ; 0.96147
3255   07C0 45 AA 38 82 	.BYTE	$45,$AA,$38,$82 ; 2.88539
3256   07C4             ;------------------------------------------------------------------------------
3257   07C4             ; LOG
3258   07C4             ;------------------------------------------------------------------------------
basic2.asm line 3259: Label not found: (TSTSGN)
basic2.asm line 3259: Unused data in MS byte of argument. (2)
3259   07C4 CD 00 00    LOG:	CALL	TSTSGN		; Test sign of value
3260   07C7             	OR	A
basic2.asm line 3260: unrecognized instruction.          (OR)
basic2.asm line 3261: Label not found: (PE)
basic2.asm line 3261: Unknown token: (,)
basic2.asm line 3261: Unknown token.    
basic2.asm line 3261: Label not found: (FCERR)
basic2.asm line 3261: Unused data in MS byte of argument. (2)
3261   07C7 F2 00 00    	JP	PE,FCERR		; ?FC Error if <= zero
3262   07CA             	LD	HL,FPEXP		; Point to exponent
basic2.asm line 3262: unrecognized instruction.          (LD)
3263   07CA             	LD	A,(HL)		; Get exponent
basic2.asm line 3263: unrecognized instruction.          (LD)
3264   07CA             	LD	BC,8035H		; BCDE = SQR(1/2)
basic2.asm line 3264: unrecognized instruction.          (LD)
3265   07CA             	LD	DE,04F3H
basic2.asm line 3265: unrecognized instruction.          (LD)
3266   07CA 90          	SUB	B		; Scale value to be < 1
3267   07CB             	PUSH	AF		; Save scale factor
basic2.asm line 3267: unrecognized argument.             (AF)
3268   07CB             	LD	(HL),B		; Save new exponent
basic2.asm line 3268: unrecognized instruction.          (LD)
3269   07CB             	PUSH	DE		; Save SQR(1/2)
basic2.asm line 3269: unrecognized argument.             (DE)
3270   07CB             	PUSH	BC
basic2.asm line 3270: unrecognized argument.             (BC)
basic2.asm line 3271: Label not found: (FPADD)
basic2.asm line 3271: Unused data in MS byte of argument. (2)
3271   07CB CD 00 00    	CALL	FPADD		; Add SQR(1/2) to value
3272   07CE             	POP	BC		; Restore SQR(1/2)
basic2.asm line 3272: unrecognized argument.             (BC)
3273   07CE             	POP	DE
basic2.asm line 3273: unrecognized argument.             (DE)
3274   07CE             	INC	B		; Make it SQR(2)
basic2.asm line 3274: unrecognized instruction.          (INC)
3275   07CE CD EF 07    	CALL	DVBCDE		; Divide by SQR(2)
3276   07D1             	LD	HL,UNITY		; Point to 1.
basic2.asm line 3276: unrecognized instruction.          (LD)
3277   07D1 CD 6D 07    	CALL	SUBPHL		; Subtract FPREG from 1
3278   07D4             	LD	HL,LOGTAB		; Coefficient table
basic2.asm line 3278: unrecognized instruction.          (LD)
3279   07D4 CD 98 09    	CALL	SUMSER		; Evaluate sum of series
3280   07D7             	LD	BC,8080H		; BCDE = -0.5
basic2.asm line 3280: unrecognized instruction.          (LD)
3281   07D7             	LD	DE,0000H
basic2.asm line 3281: unrecognized instruction.          (LD)
basic2.asm line 3282: Label not found: (FPADD)
basic2.asm line 3282: Unused data in MS byte of argument. (2)
3282   07D7 CD 00 00    	CALL	FPADD		; Subtract 0.5 from FPREG
3283   07DA             	POP	AF		; Restore scale factor
basic2.asm line 3283: unrecognized argument.             (AF)
3284   07DA CD AC 08    	CALL	RSCALE		; Re-scale number
3285   07DD             MULLN2:	LD	BC,8031H		; BCDE = Ln(2)
basic2.asm line 3285: Label not found: (MULLN2)
basic2.asm line 3285: label value misalligned.           (MULLN2)
basic2.asm line 3285: unrecognized instruction.          (MULLN2)
3286   07DD             	LD	DE,7218H
basic2.asm line 3286: unrecognized instruction.          (LD)
3287   07DD 21          	.BYTE	21H		; Skip "POP BC" and "POP DE"
3288   07DE             ;------------------------------------------------------------------------------
3289   07DE             ; FLOATING POINT MULTIPLY
3290   07DE             ;------------------------------------------------------------------------------
3291   07DE             MULT:	POP	BC		; Get number from stack
basic2.asm line 3291: Label not found: (MULT)
basic2.asm line 3291: label value misalligned.           (MULT)
basic2.asm line 3291: unrecognized argument.             (MULT)
3292   07DE             	POP	DE
basic2.asm line 3292: unrecognized argument.             (DE)
basic2.asm line 3293: Label not found: (TSTSGN)
basic2.asm line 3293: Unused data in MS byte of argument. (2)
3293   07DE CD 00 00    FPMULT:	CALL	TSTSGN		; Test sign of FPREG
3294   07E1             	RET	Z		; Return zero if zero
basic2.asm line 3294: unrecognized argument.             (Z)
3295   07E1             	LD	L,0		; Flag add exponents
basic2.asm line 3295: unrecognized instruction.          (LD)
basic2.asm line 3296: Label not found: (ADDEXP)
basic2.asm line 3296: Unused data in MS byte of argument. (2)
3296   07E1 CD 00 00    	CALL	ADDEXP		; Add exponents
3297   07E4             	LD	A,C		; Get MSB of multiplier
basic2.asm line 3297: unrecognized instruction.          (LD)
3298   07E4             	LD	(MULVAL),A	; Save MSB of multiplier
basic2.asm line 3298: unrecognized instruction.          (LD)
3299   07E4             	EX	DE,HL
basic2.asm line 3299: unrecognized instruction.          (EX)
3300   07E4             	LD	(MULVAL+1),HL	; Save rest of multiplier
basic2.asm line 3300: unrecognized instruction.          (LD)
3301   07E4             	LD	BC,0		; Partial product (BCDE) = zero
basic2.asm line 3301: unrecognized instruction.          (LD)
3302   07E4             	LD	D,B
basic2.asm line 3302: unrecognized instruction.          (LD)
3303   07E4             	LD	E,B
basic2.asm line 3303: unrecognized instruction.          (LD)
3304   07E4             	LD	HL,BNORM		; Address of normalise
basic2.asm line 3304: unrecognized instruction.          (LD)
3305   07E4             	PUSH	HL		; Save for return
basic2.asm line 3305: unrecognized argument.             (HL)
3306   07E4             	LD	HL,MULT8		; Address of 8 bit multiply
basic2.asm line 3306: unrecognized instruction.          (LD)
3307   07E4             	PUSH	HL		; Save for NMSB,MSB
basic2.asm line 3307: unrecognized argument.             (HL)
3308   07E4             	PUSH	HL		; 
basic2.asm line 3308: unrecognized argument.             (HL)
3309   07E4             	LD	HL,FPREG		; Point to number
basic2.asm line 3309: unrecognized instruction.          (LD)
3310   07E4             MULT8:	LD	A,(HL)		; Get LSB of number
basic2.asm line 3310: Label not found: (MULT8)
basic2.asm line 3310: label value misalligned.           (MULT8)
basic2.asm line 3310: unrecognized instruction.          (MULT8)
3311   07E4             	INC	HL		; Point to NMSB
basic2.asm line 3311: unrecognized instruction.          (INC)
3312   07E4             	OR	A		; Test LSB
basic2.asm line 3312: unrecognized instruction.          (OR)
basic2.asm line 3313: Label not found: (Z)
basic2.asm line 3313: Unknown token: (,)
basic2.asm line 3313: Unknown token.    
basic2.asm line 3313: Label not found: (BYTSFT)
basic2.asm line 3313: Unused data in MS byte of argument. (2)
3313   07E4 F2 00 00    	JP	Z,BYTSFT		; Zero - shift to next byte
3314   07E7             	PUSH	HL		; Save address of number
basic2.asm line 3314: unrecognized argument.             (HL)
3315   07E7             	LD	L,8		; 8 bits to multiply by
basic2.asm line 3315: unrecognized instruction.          (LD)
3316   07E7             MUL8LP:	RRA			; Shift LSB right
basic2.asm line 3316: Label not found: (MUL8LP)
basic2.asm line 3316: label value misalligned.           (MUL8LP)
basic2.asm line 3316: unrecognized instruction.          (MUL8LP)
3317   07E7             	LD	H,A		; Save LSB
basic2.asm line 3317: unrecognized instruction.          (LD)
3318   07E7             	LD	A,C		; Get MSB
basic2.asm line 3318: unrecognized instruction.          (LD)
3319   07E7             	JR	NC,NOMADD		; Bit was zero - Don't add
basic2.asm line 3319: unrecognized instruction.          (JR)
3320   07E7             	PUSH	HL		; Save LSB and count
basic2.asm line 3320: unrecognized argument.             (HL)
3321   07E7             	LD	HL,(MULVAL+1)		; Get LSB and NMSB
basic2.asm line 3321: unrecognized instruction.          (LD)
3322   07E7             	ADD	HL,DE		; Add NMSB and LSB
basic2.asm line 3322: unrecognized argument.             (HL,DE)
3323   07E7             	EX	DE,HL		; Leave sum in DE
basic2.asm line 3323: unrecognized instruction.          (EX)
3324   07E7             	POP	HL		; Restore MSB and count
basic2.asm line 3324: unrecognized argument.             (HL)
3325   07E7             	LD	A,(MULVAL)		; Get MSB of multiplier
basic2.asm line 3325: unrecognized instruction.          (LD)
3326   07E7             	ADC	A,C		; Add MSB
basic2.asm line 3326: unrecognized argument.             (A,C)
3327   07E7             NOMADD:	RRA			; Shift MSB right
basic2.asm line 3327: Label not found: (NOMADD)
basic2.asm line 3327: label value misalligned.           (NOMADD)
basic2.asm line 3327: unrecognized instruction.          (NOMADD)
3328   07E7             	LD	C,A		; Re-save MSB
basic2.asm line 3328: unrecognized instruction.          (LD)
3329   07E7             	LD	A,D		; Get NMSB
basic2.asm line 3329: unrecognized instruction.          (LD)
3330   07E7             	RRA			; Shift NMSB right
basic2.asm line 3330: unrecognized instruction.          (RRA)
3331   07E7             	LD	D,A		; Re-save NMSB
basic2.asm line 3331: unrecognized instruction.          (LD)
3332   07E7             	LD	A,E		; Get LSB
basic2.asm line 3332: unrecognized instruction.          (LD)
3333   07E7             	RRA			; Shift LSB right
basic2.asm line 3333: unrecognized instruction.          (RRA)
3334   07E7             	LD	E,A		; Re-save LSB
basic2.asm line 3334: unrecognized instruction.          (LD)
3335   07E7             	LD	A,B		; Get VLSB
basic2.asm line 3335: unrecognized instruction.          (LD)
3336   07E7             	RRA			; Shift VLSB right
basic2.asm line 3336: unrecognized instruction.          (RRA)
3337   07E7             	LD	B,A		; Re-save VLSB
basic2.asm line 3337: unrecognized instruction.          (LD)
3338   07E7             	DEC	L		; Count bits multiplied
basic2.asm line 3338: unrecognized instruction.          (DEC)
3339   07E7             	LD	A,H		; Get LSB of multiplier
basic2.asm line 3339: unrecognized instruction.          (LD)
3340   07E7             	JR	NZ,MUL8LP		; More - Do it
basic2.asm line 3340: unrecognized instruction.          (JR)
3341   07E7             POPHRT:	POP	HL		; Restore address of number
basic2.asm line 3341: Label not found: (POPHRT)
basic2.asm line 3341: label value misalligned.           (POPHRT)
basic2.asm line 3341: unrecognized argument.             (POPHRT)
3342   07E7 C9          	RET
3343   07E8             
3344   07E8             BYTSFT:	LD	B,E		; Shift partial product left
basic2.asm line 3344: Label not found: (BYTSFT)
basic2.asm line 3344: label value misalligned.           (BYTSFT)
basic2.asm line 3344: unrecognized instruction.          (BYTSFT)
3345   07E8             	LD	E,D
basic2.asm line 3345: unrecognized instruction.          (LD)
3346   07E8             	LD	D,C
basic2.asm line 3346: unrecognized instruction.          (LD)
3347   07E8             	LD	C,A
basic2.asm line 3347: unrecognized instruction.          (LD)
3348   07E8 C9          	RET
3349   07E9             
basic2.asm line 3350: Label not found: (STAKFP)
basic2.asm line 3350: Unused data in MS byte of argument. (2)
3350   07E9 CD 00 00    DIV10:	CALL	STAKFP		; Save FPREG on stack
3351   07EC             	LD	BC,8420H		; BCDE = 10.
basic2.asm line 3351: unrecognized instruction.          (LD)
3352   07EC             	LD	DE,0000H
basic2.asm line 3352: unrecognized instruction.          (LD)
basic2.asm line 3353: Label not found: (FPBCDE)
basic2.asm line 3353: Unused data in MS byte of argument. (2)
3353   07EC CD 00 00    	CALL	FPBCDE		; Move 10 to FPREG
3354   07EF             ;------------------------------------------------------------------------------
3355   07EF             ; Division	FPREG = (last) / FPREG
3356   07EF             ;------------------------------------------------------------------------------
3357   07EF             DIV:	POP	BC		; Get number from stack
basic2.asm line 3357: Label not found: (DIV)
basic2.asm line 3357: label value misalligned.           (DIV)
basic2.asm line 3357: unrecognized argument.             (DIV)
3358   07EF             	POP	DE
basic2.asm line 3358: unrecognized argument.             (DE)
basic2.asm line 3359: Label not found: (TSTSGN)
basic2.asm line 3359: Unused data in MS byte of argument. (2)
3359   07EF CD 00 00    DVBCDE:	CALL	TSTSGN		; Test sign of FPREG
basic2.asm line 3360: Label not found: (Z)
basic2.asm line 3360: Unknown token: (,)
basic2.asm line 3360: Unknown token.    
basic2.asm line 3360: Label not found: (DZERR)
basic2.asm line 3360: Unused data in MS byte of argument. (2)
3360   07F2 F2 00 00    	JP	Z,DZERR		; Error if division by zero
3361   07F5             	LD	L,-1		; Flag subtract exponents
basic2.asm line 3361: unrecognized instruction.          (LD)
basic2.asm line 3362: Label not found: (ADDEXP)
basic2.asm line 3362: Unused data in MS byte of argument. (2)
3362   07F5 CD 00 00    	CALL	ADDEXP		; Subtract exponents
3363   07F8             	INC	(HL)		; Add 2 to exponent to adjust
basic2.asm line 3363: unrecognized instruction.          (INC)
3364   07F8             	INC	(HL)
basic2.asm line 3364: unrecognized instruction.          (INC)
3365   07F8             	DEC	HL		; Point to MSB
basic2.asm line 3365: unrecognized instruction.          (DEC)
3366   07F8             	LD	A,(HL)		; Get MSB of dividend
basic2.asm line 3366: unrecognized instruction.          (LD)
3367   07F8             	LD	(DIV3),A		; Save for subtraction
basic2.asm line 3367: unrecognized instruction.          (LD)
3368   07F8             	DEC	HL
basic2.asm line 3368: unrecognized instruction.          (DEC)
3369   07F8             	LD	A,(HL)		; Get NMSB of dividend
basic2.asm line 3369: unrecognized instruction.          (LD)
3370   07F8             	LD	(DIV2),A		; Save for subtraction
basic2.asm line 3370: unrecognized instruction.          (LD)
3371   07F8             	DEC	HL
basic2.asm line 3371: unrecognized instruction.          (DEC)
3372   07F8             	LD	A,(HL)		; Get MSB of dividend
basic2.asm line 3372: unrecognized instruction.          (LD)
3373   07F8             	LD	(DIV1),A		; Save for subtraction
basic2.asm line 3373: unrecognized instruction.          (LD)
3374   07F8             	LD	B,C		; Get MSB
basic2.asm line 3374: unrecognized instruction.          (LD)
3375   07F8             	EX	DE,HL		; NMSB,LSB to HL
basic2.asm line 3375: unrecognized instruction.          (EX)
3376   07F8             	XOR	A
basic2.asm line 3376: unrecognized instruction.          (XOR)
3377   07F8             	LD	C,A		; Clear MSB of quotient
basic2.asm line 3377: unrecognized instruction.          (LD)
3378   07F8             	LD	D,A		; Clear NMSB of quotient
basic2.asm line 3378: unrecognized instruction.          (LD)
3379   07F8             	LD	E,A		; Clear LSB of quotient
basic2.asm line 3379: unrecognized instruction.          (LD)
3380   07F8             	LD	(DIV4),A		; Clear overflow count
basic2.asm line 3380: unrecognized instruction.          (LD)
3381   07F8             DIVLP:	PUSH	HL		; Save divisor
basic2.asm line 3381: Label not found: (DIVLP)
basic2.asm line 3381: label value misalligned.           (DIVLP)
basic2.asm line 3381: unrecognized argument.             (DIVLP)
3382   07F8             	PUSH	BC
basic2.asm line 3382: unrecognized argument.             (BC)
3383   07F8             	LD	A,L		; Get LSB of number
basic2.asm line 3383: unrecognized instruction.          (LD)
3384   07F8 CD 29 31    	CALL	DIVSUP		; Subt' divisor from dividend
3385   07FB             	SBC	A,0		; Count for overflows
basic2.asm line 3385: unrecognized instruction.          (SBC)
3386   07FB             	CCF
basic2.asm line 3386: unrecognized instruction.          (CCF)
3387   07FB             	JR	NC,RESDIV		; Restore divisor if borrow
basic2.asm line 3387: unrecognized instruction.          (JR)
3388   07FB             	LD	(DIV4),A		; Re-save overflow count
basic2.asm line 3388: unrecognized instruction.          (LD)
3389   07FB             	POP	AF		; Scrap divisor
basic2.asm line 3389: unrecognized argument.             (AF)
3390   07FB             	POP	AF
basic2.asm line 3390: unrecognized argument.             (AF)
3391   07FB             	SCF			; Set carry to
basic2.asm line 3391: unrecognized instruction.          (SCF)
3392   07FB D2          	.BYTE	0D2H		; Skip "POP BC" and "POP HL"
3393   07FC             
3394   07FC             RESDIV:	POP	BC		; Restore divisor
basic2.asm line 3394: Label not found: (RESDIV)
basic2.asm line 3394: label value misalligned.           (RESDIV)
basic2.asm line 3394: unrecognized argument.             (RESDIV)
3395   07FC             	POP	HL
basic2.asm line 3395: unrecognized argument.             (HL)
3396   07FC             	LD	A,C		; Get MSB of quotient
basic2.asm line 3396: unrecognized instruction.          (LD)
3397   07FC             	INC	A
basic2.asm line 3397: unrecognized instruction.          (INC)
3398   07FC             	DEC	A
basic2.asm line 3398: unrecognized instruction.          (DEC)
3399   07FC             	RRA			; Bit 0 to bit 7
basic2.asm line 3399: unrecognized instruction.          (RRA)
basic2.asm line 3400: Label not found: (M)
basic2.asm line 3400: Unknown token: (,)
basic2.asm line 3400: Unknown token.    
basic2.asm line 3400: Label not found: (RONDB)
basic2.asm line 3400: Unused data in MS byte of argument. (2)
3400   07FC F2 00 00    	JP	M,RONDB		; Done - Normalise result
3401   07FF             	RLA			; Restore carry
basic2.asm line 3401: unrecognized instruction.          (RLA)
3402   07FF             	LD	A,E		; Get LSB of quotient
basic2.asm line 3402: unrecognized instruction.          (LD)
3403   07FF             	RLA			; Double it
basic2.asm line 3403: unrecognized instruction.          (RLA)
3404   07FF             	LD	E,A		; Put it back
basic2.asm line 3404: unrecognized instruction.          (LD)
3405   07FF             	LD	A,D		; Get NMSB of quotient
basic2.asm line 3405: unrecognized instruction.          (LD)
3406   07FF             	RLA			; Double it
basic2.asm line 3406: unrecognized instruction.          (RLA)
3407   07FF             	LD	D,A		; Put it back
basic2.asm line 3407: unrecognized instruction.          (LD)
3408   07FF             	LD	A,C		; Get MSB of quotient
basic2.asm line 3408: unrecognized instruction.          (LD)
3409   07FF             	RLA			; Double it
basic2.asm line 3409: unrecognized instruction.          (RLA)
3410   07FF             	LD	C,A		; Put it back
basic2.asm line 3410: unrecognized instruction.          (LD)
3411   07FF             	ADD	HL,HL		; Double NMSB,LSB of divisor
basic2.asm line 3411: unrecognized argument.             (HL,HL)
3412   07FF             	LD	A,B		; Get MSB of divisor
basic2.asm line 3412: unrecognized instruction.          (LD)
3413   07FF             	RLA			; Double it
basic2.asm line 3413: unrecognized instruction.          (RLA)
3414   07FF             	LD	B,A		; Put it back
basic2.asm line 3414: unrecognized instruction.          (LD)
3415   07FF             	LD	A,(DIV4)		; Get VLSB of quotient
basic2.asm line 3415: unrecognized instruction.          (LD)
3416   07FF             	RLA			; Double it
basic2.asm line 3416: unrecognized instruction.          (RLA)
3417   07FF             	LD	(DIV4),A		; Put it back
basic2.asm line 3417: unrecognized instruction.          (LD)
3418   07FF             	LD	A,C		; Get MSB of quotient
basic2.asm line 3418: unrecognized instruction.          (LD)
3419   07FF             	OR	D		; Merge NMSB
basic2.asm line 3419: unrecognized instruction.          (OR)
3420   07FF             	OR	E		; Merge LSB
basic2.asm line 3420: unrecognized instruction.          (OR)
basic2.asm line 3421: Label not found: (NZ)
basic2.asm line 3421: Unknown token: (,)
basic2.asm line 3421: Unknown token.    
basic2.asm line 3421: Label not found: (DIVLP)
basic2.asm line 3421: Unused data in MS byte of argument. (2)
3421   07FF F2 00 00    	JP	NZ,DIVLP		; Not done - Keep dividing
3422   0802             	PUSH	HL		; Save divisor
basic2.asm line 3422: unrecognized argument.             (HL)
3423   0802             	LD	HL,FPEXP		; Point to exponent
basic2.asm line 3423: unrecognized instruction.          (LD)
3424   0802             	DEC	(HL)		; Divide by 2
basic2.asm line 3424: unrecognized instruction.          (DEC)
3425   0802             	POP	HL		; Restore divisor
basic2.asm line 3425: unrecognized argument.             (HL)
basic2.asm line 3426: Label not found: (NZ)
basic2.asm line 3426: Unknown token: (,)
basic2.asm line 3426: Unknown token.    
basic2.asm line 3426: Label not found: (DIVLP)
basic2.asm line 3426: Unused data in MS byte of argument. (2)
3426   0802 F2 00 00    	JP	NZ,DIVLP		; Ok - Keep going
basic2.asm line 3427: Label not found: (OVERR)
basic2.asm line 3427: Unused data in MS byte of argument. (2)
3427   0805 F2 00 00    	JP	OVERR		; Overflow error
3428   0808             
3429   0808             ADDEXP:	LD	A,B		; Get exponent of dividend
basic2.asm line 3429: Label not found: (ADDEXP)
basic2.asm line 3429: label value misalligned.           (ADDEXP)
basic2.asm line 3429: unrecognized instruction.          (ADDEXP)
3430   0808             	OR	A		; Test it
basic2.asm line 3430: unrecognized instruction.          (OR)
3431   0808             	JR	Z,OVTST3		; Zero - Result zero
basic2.asm line 3431: unrecognized instruction.          (JR)
3432   0808             	LD	A,L		; Get add/subtract flag
basic2.asm line 3432: unrecognized instruction.          (LD)
3433   0808             	LD	HL,FPEXP		; Point to exponent
basic2.asm line 3433: unrecognized instruction.          (LD)
3434   0808             	XOR	(HL)		; Add or subtract it
basic2.asm line 3434: unrecognized instruction.          (XOR)
3435   0808             	ADD	A,B		; Add the other exponent
basic2.asm line 3435: unrecognized argument.             (A,B)
3436   0808             	LD	B,A		; Save new exponent
basic2.asm line 3436: unrecognized instruction.          (LD)
3437   0808             	RRA			; Test exponent for overflow
basic2.asm line 3437: unrecognized instruction.          (RRA)
3438   0808             	XOR	B
basic2.asm line 3438: unrecognized instruction.          (XOR)
3439   0808             	LD	A,B		; Get exponent
basic2.asm line 3439: unrecognized instruction.          (LD)
basic2.asm line 3440: Label not found: (P)
basic2.asm line 3440: Unknown token: (,)
basic2.asm line 3440: Unknown token.    
basic2.asm line 3440: Label not found: (OVTST2)
basic2.asm line 3440: Unused data in MS byte of argument. (2)
3440   0808 F2 00 00    	JP	P,OVTST2		; Positive - Test for overflow
3441   080B             	ADD	A,80H		; Add excess 128
basic2.asm line 3441: unrecognized argument.             (A,80H)
3442   080B             	LD	(HL),A		; Save new exponent
basic2.asm line 3442: unrecognized instruction.          (LD)
basic2.asm line 3443: Label not found: (Z)
basic2.asm line 3443: Unknown token: (,)
basic2.asm line 3443: Unknown token.    
basic2.asm line 3443: Label not found: (POPHRT)
basic2.asm line 3443: Unused data in MS byte of argument. (2)
3443   080B F2 00 00    	JP	Z,POPHRT		; Zero - Result zero
basic2.asm line 3444: Label not found: (SIGNS)
basic2.asm line 3444: Unused data in MS byte of argument. (2)
3444   080E CD 00 00    	CALL	SIGNS		; Set MSBs and sign of result
3445   0811             	LD	(HL),A		; Save new exponent
basic2.asm line 3445: unrecognized instruction.          (LD)
3446   0811             	DEC	HL		; Point to MSB
basic2.asm line 3446: unrecognized instruction.          (DEC)
3447   0811 C9          	RET
3448   0812             
basic2.asm line 3449: Label not found: (TSTSGN)
basic2.asm line 3449: Unused data in MS byte of argument. (2)
3449   0812 CD 00 00    OVTST1:	CALL	TSTSGN		; Test sign of FPREG
3450   0815             	CPL			; Invert sign
basic2.asm line 3450: unrecognized instruction.          (CPL)
3451   0815             	POP	HL		; Clean up stack
basic2.asm line 3451: unrecognized argument.             (HL)
3452   0815             OVTST2:	OR	A		; Test if new exponent zero
basic2.asm line 3452: Label not found: (OVTST2)
basic2.asm line 3452: label value misalligned.           (OVTST2)
basic2.asm line 3452: unrecognized instruction.          (OVTST2)
3453   0815             OVTST3:	POP	HL		; Clear off return address
basic2.asm line 3453: Label not found: (OVTST3)
basic2.asm line 3453: label value misalligned.           (OVTST3)
basic2.asm line 3453: unrecognized argument.             (OVTST3)
basic2.asm line 3454: Label not found: (P)
basic2.asm line 3454: Unknown token: (,)
basic2.asm line 3454: Unknown token.    
basic2.asm line 3454: Label not found: (RESZER)
basic2.asm line 3454: Unused data in MS byte of argument. (2)
3454   0815 F2 00 00    	JP	P,RESZER		; Result zero
basic2.asm line 3455: Label not found: (OVERR)
basic2.asm line 3455: Unused data in MS byte of argument. (2)
3455   0818 F2 00 00    	JP	OVERR		; Overflow error
3456   081B             
basic2.asm line 3457: Label not found: (BCDEFP)
basic2.asm line 3457: Unused data in MS byte of argument. (2)
3457   081B CD 00 00    MLSP10:	CALL	BCDEFP		; Move FPREG to BCDE
3458   081E             	LD	A,B		; Get exponent
basic2.asm line 3458: unrecognized instruction.          (LD)
3459   081E             	OR	A		; Is it zero?
basic2.asm line 3459: unrecognized instruction.          (OR)
3460   081E             	RET	Z		; Yes - Result is zero
basic2.asm line 3460: unrecognized argument.             (Z)
3461   081E             	ADD	A,2		; Multiply by 4
basic2.asm line 3461: unrecognized argument.             (A,2)
basic2.asm line 3462: Label not found: (C)
basic2.asm line 3462: Unknown token: (,)
basic2.asm line 3462: Unknown token.    
basic2.asm line 3462: Label not found: (OVERR)
basic2.asm line 3462: Unused data in MS byte of argument. (2)
3462   081E F2 00 00    	JP	C,OVERR		; Overflow - ?OV Error
3463   0821             	LD	B,A		; Re-save exponent
basic2.asm line 3463: unrecognized instruction.          (LD)
basic2.asm line 3464: Label not found: (FPADD)
basic2.asm line 3464: Unused data in MS byte of argument. (2)
3464   0821 CD 00 00    	CALL	FPADD		; Add BCDE to FPREG (Times 5)
3465   0824             	LD	HL,FPEXP		; Point to exponent
basic2.asm line 3465: unrecognized instruction.          (LD)
3466   0824             	INC	(HL)		; Double number (Times 10)
basic2.asm line 3466: unrecognized instruction.          (INC)
3467   0824             	RET	NZ		; Ok - Return
basic2.asm line 3467: unrecognized argument.             (NZ)
basic2.asm line 3468: Label not found: (OVERR)
basic2.asm line 3468: Unused data in MS byte of argument. (2)
3468   0824 F2 00 00    	JP	OVERR		; Overflow error
3469   0827             
3470   0827             TSTSGN:	LD	A,(FPEXP)		; Get sign of FPREG
basic2.asm line 3470: Label not found: (TSTSGN)
basic2.asm line 3470: label value misalligned.           (TSTSGN)
basic2.asm line 3470: unrecognized instruction.          (TSTSGN)
3471   0827             	OR	A
basic2.asm line 3471: unrecognized instruction.          (OR)
3472   0827             	RET	Z		; RETurn if number is zero
basic2.asm line 3472: unrecognized argument.             (Z)
3473   0827             	LD	A,(FPREG+2)		; Get MSB of FPREG
basic2.asm line 3473: unrecognized instruction.          (LD)
3474   0827 FE          	.BYTE	0FEH		; Test sign = CP next byte
3475   0828             RETREL:	CPL			; Invert sign, compiles as 02FH
basic2.asm line 3475: Label not found: (RETREL)
basic2.asm line 3475: label value misalligned.           (RETREL)
basic2.asm line 3475: unrecognized instruction.          (RETREL)
3476   0828             	RLA			; Sign bit to carry
basic2.asm line 3476: unrecognized instruction.          (RLA)
3477   0828             FLGDIF:	SBC	A,A		; Carry to all bits of A
basic2.asm line 3477: Label not found: (FLGDIF)
basic2.asm line 3477: label value misalligned.           (FLGDIF)
basic2.asm line 3477: unrecognized instruction.          (FLGDIF)
3478   0828             	RET	NZ		; Return -1 if negative
basic2.asm line 3478: unrecognized argument.             (NZ)
3479   0828             	INC	A		; Bump to +1
basic2.asm line 3479: unrecognized instruction.          (INC)
3480   0828 C9          	RET			; Positive - Return +1
3481   0829             ;------------------------------------------------------------------------------
3482   0829             ; SGN
3483   0829             ;------------------------------------------------------------------------------
basic2.asm line 3484: Label not found: (TSTSGN)
basic2.asm line 3484: Unused data in MS byte of argument. (2)
3484   0829 CD 00 00    SGN:	CALL	TSTSGN		; Test sign of FPREG
3485   082C             FLGREL:	LD	B,80H+8		; 8 bit integer in exponent
basic2.asm line 3485: Label not found: (FLGREL)
basic2.asm line 3485: label value misalligned.           (FLGREL)
basic2.asm line 3485: unrecognized instruction.          (FLGREL)
3486   082C             	LD	DE,0		; Zero NMSB and LSB
basic2.asm line 3486: unrecognized instruction.          (LD)
3487   082C             RETINT:	LD	HL,FPEXP		; Point to exponent
basic2.asm line 3487: Label not found: (RETINT)
basic2.asm line 3487: label value misalligned.           (RETINT)
basic2.asm line 3487: unrecognized instruction.          (RETINT)
3488   082C             	LD	C,A		; CDE = MSB,NMSB and LSB
basic2.asm line 3488: unrecognized instruction.          (LD)
3489   082C             	LD	(HL),B		; Save exponent
basic2.asm line 3489: unrecognized instruction.          (LD)
3490   082C             	LD	B,0		; CDE = integer to normalise
basic2.asm line 3490: unrecognized instruction.          (LD)
3491   082C             	INC	HL		; Point to sign of result
basic2.asm line 3491: unrecognized instruction.          (INC)
3492   082C             	LD	(HL),80H		; Set sign of result
basic2.asm line 3492: unrecognized instruction.          (LD)
3493   082C             	RLA			; Carry = sign of integer
basic2.asm line 3493: unrecognized instruction.          (RLA)
3494   082C F2 9A 07    	JP	CONPOS		; Set sign of result
3495   082F             ;------------------------------------------------------------------------------
3496   082F             ; ABS
3497   082F             ;------------------------------------------------------------------------------
basic2.asm line 3498: Label not found: (TSTSGN)
basic2.asm line 3498: Unused data in MS byte of argument. (2)
3498   082F CD 00 00    ABS:	CALL	TSTSGN		; Test sign of FPREG
3499   0832             	RET	P		; Return if positive
basic2.asm line 3499: unrecognized argument.             (P)
3500   0832             INVSGN:	LD	HL,FPREG+2	; Point to MSB
basic2.asm line 3500: Label not found: (INVSGN)
basic2.asm line 3500: label value misalligned.           (INVSGN)
basic2.asm line 3500: unrecognized instruction.          (INVSGN)
3501   0832             	LD	A,(HL)		; Get sign of mantissa
basic2.asm line 3501: unrecognized instruction.          (LD)
3502   0832             	XOR	80H		; Invert sign of mantissa
basic2.asm line 3502: unrecognized instruction.          (XOR)
3503   0832             	LD	(HL),A		; Re-save sign of mantissa
basic2.asm line 3503: unrecognized instruction.          (LD)
3504   0832 C9          	RET
3505   0833             ;------------------------------------------------------------------------------
3506   0833             ; Saves FPREG to stack
3507   0833             ;------------------------------------------------------------------------------
3508   0833             STAKFP:	EX	DE,HL		; Save code string address
basic2.asm line 3508: Label not found: (STAKFP)
basic2.asm line 3508: label value misalligned.           (STAKFP)
basic2.asm line 3508: unrecognized instruction.          (STAKFP)
3509   0833             	LD	HL,(FPREG)	; LSB,NLSB of FPREG
basic2.asm line 3509: unrecognized instruction.          (LD)
3510   0833             	EX	(SP),HL		; Stack them,get return
basic2.asm line 3510: unrecognized instruction.          (EX)
3511   0833             	PUSH	HL		; Re-save return
basic2.asm line 3511: unrecognized argument.             (HL)
3512   0833             	LD	HL,(FPREG+2)	; MSB and exponent of FPREG
basic2.asm line 3512: unrecognized instruction.          (LD)
3513   0833             	EX	(SP),HL		; Stack them,get return
basic2.asm line 3513: unrecognized instruction.          (EX)
3514   0833             	PUSH	HL		; Re-save return
basic2.asm line 3514: unrecognized argument.             (HL)
3515   0833             	EX	DE,HL		; Restore code string address
basic2.asm line 3515: unrecognized instruction.          (EX)
3516   0833 C9          	RET
3517   0834             ;------------------------------------------------------------------------------
3518   0834             ; Loads BCDE to FPREG
3519   0834             ;------------------------------------------------------------------------------
basic2.asm line 3520: Label not found: (LOADFP)
basic2.asm line 3520: Unused data in MS byte of argument. (2)
3520   0834 CD 00 00    PHLTFP:	CALL	LOADFP		; Number at HL to BCDE
3521   0837             FPBCDE:	EX	DE,HL		; Save code string address
basic2.asm line 3521: Label not found: (FPBCDE)
basic2.asm line 3521: label value misalligned.           (FPBCDE)
basic2.asm line 3521: unrecognized instruction.          (FPBCDE)
3522   0837             	LD	(FPREG),HL	; Save LSB,NLSB of number
basic2.asm line 3522: unrecognized instruction.          (LD)
3523   0837             	LD	H,B		; Exponent of number
basic2.asm line 3523: unrecognized instruction.          (LD)
3524   0837             	LD	L,C		; MSB of number
basic2.asm line 3524: unrecognized instruction.          (LD)
3525   0837             	LD	(FPREG+2),HL	; Save MSB and exponent
basic2.asm line 3525: unrecognized instruction.          (LD)
3526   0837             	EX	DE,HL		; Restore code string address
basic2.asm line 3526: unrecognized instruction.          (EX)
3527   0837 C9          	RET
3528   0838             ;------------------------------------------------------------------------------
3529   0838             ; Loads BCDE from FPREG
3530   0838             ;------------------------------------------------------------------------------
3531   0838             BCDEFP:	LD	HL,FPREG		; Point to FPREG
basic2.asm line 3531: Label not found: (BCDEFP)
basic2.asm line 3531: label value misalligned.           (BCDEFP)
basic2.asm line 3531: unrecognized instruction.          (BCDEFP)
3532   0838             LOADFP:	LD	E,(HL)		; Get LSB of number
basic2.asm line 3532: Label not found: (LOADFP)
basic2.asm line 3532: label value misalligned.           (LOADFP)
basic2.asm line 3532: unrecognized instruction.          (LOADFP)
3533   0838             	INC	HL
basic2.asm line 3533: unrecognized instruction.          (INC)
3534   0838             	LD	D,(HL)		; Get NMSB of number
basic2.asm line 3534: unrecognized instruction.          (LD)
3535   0838             	INC	HL
basic2.asm line 3535: unrecognized instruction.          (INC)
3536   0838             	LD	C,(HL)		; Get MSB of number
basic2.asm line 3536: unrecognized instruction.          (LD)
3537   0838             	INC	HL
basic2.asm line 3537: unrecognized instruction.          (INC)
3538   0838             	LD	B,(HL)		; Get exponent of number
basic2.asm line 3538: unrecognized instruction.          (LD)
3539   0838             INCHL:	INC	HL		; Used for conditional "INC HL"
basic2.asm line 3539: Label not found: (INCHL)
basic2.asm line 3539: label value misalligned.           (INCHL)
basic2.asm line 3539: unrecognized instruction.          (INCHL)
3540   0838 C9          	RET
3541   0839             ;------------------------------------------------------------------------------
3542   0839             ; Moves FPREG to (HL)
3543   0839             ;------------------------------------------------------------------------------
3544   0839             FPTHL:	LD	DE,FPREG		; Point to FPREG
basic2.asm line 3544: Label not found: (FPTHL)
basic2.asm line 3544: label value misalligned.           (FPTHL)
basic2.asm line 3544: unrecognized instruction.          (FPTHL)
3545   0839             DETHL4:	LD	B,4		; 4 bytes to move
basic2.asm line 3545: Label not found: (DETHL4)
basic2.asm line 3545: label value misalligned.           (DETHL4)
basic2.asm line 3545: unrecognized instruction.          (DETHL4)
3546   0839             DETHLB:	LD	A,(DE)		; Get source
basic2.asm line 3546: Label not found: (DETHLB)
basic2.asm line 3546: label value misalligned.           (DETHLB)
basic2.asm line 3546: unrecognized instruction.          (DETHLB)
3547   0839             	LD	(HL),A		; Save destination
basic2.asm line 3547: unrecognized instruction.          (LD)
3548   0839             	INC	DE		; Next source
basic2.asm line 3548: unrecognized instruction.          (INC)
3549   0839             	INC	HL		; Next destination
basic2.asm line 3549: unrecognized instruction.          (INC)
3550   0839             	DEC	B		; Count bytes
basic2.asm line 3550: unrecognized instruction.          (DEC)
3551   0839             	JR	NZ,DETHLB		; Loop if more
basic2.asm line 3551: unrecognized instruction.          (JR)
3552   0839 C9          	RET
3553   083A             ;------------------------------------------------------------------------------
3554   083A             SIGNS:	LD	HL,FPREG+2	; Point to MSB of FPREG
basic2.asm line 3554: Label not found: (SIGNS)
basic2.asm line 3554: label value misalligned.           (SIGNS)
basic2.asm line 3554: unrecognized instruction.          (SIGNS)
3555   083A             	LD	A,(HL)		; Get MSB
basic2.asm line 3555: unrecognized instruction.          (LD)
3556   083A             	RLCA			; Old sign to carry
basic2.asm line 3556: unrecognized instruction.          (RLCA)
3557   083A             	SCF			; Set MSBit
basic2.asm line 3557: unrecognized instruction.          (SCF)
3558   083A             	RRA			; Set MSBit of MSB
basic2.asm line 3558: unrecognized instruction.          (RRA)
3559   083A             	LD	(HL),A		; Save new MSB
basic2.asm line 3559: unrecognized instruction.          (LD)
3560   083A             	CCF			; Complement sign
basic2.asm line 3560: unrecognized instruction.          (CCF)
3561   083A             	RRA			; Old sign to carry
basic2.asm line 3561: unrecognized instruction.          (RRA)
3562   083A             	INC	HL
basic2.asm line 3562: unrecognized instruction.          (INC)
3563   083A             	INC	HL
basic2.asm line 3563: unrecognized instruction.          (INC)
3564   083A             	LD	(HL),A		; Set sign of result
basic2.asm line 3564: unrecognized instruction.          (LD)
3565   083A             	LD	A,C		; Get MSB
basic2.asm line 3565: unrecognized instruction.          (LD)
3566   083A             	RLCA			; Old sign to carry
basic2.asm line 3566: unrecognized instruction.          (RLCA)
3567   083A             	SCF			; Set MSBit
basic2.asm line 3567: unrecognized instruction.          (SCF)
3568   083A             	RRA			; Set MSBit of MSB
basic2.asm line 3568: unrecognized instruction.          (RRA)
3569   083A             	LD	C,A		; Save MSB
basic2.asm line 3569: unrecognized instruction.          (LD)
3570   083A             	RRA
basic2.asm line 3570: unrecognized instruction.          (RRA)
3571   083A             	XOR	(HL)		; New sign of result
basic2.asm line 3571: unrecognized instruction.          (XOR)
3572   083A C9          	RET
3573   083B             ;------------------------------------------------------------------------------
3574   083B             ; Compare two FP numbers BCDE and FPREG with exponents
3575   083B             ;------------------------------------------------------------------------------
3576   083B             CMPNUM:	LD	A,B		; Get exponent of number
basic2.asm line 3576: Label not found: (CMPNUM)
basic2.asm line 3576: label value misalligned.           (CMPNUM)
basic2.asm line 3576: unrecognized instruction.          (CMPNUM)
3577   083B             	OR	A
basic2.asm line 3577: unrecognized instruction.          (OR)
basic2.asm line 3578: Label not found: (Z)
basic2.asm line 3578: Unknown token: (,)
basic2.asm line 3578: Unknown token.    
basic2.asm line 3578: Label not found: (TSTSGN)
basic2.asm line 3578: Unused data in MS byte of argument. (2)
3578   083B F2 00 00    	JP	Z,TSTSGN		; Zero - Test sign of FPREG
3579   083E             	LD	HL,RETREL		; Return relation routine
basic2.asm line 3579: unrecognized instruction.          (LD)
3580   083E             	PUSH	HL		; Save for return
basic2.asm line 3580: unrecognized argument.             (HL)
basic2.asm line 3581: Label not found: (TSTSGN)
basic2.asm line 3581: Unused data in MS byte of argument. (2)
3581   083E CD 00 00    	CALL	TSTSGN		; Test sign of FPREG
3582   0841             	LD	A,C		; Get MSB of number
basic2.asm line 3582: unrecognized instruction.          (LD)
3583   0841             	RET	Z		; FPREG zero - Number's MSB
basic2.asm line 3583: unrecognized argument.             (Z)
3584   0841             	LD	HL,FPREG+2		; MSB of FPREG
basic2.asm line 3584: unrecognized instruction.          (LD)
3585   0841             	XOR	(HL)		; Combine signs
basic2.asm line 3585: unrecognized instruction.          (XOR)
3586   0841             	LD	A,C		; Get MSB of number
basic2.asm line 3586: unrecognized instruction.          (LD)
3587   0841             	RET	M		; Exit if signs different
basic2.asm line 3587: unrecognized argument.             (M)
basic2.asm line 3588: Label not found: (CMPFP)
basic2.asm line 3588: Unused data in MS byte of argument. (2)
3588   0841 CD 00 00    	CALL	CMPFP		; Compare FP numbers
3589   0844             	RRA			; Get carry to sign
basic2.asm line 3589: unrecognized instruction.          (RRA)
3590   0844             	XOR	C		; Combine with MSB of number
basic2.asm line 3590: unrecognized instruction.          (XOR)
3591   0844 C9          	RET
3592   0845             ;------------------------------------------------------------------------------
3593   0845             ; Compare BCDE - FPREG, setting Z flag if =
3594   0845             ;------------------------------------------------------------------------------
3595   0845             CMPFP:	INC	HL		; Point to exponent
basic2.asm line 3595: Label not found: (CMPFP)
basic2.asm line 3595: label value misalligned.           (CMPFP)
basic2.asm line 3595: unrecognized instruction.          (CMPFP)
3596   0845             	LD	A,B		; Get exponent
basic2.asm line 3596: unrecognized instruction.          (LD)
basic2.asm line 3597: Label not found: (HL)
basic2.asm line 3597: Unused data in MS byte of argument. (2)
3597   0845 F4 00 00    	CP	(HL)		; Compare exponents
3598   0848             	RET	NZ		; Different
basic2.asm line 3598: unrecognized argument.             (NZ)
3599   0848             	DEC	HL		; Point to MBS
basic2.asm line 3599: unrecognized instruction.          (DEC)
3600   0848             	LD	A,C		; Get MSB
basic2.asm line 3600: unrecognized instruction.          (LD)
basic2.asm line 3601: Label not found: (HL)
basic2.asm line 3601: Unused data in MS byte of argument. (2)
3601   0848 F4 00 00    	CP	(HL)		; Compare MSBs
3602   084B             	RET	NZ		; Different
basic2.asm line 3602: unrecognized argument.             (NZ)
3603   084B             	DEC	HL		; Point to NMSB
basic2.asm line 3603: unrecognized instruction.          (DEC)
3604   084B             	LD	A,D		; Get NMSB
basic2.asm line 3604: unrecognized instruction.          (LD)
basic2.asm line 3605: Label not found: (HL)
basic2.asm line 3605: Unused data in MS byte of argument. (2)
3605   084B F4 00 00    	CP	(HL)		; Compare NMSBs
3606   084E             	RET	NZ		; Different
basic2.asm line 3606: unrecognized argument.             (NZ)
3607   084E             	DEC	HL		; Point to LSB
basic2.asm line 3607: unrecognized instruction.          (DEC)
3608   084E             	LD	A,E		; Get LSB
basic2.asm line 3608: unrecognized instruction.          (LD)
3609   084E             	SUB	(HL)		; Compare LSBs
basic2.asm line 3609: unrecognized argument.             ((HL))
3610   084E             	RET	NZ		; Different
basic2.asm line 3610: unrecognized argument.             (NZ)
3611   084E             	POP	HL		; Drop RETurn
basic2.asm line 3611: unrecognized argument.             (HL)
3612   084E             	POP	HL		; Drop another RETurn
basic2.asm line 3612: unrecognized argument.             (HL)
3613   084E C9          	RET
3614   084F             ;------------------------------------------------------------------------------
3615   084F             ; Convert FPREG to FPREG 24 Bit Integer format
3616   084F             ;------------------------------------------------------------------------------
3617   084F             FPINT:	LD	B,A		; <- Move
basic2.asm line 3617: Label not found: (FPINT)
basic2.asm line 3617: label value misalligned.           (FPINT)
basic2.asm line 3617: unrecognized instruction.          (FPINT)
3618   084F             	LD	C,A		; <- exponent
basic2.asm line 3618: unrecognized instruction.          (LD)
3619   084F             	LD	D,A		; <- to all
basic2.asm line 3619: unrecognized instruction.          (LD)
3620   084F             	LD	E,A		; <- bits
basic2.asm line 3620: unrecognized instruction.          (LD)
3621   084F             	OR	A		; Test exponent
basic2.asm line 3621: unrecognized instruction.          (OR)
3622   084F             	RET	Z		; Zero - Return zero
basic2.asm line 3622: unrecognized argument.             (Z)
3623   084F             	PUSH	HL		; Save pointer to number
basic2.asm line 3623: unrecognized argument.             (HL)
basic2.asm line 3624: Label not found: (BCDEFP)
basic2.asm line 3624: Unused data in MS byte of argument. (2)
3624   084F CD 00 00    	CALL	BCDEFP		; Move FPREG to BCDE
basic2.asm line 3625: Label not found: (SIGNS)
basic2.asm line 3625: Unused data in MS byte of argument. (2)
3625   0852 CD 00 00    	CALL	SIGNS		; Set MSBs & sign of result
3626   0855             	XOR	(HL)		; Combine with sign of FPREG
basic2.asm line 3626: unrecognized instruction.          (XOR)
3627   0855             	LD	H,A		; Save combined signs
basic2.asm line 3627: unrecognized instruction.          (LD)
basic2.asm line 3628: Label not found: (M)
basic2.asm line 3628: Unknown token: (,)
basic2.asm line 3628: Unknown token.    
basic2.asm line 3628: Label not found: (DCBCDE)
basic2.asm line 3628: Unused data in MS byte of argument. (2)
3628   0855 CD 00 00    	CALL	M,DCBCDE		; Negative - Decrement BCDE
3629   0858             	LD	A,80H+24		; 24 bits
basic2.asm line 3629: unrecognized instruction.          (LD)
3630   0858 90          	SUB	B		; Bits to shift
basic2.asm line 3631: Label not found: (SCALE)
basic2.asm line 3631: Unused data in MS byte of argument. (2)
3631   0859 CD 00 00    	CALL	SCALE		; Shift BCDE
3632   085C             	LD	A,H		; Get combined sign
basic2.asm line 3632: unrecognized instruction.          (LD)
3633   085C             	RLA			; Sign to carry
basic2.asm line 3633: unrecognized instruction.          (RLA)
basic2.asm line 3634: Label not found: (C)
basic2.asm line 3634: Unknown token: (,)
basic2.asm line 3634: Unknown token.    
basic2.asm line 3634: Label not found: (FPROND)
basic2.asm line 3634: Unused data in MS byte of argument. (2)
3634   085C CD 00 00    	CALL	C,FPROND		; Negative - Round number up
3635   085F             	LD	B,0		; Zero exponent
basic2.asm line 3635: unrecognized instruction.          (LD)
basic2.asm line 3636: Label not found: (C)
basic2.asm line 3636: Unknown token: (,)
basic2.asm line 3636: Unknown token.    
basic2.asm line 3636: Label not found: (COMPL)
basic2.asm line 3636: Unused data in MS byte of argument. (2)
3636   085F CD 00 00    	CALL	C,COMPL		; If negative make positive
3637   0862             	POP	HL		; Restore pointer to number
basic2.asm line 3637: unrecognized argument.             (HL)
3638   0862 C9          	RET
3639   0863             ;------------------------------------------------------------------------------
3640   0863             ; Decrement BCDE number
3641   0863             ;------------------------------------------------------------------------------
3642   0863             DCBCDE:	DEC	DE		; Decrement BCDE
basic2.asm line 3642: Label not found: (DCBCDE)
basic2.asm line 3642: label value misalligned.           (DCBCDE)
basic2.asm line 3642: unrecognized instruction.          (DCBCDE)
3643   0863             	LD	A,D		; Test LSBs
basic2.asm line 3643: unrecognized instruction.          (LD)
3644   0863             	AND	E
basic2.asm line 3644: unrecognized instruction.          (AND)
3645   0863             	INC	A
basic2.asm line 3645: unrecognized instruction.          (INC)
3646   0863             	RET	NZ		; Exit if LSBs not FFFF
basic2.asm line 3646: unrecognized argument.             (NZ)
3647   0863             	DEC	BC		; Decrement MSBs
basic2.asm line 3647: unrecognized instruction.          (DEC)
3648   0863 C9          	RET
3649   0864             ;------------------------------------------------------------------------------
3650   0864             ; INT
3651   0864             ;------------------------------------------------------------------------------
3652   0864             INT:	LD	HL,FPEXP		; Point to exponent
basic2.asm line 3652: Label not found: (INT)
basic2.asm line 3652: label value misalligned.           (INT)
basic2.asm line 3652: unrecognized instruction.          (INT)
3653   0864             	LD	A,(HL)		; Get exponent
basic2.asm line 3653: unrecognized instruction.          (LD)
3654   0864 F4 98 00    	CP	80H+24		; Integer accuracy only?
3655   0867             	LD	A,(FPREG)		; Get LSB
basic2.asm line 3655: unrecognized instruction.          (LD)
3656   0867             	RET	NC		; Yes - Already integer
basic2.asm line 3656: unrecognized argument.             (NC)
3657   0867             	LD	A,(HL)		; Get exponent
basic2.asm line 3657: unrecognized instruction.          (LD)
basic2.asm line 3658: Label not found: (FPINT)
basic2.asm line 3658: Unused data in MS byte of argument. (2)
3658   0867 CD 00 00    	CALL	FPINT		; F.P to integer
3659   086A             	LD	(HL),80H+24		; Save 24 bit integer
basic2.asm line 3659: unrecognized instruction.          (LD)
3660   086A             	LD	A,E		; Get LSB of number
basic2.asm line 3660: unrecognized instruction.          (LD)
3661   086A             	PUSH	AF		; Save LSB
basic2.asm line 3661: unrecognized argument.             (AF)
3662   086A             	LD	A,C		; Get MSB of number
basic2.asm line 3662: unrecognized instruction.          (LD)
3663   086A             	RLA			; Sign to carry
basic2.asm line 3663: unrecognized instruction.          (RLA)
3664   086A CD 9A 07    	CALL	CONPOS		; Set sign of result
3665   086D             	POP	AF		; Restore LSB of number
basic2.asm line 3665: unrecognized argument.             (AF)
3666   086D C9          	RET
3667   086E             
3668   086E             MLDEBC:	LD	HL,0		; Clear partial product
basic2.asm line 3668: Label not found: (MLDEBC)
basic2.asm line 3668: label value misalligned.           (MLDEBC)
basic2.asm line 3668: unrecognized instruction.          (MLDEBC)
3669   086E             	LD	A,B		; Test multiplier
basic2.asm line 3669: unrecognized instruction.          (LD)
3670   086E             	OR	C
basic2.asm line 3670: unrecognized instruction.          (OR)
3671   086E             	RET	Z		; Return zero if zero
basic2.asm line 3671: unrecognized argument.             (Z)
3672   086E             	LD	A,16		; 16 bits
basic2.asm line 3672: unrecognized instruction.          (LD)
3673   086E             MLDBLP:	ADD	HL,HL		; Shift P.P left
basic2.asm line 3673: Label not found: (MLDBLP)
basic2.asm line 3673: label value misalligned.           (MLDBLP)
basic2.asm line 3673: unrecognized argument.             (MLDBLP)
basic2.asm line 3674: Label not found: (C)
basic2.asm line 3674: Unknown token: (,)
basic2.asm line 3674: Unknown token.    
basic2.asm line 3674: Label not found: (BSERR)
basic2.asm line 3674: Unused data in MS byte of argument. (2)
3674   086E F2 00 00    	JP	C,BSERR		; ?BS Error if overflow
3675   0871             	EX	DE,HL
basic2.asm line 3675: unrecognized instruction.          (EX)
3676   0871             	ADD	HL,HL		; Shift multiplier left
basic2.asm line 3676: unrecognized argument.             (HL,HL)
3677   0871             	EX	DE,HL
basic2.asm line 3677: unrecognized instruction.          (EX)
3678   0871             	JR	NC,NOMLAD		; Bit was zero - No add
basic2.asm line 3678: unrecognized instruction.          (JR)
3679   0871             	ADD	HL,BC		; Add multiplicand
basic2.asm line 3679: unrecognized argument.             (HL,BC)
basic2.asm line 3680: Label not found: (C)
basic2.asm line 3680: Unknown token: (,)
basic2.asm line 3680: Unknown token.    
basic2.asm line 3680: Label not found: (BSERR)
basic2.asm line 3680: Unused data in MS byte of argument. (2)
3680   0871 F2 00 00    	JP	C,BSERR		; ?BS Error if overflow
3681   0874             NOMLAD:	DEC	A		; Count bits
basic2.asm line 3681: Label not found: (NOMLAD)
basic2.asm line 3681: label value misalligned.           (NOMLAD)
basic2.asm line 3681: unrecognized instruction.          (NOMLAD)
3682   0874             	JR	NZ,MLDBLP		; More
basic2.asm line 3682: unrecognized instruction.          (JR)
3683   0874 C9          	RET
3684   0875             ;------------------------------------------------------------------------------
3685   0875             ; Converts ASCII number to FP for computations
3686   0875             ;------------------------------------------------------------------------------
3687   0875 F4 2D 00    ASCTFP:	CP	'-'		; Negative?
3688   0878             	PUSH	AF		; Save it and flags
basic2.asm line 3688: unrecognized argument.             (AF)
basic2.asm line 3689: Label not found: (Z)
basic2.asm line 3689: Unknown token: (,)
basic2.asm line 3689: Unknown token.    
3689   0878 F2 7E 08    	JP	Z,CNVNUM		; Yes - Convert number
3690   087B F4 2B 00    	CP	'+'		; Positive?
3691   087E             	JR	Z,CNVNUM		; Yes - Convert number
basic2.asm line 3691: unrecognized instruction.          (JR)
3692   087E             	DEC	HL		; DEC 'cos GETCHR INCs
basic2.asm line 3692: unrecognized instruction.          (DEC)
basic2.asm line 3693: Label not found: (RESZER)
basic2.asm line 3693: Unused data in MS byte of argument. (2)
3693   087E CD 00 00    CNVNUM:	CALL	RESZER		; Set result to zero
3694   0881             	LD	B,A		; Digits after point counter
basic2.asm line 3694: unrecognized instruction.          (LD)
3695   0881             	LD	D,A		; Sign of exponent
basic2.asm line 3695: unrecognized instruction.          (LD)
3696   0881             	LD	E,A		; Exponent of ten
basic2.asm line 3696: unrecognized instruction.          (LD)
3697   0881             	CPL
basic2.asm line 3697: unrecognized instruction.          (CPL)
3698   0881             	LD	C,A		; Before or after point flag
basic2.asm line 3698: unrecognized instruction.          (LD)
basic2.asm line 3699: Label not found: (GETCHR)
basic2.asm line 3699: Unused data in MS byte of argument. (2)
3699   0881 CD 00 00    MANLP:	CALL	GETCHR		; Get next character
3700   0884             	JR	C,ADDIG		; Digit - Add to number
basic2.asm line 3700: unrecognized instruction.          (JR)
3701   0884 F4 2E 00    	CP	'.'
3702   0887             	JR	Z,DPOINT		; "." - Flag point
basic2.asm line 3702: unrecognized instruction.          (JR)
3703   0887 F4 45 00    	CP	'E'
3704   088A             	JR	NZ,CONEXP		; Not "E" - Scale number
basic2.asm line 3704: unrecognized instruction.          (JR)
basic2.asm line 3705: Label not found: (GETCHR)
basic2.asm line 3705: Unused data in MS byte of argument. (2)
3705   088A CD 00 00    	CALL	GETCHR		; Get next character
basic2.asm line 3706: Label not found: (SGNEXP)
basic2.asm line 3706: Unused data in MS byte of argument. (2)
3706   088D CD 00 00    	CALL	SGNEXP		; Get sign of exponent
basic2.asm line 3707: Label not found: (GETCHR)
basic2.asm line 3707: Unused data in MS byte of argument. (2)
3707   0890 CD 00 00    EXPLP:	CALL	GETCHR		; Get next character
3708   0893             	JR	C,EDIGIT		; Digit - Add to exponent
basic2.asm line 3708: unrecognized instruction.          (JR)
3709   0893             	INC	D		; Is sign negative?
basic2.asm line 3709: unrecognized instruction.          (INC)
3710   0893             	JR	NZ,CONEXP		; No - Scale number
basic2.asm line 3710: unrecognized instruction.          (JR)
3711   0893             	XOR	A
basic2.asm line 3711: unrecognized instruction.          (XOR)
3712   0893 93          	SUB	E		; Negate exponent
3713   0894             	LD	E,A		; And re-save it
basic2.asm line 3713: unrecognized instruction.          (LD)
3714   0894             	INC	C		; Flag end of number
basic2.asm line 3714: unrecognized instruction.          (INC)
3715   0894             DPOINT:	INC	C		; Flag point passed
basic2.asm line 3715: Label not found: (DPOINT)
basic2.asm line 3715: label value misalligned.           (DPOINT)
basic2.asm line 3715: unrecognized instruction.          (DPOINT)
3716   0894             	JR	Z,MANLP		; Zero - Get another digit
basic2.asm line 3716: unrecognized instruction.          (JR)
3717   0894             CONEXP:	PUSH	HL		; Save code string address
basic2.asm line 3717: Label not found: (CONEXP)
basic2.asm line 3717: label value misalligned.           (CONEXP)
basic2.asm line 3717: unrecognized argument.             (CONEXP)
3718   0894             	LD	A,E		; Get exponent
basic2.asm line 3718: unrecognized instruction.          (LD)
3719   0894 90          	SUB	B		; Subtract digits after point
basic2.asm line 3720: Label not found: (P)
basic2.asm line 3720: Unknown token: (,)
basic2.asm line 3720: Unknown token.    
basic2.asm line 3720: Label not found: (SCALPL)
basic2.asm line 3720: Unused data in MS byte of argument. (2)
3720   0895 CD 00 00    SCALMI:	CALL	P,SCALPL		; Positive - Multiply number
basic2.asm line 3721: Label not found: (P)
basic2.asm line 3721: Unknown token: (,)
basic2.asm line 3721: Unknown token.    
basic2.asm line 3721: Label not found: (ENDCON)
basic2.asm line 3721: Unused data in MS byte of argument. (2)
3721   0898 F2 00 00    	JP	P,ENDCON		; Positive - All done
3722   089B             	PUSH	AF		; Save number of times to /10
basic2.asm line 3722: unrecognized argument.             (AF)
3723   089B CD E9 07    	CALL	DIV10		; Divide by 10
3724   089E             	POP	AF		; Restore count
basic2.asm line 3724: unrecognized argument.             (AF)
3725   089E             	INC	A		; Count divides
basic2.asm line 3725: unrecognized instruction.          (INC)
3726   089E             
3727   089E             ENDCON:	JR	NZ,SCALMI		; More to do
basic2.asm line 3727: Label not found: (ENDCON)
basic2.asm line 3727: label value misalligned.           (ENDCON)
basic2.asm line 3727: unrecognized instruction.          (ENDCON)
3728   089E             	POP	DE		; Restore code string address
basic2.asm line 3728: unrecognized argument.             (DE)
3729   089E             	POP	AF		; Restore sign of number
basic2.asm line 3729: unrecognized argument.             (AF)
basic2.asm line 3730: Label not found: (Z)
basic2.asm line 3730: Unknown token: (,)
basic2.asm line 3730: Unknown token.    
basic2.asm line 3730: Label not found: (INVSGN)
basic2.asm line 3730: Unused data in MS byte of argument. (2)
3730   089E CD 00 00    	CALL	Z,INVSGN		; Negative - Negate number
3731   08A1             	EX	DE,HL		; Code string address to HL
basic2.asm line 3731: unrecognized instruction.          (EX)
3732   08A1 C9          	RET
3733   08A2             
3734   08A2             SCALPL:	RET	Z		; Exit if no scaling needed
basic2.asm line 3734: Label not found: (SCALPL)
basic2.asm line 3734: label value misalligned.           (SCALPL)
basic2.asm line 3734: unrecognized argument.             (SCALPL)
3735   08A2             MULTEN:	PUSH	AF		; Save count
basic2.asm line 3735: Label not found: (MULTEN)
basic2.asm line 3735: label value misalligned.           (MULTEN)
basic2.asm line 3735: unrecognized argument.             (MULTEN)
3736   08A2 CD 1B 08    	CALL	MLSP10		; Multiply number by 10
3737   08A5             	POP	AF		; Restore count
basic2.asm line 3737: unrecognized argument.             (AF)
3738   08A5             	DEC	A		; Count multiplies
basic2.asm line 3738: unrecognized instruction.          (DEC)
3739   08A5 C9          	RET
3740   08A6             
3741   08A6             ADDIG:	PUSH	DE		; Save sign of exponent
basic2.asm line 3741: Label not found: (ADDIG)
basic2.asm line 3741: label value misalligned.           (ADDIG)
basic2.asm line 3741: unrecognized argument.             (ADDIG)
3742   08A6             	LD	D,A		; Save digit
basic2.asm line 3742: unrecognized instruction.          (LD)
3743   08A6             	LD	A,B		; Get digits after point
basic2.asm line 3743: unrecognized instruction.          (LD)
3744   08A6             	ADC	A,C		; Add one if after point
basic2.asm line 3744: unrecognized argument.             (A,C)
3745   08A6             	LD	B,A		; Re-save counter
basic2.asm line 3745: unrecognized instruction.          (LD)
3746   08A6             	PUSH	BC		; Save point flags
basic2.asm line 3746: unrecognized argument.             (BC)
3747   08A6             	PUSH	HL		; Save code string address
basic2.asm line 3747: unrecognized argument.             (HL)
3748   08A6             	PUSH	DE		; Save digit
basic2.asm line 3748: unrecognized argument.             (DE)
3749   08A6 CD 1B 08    	CALL	MLSP10		; Multiply number by 10
3750   08A9             	POP	AF		; Restore digit
basic2.asm line 3750: unrecognized argument.             (AF)
3751   08A9             	SUB	$30		; Make it absolute
basic2.asm line 3751: unrecognized argument.             ($30)
3752   08A9 CD AC 08    	CALL	RSCALE		; Re-scale number
3753   08AC             	POP	HL		; Restore code string address
basic2.asm line 3753: unrecognized argument.             (HL)
3754   08AC             	POP	BC		; Restore point flags
basic2.asm line 3754: unrecognized argument.             (BC)
3755   08AC             	POP	DE		; Restore sign of exponent
basic2.asm line 3755: unrecognized argument.             (DE)
3756   08AC             	JR	MANLP		; Get another digit
basic2.asm line 3756: unrecognized instruction.          (JR)
3757   08AC             
basic2.asm line 3758: Label not found: (STAKFP)
basic2.asm line 3758: Unused data in MS byte of argument. (2)
3758   08AC CD 00 00    RSCALE:	CALL	STAKFP		; Put number on stack
basic2.asm line 3759: Label not found: (FLGREL)
basic2.asm line 3759: Unused data in MS byte of argument. (2)
3759   08AF CD 00 00    	CALL	FLGREL		; Digit to add to FPREG
3760   08B2             ;------------------------------------------------------------------------------
3761   08B2             ; FP Addition
3762   08B2             ;------------------------------------------------------------------------------	
3763   08B2             PADD:	POP	BC		; Restore number
basic2.asm line 3763: Label not found: (PADD)
basic2.asm line 3763: label value misalligned.           (PADD)
basic2.asm line 3763: unrecognized argument.             (PADD)
3764   08B2             	POP	DE
basic2.asm line 3764: unrecognized argument.             (DE)
basic2.asm line 3765: Label not found: (FPADD)
basic2.asm line 3765: Unused data in MS byte of argument. (2)
3765   08B2 F2 00 00    	JP	FPADD		; Add BCDE to FPREG and return
3766   08B5             
3767   08B5             EDIGIT:	LD	A,E		; Get digit
basic2.asm line 3767: Label not found: (EDIGIT)
basic2.asm line 3767: label value misalligned.           (EDIGIT)
basic2.asm line 3767: unrecognized instruction.          (EDIGIT)
3768   08B5             	RLCA			; Times 2
basic2.asm line 3768: unrecognized instruction.          (RLCA)
3769   08B5             	RLCA			; Times 4
basic2.asm line 3769: unrecognized instruction.          (RLCA)
3770   08B5             	ADD	A,E		; Times 5
basic2.asm line 3770: unrecognized argument.             (A,E)
3771   08B5             	RLCA			; Times 10
basic2.asm line 3771: unrecognized instruction.          (RLCA)
3772   08B5             	ADD	A,(HL)		; Add next digit
basic2.asm line 3772: unrecognized argument.             (A,(HL))
3773   08B5             	SUB	$30		; Make it absolute
basic2.asm line 3773: unrecognized argument.             ($30)
3774   08B5             	LD	E,A		; Save new digit
basic2.asm line 3774: unrecognized instruction.          (LD)
3775   08B5 F2 90 08    	JP	EXPLP		; Look for another digit
3776   08B8             ;------------------------------------------------------------------------------
3777   08B8             ; Prints " in " + Line number in HL for Error Handling
3778   08B8             ;------------------------------------------------------------------------------
3779   08B8             LINEIN:	PUSH	HL		; Save code string address
basic2.asm line 3779: Label not found: (LINEIN)
basic2.asm line 3779: label value misalligned.           (LINEIN)
basic2.asm line 3779: unrecognized argument.             (LINEIN)
3780   08B8             	LD	HL,INMSG		; Output " in "
basic2.asm line 3780: unrecognized instruction.          (LD)
3781   08B8 CD 2A 06    	CALL	PRS		; Output string at HL
3782   08BB             	POP	HL		; Restore code string address
basic2.asm line 3782: unrecognized argument.             (HL)
3783   08BB             ;------------------------------------------------------------------------------
3784   08BB             ; Convert HL to ASCII and Print
3785   08BB             ;------------------------------------------------------------------------------	
3786   08BB             PRNTHL:	EX	DE,HL		; Code string address to DE
basic2.asm line 3786: Label not found: (PRNTHL)
basic2.asm line 3786: label value misalligned.           (PRNTHL)
basic2.asm line 3786: unrecognized instruction.          (PRNTHL)
3787   08BB             	XOR	A
basic2.asm line 3787: unrecognized instruction.          (XOR)
3788   08BB             	LD	B,80H+24		; 24 bits
basic2.asm line 3788: unrecognized instruction.          (LD)
basic2.asm line 3789: Label not found: (RETINT)
basic2.asm line 3789: Unused data in MS byte of argument. (2)
3789   08BB CD 00 00    	CALL	RETINT		; Return the integer
3790   08BE             	LD	HL,PRNUMS		; Print number string
basic2.asm line 3790: unrecognized instruction.          (LD)
3791   08BE             	PUSH	HL		; Save for return
basic2.asm line 3791: unrecognized argument.             (HL)
3792   08BE             ;------------------------------------------------------------------------------
3793   08BE             ; Convert FPREG to ASCII in PBUFF
3794   08BE             ;------------------------------------------------------------------------------
3795   08BE             NUMASC:	LD	HL,PBUFF		; Convert number to ASCII
basic2.asm line 3795: Label not found: (NUMASC)
basic2.asm line 3795: label value misalligned.           (NUMASC)
basic2.asm line 3795: unrecognized instruction.          (NUMASC)
3796   08BE             	PUSH	HL		; Save for return
basic2.asm line 3796: unrecognized argument.             (HL)
basic2.asm line 3797: Label not found: (TSTSGN)
basic2.asm line 3797: Unused data in MS byte of argument. (2)
3797   08BE CD 00 00    	CALL	TSTSGN		; Test sign of FPREG
3798   08C1             	LD	(HL),$20		; Space at start
basic2.asm line 3798: unrecognized instruction.          (LD)
basic2.asm line 3799: Label not found: (P)
basic2.asm line 3799: Unknown token: (,)
basic2.asm line 3799: Unknown token.    
basic2.asm line 3799: Label not found: (SPCFST)
basic2.asm line 3799: Unused data in MS byte of argument. (2)
3799   08C1 F2 00 00    	JP	P,SPCFST		; Positive - Space to start
3800   08C4             	LD	(HL),'-'		; "-" sign at start
basic2.asm line 3800: unrecognized instruction.          (LD)
3801   08C4             SPCFST:	INC	HL		; First byte of number
basic2.asm line 3801: Label not found: (SPCFST)
basic2.asm line 3801: label value misalligned.           (SPCFST)
basic2.asm line 3801: unrecognized instruction.          (SPCFST)
3802   08C4             	LD	(HL),'0'		; "0" if zero
basic2.asm line 3802: unrecognized instruction.          (LD)
basic2.asm line 3803: Label not found: (Z)
basic2.asm line 3803: Unknown token: (,)
basic2.asm line 3803: Unknown token.    
basic2.asm line 3803: Label not found: (JSTZER)
basic2.asm line 3803: Unused data in MS byte of argument. (2)
3803   08C4 F2 00 00    	JP	Z,JSTZER		; Return "0" if zero
3804   08C7             	PUSH	HL		; Save buffer address
basic2.asm line 3804: unrecognized argument.             (HL)
basic2.asm line 3805: Label not found: (M)
basic2.asm line 3805: Unknown token: (,)
basic2.asm line 3805: Unknown token.    
basic2.asm line 3805: Label not found: (INVSGN)
basic2.asm line 3805: Unused data in MS byte of argument. (2)
3805   08C7 CD 00 00    	CALL	M,INVSGN		; Negate FPREG if negative
3806   08CA             	XOR	A		; Zero A
basic2.asm line 3806: unrecognized instruction.          (XOR)
3807   08CA             	PUSH	AF		; Save it
basic2.asm line 3807: unrecognized argument.             (AF)
basic2.asm line 3808: Label not found: (RNGTST)
basic2.asm line 3808: Unused data in MS byte of argument. (2)
3808   08CA CD 00 00    	CALL	RNGTST		; Test number is in range
3809   08CD             SIXDIG:	LD	BC,9143H		; BCDE - 99999.9
basic2.asm line 3809: Label not found: (SIXDIG)
basic2.asm line 3809: label value misalligned.           (SIXDIG)
basic2.asm line 3809: unrecognized instruction.          (SIXDIG)
3810   08CD             	LD	DE,4FF8H
basic2.asm line 3810: unrecognized instruction.          (LD)
basic2.asm line 3811: Label not found: (CMPNUM)
basic2.asm line 3811: Unused data in MS byte of argument. (2)
3811   08CD CD 00 00    	CALL	CMPNUM		; Compare numbers
3812   08D0             	OR	A
basic2.asm line 3812: unrecognized instruction.          (OR)
basic2.asm line 3813: Label not found: (PO)
basic2.asm line 3813: Unknown token: (,)
basic2.asm line 3813: Unknown token.    
3813   08D0 F2 DC 08    	JP	PO,INRNG		; > 99999.9 - Sort it out
3814   08D3             	POP	AF		; Restore count
basic2.asm line 3814: unrecognized argument.             (AF)
basic2.asm line 3815: Label not found: (MULTEN)
basic2.asm line 3815: Unused data in MS byte of argument. (2)
3815   08D3 CD 00 00    	CALL	MULTEN		; Multiply by ten
3816   08D6             	PUSH	AF		; Re-save count
basic2.asm line 3816: unrecognized argument.             (AF)
3817   08D6             	JR	SIXDIG		; Test it again
basic2.asm line 3817: unrecognized instruction.          (JR)
3818   08D6             
3819   08D6 CD E9 07    GTSIXD:	CALL	DIV10		; Divide by 10
3820   08D9             	POP	AF		; Get count
basic2.asm line 3820: unrecognized argument.             (AF)
3821   08D9             	INC	A		; Count divides
basic2.asm line 3821: unrecognized instruction.          (INC)
3822   08D9             	PUSH	AF		; Re-save count
basic2.asm line 3822: unrecognized argument.             (AF)
basic2.asm line 3823: Label not found: (RNGTST)
basic2.asm line 3823: Unused data in MS byte of argument. (2)
3823   08D9 CD 00 00    	CALL	RNGTST		; Test number is in range
basic2.asm line 3824: Label not found: (ROUND)
basic2.asm line 3824: Unused data in MS byte of argument. (2)
3824   08DC CD 00 00    INRNG:	CALL	ROUND		; Add 0.5 to FPREG
3825   08DF             	INC	A
basic2.asm line 3825: unrecognized instruction.          (INC)
basic2.asm line 3826: Label not found: (FPINT)
basic2.asm line 3826: Unused data in MS byte of argument. (2)
3826   08DF CD 00 00    	CALL	FPINT		; F.P to integer
basic2.asm line 3827: Label not found: (FPBCDE)
basic2.asm line 3827: Unused data in MS byte of argument. (2)
3827   08E2 CD 00 00    	CALL	FPBCDE		; Move BCDE to FPREG
3828   08E5             	LD	BC,0306H		; 1E+06 to 1E-03 range
basic2.asm line 3828: unrecognized instruction.          (LD)
3829   08E5             	POP	AF		; Restore count
basic2.asm line 3829: unrecognized argument.             (AF)
3830   08E5             	ADD	A,C		; 6 digits before point
basic2.asm line 3830: unrecognized argument.             (A,C)
3831   08E5             	INC	A		; Add one
basic2.asm line 3831: unrecognized instruction.          (INC)
basic2.asm line 3832: Label not found: (M)
basic2.asm line 3832: Unknown token: (,)
basic2.asm line 3832: Unknown token.    
basic2.asm line 3832: Label not found: (MAKNUM)
basic2.asm line 3832: Unused data in MS byte of argument. (2)
3832   08E5 F2 00 00    	JP	M,MAKNUM		; Do it in "E" form if < 1E-02
3833   08E8 F4 08 00    	CP	6+1+1		; More than 999999 ?
basic2.asm line 3834: Label not found: (NC)
basic2.asm line 3834: Unknown token: (,)
basic2.asm line 3834: Unknown token.    
basic2.asm line 3834: Label not found: (MAKNUM)
basic2.asm line 3834: Unused data in MS byte of argument. (2)
3834   08EB F2 00 00    	JP	NC,MAKNUM		; Yes - Do it in "E" form
3835   08EE             	INC	A		; Adjust for exponent
basic2.asm line 3835: unrecognized instruction.          (INC)
3836   08EE             	LD	B,A		; Exponent of number
basic2.asm line 3836: unrecognized instruction.          (LD)
3837   08EE             	LD	A,2		; Make it zero after
basic2.asm line 3837: unrecognized instruction.          (LD)
3838   08EE             
3839   08EE             MAKNUM:	DEC	A		; Adjust for digits to do
basic2.asm line 3839: Label not found: (MAKNUM)
basic2.asm line 3839: label value misalligned.           (MAKNUM)
basic2.asm line 3839: unrecognized instruction.          (MAKNUM)
3840   08EE             	DEC	A
basic2.asm line 3840: unrecognized instruction.          (DEC)
3841   08EE             	POP	HL		; Restore buffer address
basic2.asm line 3841: unrecognized argument.             (HL)
3842   08EE             	PUSH	AF		; Save count
basic2.asm line 3842: unrecognized argument.             (AF)
3843   08EE             	LD	DE,POWERS	; Powers of ten
basic2.asm line 3843: unrecognized instruction.          (LD)
3844   08EE             	DEC	B		; Count digits before point
basic2.asm line 3844: unrecognized instruction.          (DEC)
3845   08EE             	JR	NZ,DIGTXT		; Not zero - Do number
basic2.asm line 3845: unrecognized instruction.          (JR)
3846   08EE             	LD	(HL),'.'		; Save point
basic2.asm line 3846: unrecognized instruction.          (LD)
3847   08EE             	INC	HL		; Move on
basic2.asm line 3847: unrecognized instruction.          (INC)
3848   08EE             	LD	(HL),'0'		; Save zero
basic2.asm line 3848: unrecognized instruction.          (LD)
3849   08EE             	INC	HL		; Move on
basic2.asm line 3849: unrecognized instruction.          (INC)
3850   08EE             DIGTXT:	DEC	B		; Count digits before point
basic2.asm line 3850: Label not found: (DIGTXT)
basic2.asm line 3850: label value misalligned.           (DIGTXT)
basic2.asm line 3850: unrecognized instruction.          (DIGTXT)
3851   08EE             	LD	(HL),'.'		; Save point in case
basic2.asm line 3851: unrecognized instruction.          (LD)
basic2.asm line 3852: Label not found: (Z)
basic2.asm line 3852: Unknown token: (,)
basic2.asm line 3852: Unknown token.    
basic2.asm line 3852: Label not found: (INCHL)
basic2.asm line 3852: Unused data in MS byte of argument. (2)
3852   08EE CD 00 00    	CALL	Z,INCHL		; Last digit - move on
3853   08F1             	PUSH	BC		; Save digits before point
basic2.asm line 3853: unrecognized argument.             (BC)
3854   08F1             	PUSH	HL		; Save buffer address
basic2.asm line 3854: unrecognized argument.             (HL)
3855   08F1             	PUSH	DE		; Save powers of ten
basic2.asm line 3855: unrecognized argument.             (DE)
basic2.asm line 3856: Label not found: (BCDEFP)
basic2.asm line 3856: Unused data in MS byte of argument. (2)
3856   08F1 CD 00 00    	CALL	BCDEFP		; Move FPREG to BCDE
3857   08F4             	POP	HL		; Powers of ten table
basic2.asm line 3857: unrecognized argument.             (HL)
3858   08F4             	LD	B,'0'-1		; ASCII "0" - 1
basic2.asm line 3858: unrecognized instruction.          (LD)
3859   08F4             TRYAGN:	INC	B		; Count subtractions
basic2.asm line 3859: Label not found: (TRYAGN)
basic2.asm line 3859: label value misalligned.           (TRYAGN)
basic2.asm line 3859: unrecognized instruction.          (TRYAGN)
3860   08F4             	LD	A,E		; Get LSB
basic2.asm line 3860: unrecognized instruction.          (LD)
3861   08F4             	SUB	(HL)		; Subtract LSB
basic2.asm line 3861: unrecognized argument.             ((HL))
3862   08F4             	LD	E,A		; Save LSB
basic2.asm line 3862: unrecognized instruction.          (LD)
3863   08F4             	INC	HL
basic2.asm line 3863: unrecognized instruction.          (INC)
3864   08F4             	LD	A,D		; Get NMSB
basic2.asm line 3864: unrecognized instruction.          (LD)
3865   08F4             	SBC	A,(HL)		; Subtract NMSB
basic2.asm line 3865: unrecognized instruction.          (SBC)
3866   08F4             	LD	D,A		; Save NMSB
basic2.asm line 3866: unrecognized instruction.          (LD)
3867   08F4             	INC	HL
basic2.asm line 3867: unrecognized instruction.          (INC)
3868   08F4             	LD	A,C		; Get MSB
basic2.asm line 3868: unrecognized instruction.          (LD)
3869   08F4             	SBC	A,(HL)		; Subtract MSB
basic2.asm line 3869: unrecognized instruction.          (SBC)
3870   08F4             	LD	C,A		; Save MSB
basic2.asm line 3870: unrecognized instruction.          (LD)
3871   08F4             	DEC	HL		; Point back to start
basic2.asm line 3871: unrecognized instruction.          (DEC)
3872   08F4             	DEC	HL
basic2.asm line 3872: unrecognized instruction.          (DEC)
3873   08F4             	JR	NC,TRYAGN		; No overflow - Try again
basic2.asm line 3873: unrecognized instruction.          (JR)
basic2.asm line 3874: Label not found: (PLUCDE)
basic2.asm line 3874: Unused data in MS byte of argument. (2)
3874   08F4 CD 00 00    	CALL	PLUCDE		; Restore number
3875   08F7             	INC	HL		; Start of next number
basic2.asm line 3875: unrecognized instruction.          (INC)
basic2.asm line 3876: Label not found: (FPBCDE)
basic2.asm line 3876: Unused data in MS byte of argument. (2)
3876   08F7 CD 00 00    	CALL	FPBCDE		; Move BCDE to FPREG
3877   08FA             	EX	DE,HL		; Save point in table
basic2.asm line 3877: unrecognized instruction.          (EX)
3878   08FA             	POP	HL		; Restore buffer address
basic2.asm line 3878: unrecognized argument.             (HL)
3879   08FA             	LD	(HL),B		; Save digit in buffer
basic2.asm line 3879: unrecognized instruction.          (LD)
3880   08FA             	INC	HL		; And move on
basic2.asm line 3880: unrecognized instruction.          (INC)
3881   08FA             	POP	BC		; Restore digit count
basic2.asm line 3881: unrecognized argument.             (BC)
3882   08FA             	DEC	C		; Count digits
basic2.asm line 3882: unrecognized instruction.          (DEC)
3883   08FA             	JR	NZ,DIGTXT		; More - Do them
basic2.asm line 3883: unrecognized instruction.          (JR)
3884   08FA             	DEC	B		; Any decimal part?
basic2.asm line 3884: unrecognized instruction.          (DEC)
3885   08FA             	JR	Z,DOEBIT		; No - Do "E" bit
basic2.asm line 3885: unrecognized instruction.          (JR)
3886   08FA             SUPTLZ:	DEC	HL		; Move back through buffer
basic2.asm line 3886: Label not found: (SUPTLZ)
basic2.asm line 3886: label value misalligned.           (SUPTLZ)
basic2.asm line 3886: unrecognized instruction.          (SUPTLZ)
3887   08FA             	LD	A,(HL)		; Get character
basic2.asm line 3887: unrecognized instruction.          (LD)
3888   08FA F4 30 00    	CP	$30		; "0" character?
3889   08FD             	JR	Z,SUPTLZ		; Yes - Look back for more
basic2.asm line 3889: unrecognized instruction.          (JR)
3890   08FD F4 2E 00    	CP	'.'		; A decimal point?
basic2.asm line 3891: Label not found: (NZ)
basic2.asm line 3891: Unknown token: (,)
basic2.asm line 3891: Unknown token.    
basic2.asm line 3891: Label not found: (INCHL)
basic2.asm line 3891: Unused data in MS byte of argument. (2)
3891   0900 CD 00 00    	CALL	NZ,INCHL		; Move back over digit
3892   0903             
3893   0903             DOEBIT:	POP	AF		; Get "E" flag
basic2.asm line 3893: Label not found: (DOEBIT)
basic2.asm line 3893: label value misalligned.           (DOEBIT)
basic2.asm line 3893: unrecognized argument.             (DOEBIT)
3894   0903             	JR	Z,NOENED		; No "E" needed - End buffer
basic2.asm line 3894: unrecognized instruction.          (JR)
3895   0903             	LD	(HL),'E'		; Put "E" in buffer
basic2.asm line 3895: unrecognized instruction.          (LD)
3896   0903             	INC	HL		; And move on
basic2.asm line 3896: unrecognized instruction.          (INC)
3897   0903             	LD	(HL),'+'		; Put '+' in buffer
basic2.asm line 3897: unrecognized instruction.          (LD)
basic2.asm line 3898: Label not found: (P)
basic2.asm line 3898: Unknown token: (,)
basic2.asm line 3898: Unknown token.    
basic2.asm line 3898: Label not found: (OUTEXP)
basic2.asm line 3898: Unused data in MS byte of argument. (2)
3898   0903 F2 00 00    	JP	P,OUTEXP		; Positive - Output exponent
3899   0906             	LD	(HL),'-'		; Put "-" in buffer
basic2.asm line 3899: unrecognized instruction.          (LD)
3900   0906             	CPL			; Negate exponent
basic2.asm line 3900: unrecognized instruction.          (CPL)
3901   0906             	INC	A
basic2.asm line 3901: unrecognized instruction.          (INC)
3902   0906             OUTEXP:	LD	B,$2F		; ASCII "0" - 1
basic2.asm line 3902: Label not found: (OUTEXP)
basic2.asm line 3902: label value misalligned.           (OUTEXP)
basic2.asm line 3902: unrecognized instruction.          (OUTEXP)
3903   0906             EXPTEN:	INC	B		; Count subtractions
basic2.asm line 3903: Label not found: (EXPTEN)
basic2.asm line 3903: label value misalligned.           (EXPTEN)
basic2.asm line 3903: unrecognized instruction.          (EXPTEN)
3904   0906             	SUB	10		; Tens digit
basic2.asm line 3904: unrecognized argument.             (10)
3905   0906             	JR	NC,EXPTEN		; More to do
basic2.asm line 3905: unrecognized instruction.          (JR)
3906   0906             	ADD	A,$30+10		; Restore and make ASCII
basic2.asm line 3906: unrecognized argument.             (A,$30+10)
3907   0906             	INC	HL		; Move on
basic2.asm line 3907: unrecognized instruction.          (INC)
3908   0906             	LD	(HL),B		; Save MSB of exponent
basic2.asm line 3908: unrecognized instruction.          (LD)
3909   0906             JSTZER:	INC	HL		;
basic2.asm line 3909: Label not found: (JSTZER)
basic2.asm line 3909: label value misalligned.           (JSTZER)
basic2.asm line 3909: unrecognized instruction.          (JSTZER)
3910   0906             	LD	(HL),A		; Save LSB of exponent
basic2.asm line 3910: unrecognized instruction.          (LD)
3911   0906             	INC	HL
basic2.asm line 3911: unrecognized instruction.          (INC)
3912   0906             NOENED:	LD	(HL),C		; Mark end of buffer
basic2.asm line 3912: Label not found: (NOENED)
basic2.asm line 3912: label value misalligned.           (NOENED)
basic2.asm line 3912: unrecognized instruction.          (NOENED)
3913   0906             	POP	HL		; Restore code string address
basic2.asm line 3913: unrecognized argument.             (HL)
3914   0906 C9          	RET
3915   0907             
3916   0907             RNGTST:	LD	BC,9474H		; BCDE = 999999.
basic2.asm line 3916: Label not found: (RNGTST)
basic2.asm line 3916: label value misalligned.           (RNGTST)
basic2.asm line 3916: unrecognized instruction.          (RNGTST)
3917   0907             	LD	DE,23F7H
basic2.asm line 3917: unrecognized instruction.          (LD)
basic2.asm line 3918: Label not found: (CMPNUM)
basic2.asm line 3918: Unused data in MS byte of argument. (2)
3918   0907 CD 00 00    	CALL	CMPNUM		; Compare numbers
3919   090A             	OR	A
basic2.asm line 3919: unrecognized instruction.          (OR)
3920   090A             	POP	HL		; Return address to HL
basic2.asm line 3920: unrecognized argument.             (HL)
basic2.asm line 3921: Label not found: (PO)
basic2.asm line 3921: Unknown token: (,)
basic2.asm line 3921: Unknown token.    
3921   090A F2 D6 08    	JP	PO,GTSIXD		; Too big - Divide by ten
basic2.asm line 3922: Label not found: (HL)
basic2.asm line 3922: Unused data in MS byte of argument. (2)
3922   090D F2 00 00    	JP	(HL)		; Otherwise return to caller
3923   0910             ;------------------------------------------------------------------------------
3924   0910             ;	FP REGISTERS E,D,C,B
3925   0910 00 00 00 80 HALF	.BYTE	$00,$00,$00,$80		;0.5
3926   0914             ;------------------------------------------------------------------------------
3927   0914 A0 86 01    POWERS	.BYTE	$A0,$86,$01	; 100000
3928   0917 10 27 00    	.BYTE	$10,$27,$00	; 10000
3929   091A E8 03 00    	.BYTE	$E8,$03,$00	; 1000
3930   091D 64 00 00    	.BYTE	$64,$00,$00	; 100
3931   0920 0A 00 00    	.BYTE	$0A,$00,$00	; 10
3932   0923 01 00 00    	.BYTE	$01,$00,$00	; 1
3933   0926             ;------------------------------------------------------------------------------	
3934   0926             NEGAFT:	LD	HL,INVSGN		; Negate result
basic2.asm line 3934: Label not found: (NEGAFT)
basic2.asm line 3934: label value misalligned.           (NEGAFT)
basic2.asm line 3934: unrecognized instruction.          (NEGAFT)
3935   0926             	EX	(SP),HL		; To be done after caller
basic2.asm line 3935: unrecognized instruction.          (EX)
basic2.asm line 3936: Label not found: (HL)
basic2.asm line 3936: Unused data in MS byte of argument. (2)
3936   0926 F2 00 00    	JP	(HL)		; Return to caller
3937   0929             ;------------------------------------------------------------------------------
3938   0929             ; SQR
3939   0929             ;------------------------------------------------------------------------------
basic2.asm line 3940: Label not found: (STAKFP)
basic2.asm line 3940: Unused data in MS byte of argument. (2)
3940   0929 CD 00 00    SQR:	CALL	STAKFP		; Put value on stack
3941   092C             	LD	HL,HALF		; Set power to 1/2
basic2.asm line 3941: unrecognized instruction.          (LD)
3942   092C CD 34 08    	CALL	PHLTFP		; Move 1/2 to FPREG
3943   092F             ;------------------------------------------------------------------------------
3944   092F             ; FPREG = (last) ^ FPREG
3945   092F             ;------------------------------------------------------------------------------
3946   092F             POWER:	POP	BC		; Get base
basic2.asm line 3946: Label not found: (POWER)
basic2.asm line 3946: label value misalligned.           (POWER)
basic2.asm line 3946: unrecognized argument.             (POWER)
3947   092F             	POP	DE
basic2.asm line 3947: unrecognized argument.             (DE)
basic2.asm line 3948: Label not found: (TSTSGN)
basic2.asm line 3948: Unused data in MS byte of argument. (2)
3948   092F CD 00 00    	CALL	TSTSGN		; Test sign of power
3949   0932             	LD	A,B		; Get exponent of base
basic2.asm line 3949: unrecognized instruction.          (LD)
3950   0932             	JR	Z,EXP		; Make result 1 if zero
basic2.asm line 3950: unrecognized instruction.          (JR)
basic2.asm line 3951: Label not found: (P)
basic2.asm line 3951: Unknown token: (,)
basic2.asm line 3951: Unknown token.    
basic2.asm line 3951: Label not found: (POWER1)
basic2.asm line 3951: Unused data in MS byte of argument. (2)
3951   0932 F2 00 00    	JP	P,POWER1		; Positive base - Ok
3952   0935             	OR	A		; Zero to negative power?
basic2.asm line 3952: unrecognized instruction.          (OR)
basic2.asm line 3953: Label not found: (Z)
basic2.asm line 3953: Unknown token: (,)
basic2.asm line 3953: Unknown token.    
basic2.asm line 3953: Label not found: (DZERR)
basic2.asm line 3953: Unused data in MS byte of argument. (2)
3953   0935 F2 00 00    	JP	Z,DZERR		; Yes - ?/0 Error
3954   0938             POWER1:	OR	A		; Base zero?
basic2.asm line 3954: Label not found: (POWER1)
basic2.asm line 3954: label value misalligned.           (POWER1)
basic2.asm line 3954: unrecognized instruction.          (POWER1)
basic2.asm line 3955: Label not found: (Z)
basic2.asm line 3955: Unknown token: (,)
basic2.asm line 3955: Unknown token.    
basic2.asm line 3955: Label not found: (SAVEXP)
basic2.asm line 3955: Unused data in MS byte of argument. (2)
3955   0938 F2 00 00    	JP	Z,SAVEXP		; Yes - Return zero
3956   093B             	PUSH	DE		; Save base
basic2.asm line 3956: unrecognized argument.             (DE)
3957   093B             	PUSH	BC
basic2.asm line 3957: unrecognized argument.             (BC)
3958   093B             	LD	A,C		; Get MSB of base
basic2.asm line 3958: unrecognized instruction.          (LD)
3959   093B             	OR	01111111B		; Get sign status
basic2.asm line 3959: unrecognized instruction.          (OR)
basic2.asm line 3960: Label not found: (BCDEFP)
basic2.asm line 3960: Unused data in MS byte of argument. (2)
3960   093B CD 00 00    	CALL	BCDEFP		; Move power to BCDE
basic2.asm line 3961: Label not found: (P)
basic2.asm line 3961: Unknown token: (,)
basic2.asm line 3961: Unknown token.    
basic2.asm line 3961: Label not found: (POWER2)
basic2.asm line 3961: Unused data in MS byte of argument. (2)
3961   093E F2 00 00    	JP	P,POWER2		; Positive base - Ok
3962   0941             	PUSH	DE		; Save power
basic2.asm line 3962: unrecognized argument.             (DE)
3963   0941             	PUSH	BC
basic2.asm line 3963: unrecognized argument.             (BC)
basic2.asm line 3964: Label not found: (INT)
basic2.asm line 3964: Unused data in MS byte of argument. (2)
3964   0941 CD 00 00    	CALL	INT		; Get integer of power
3965   0944             	POP	BC		; Restore power
basic2.asm line 3965: unrecognized argument.             (BC)
3966   0944             	POP	DE
basic2.asm line 3966: unrecognized argument.             (DE)
3967   0944             	PUSH	AF		; MSB of base
basic2.asm line 3967: unrecognized argument.             (AF)
basic2.asm line 3968: Label not found: (CMPNUM)
basic2.asm line 3968: Unused data in MS byte of argument. (2)
3968   0944 CD 00 00    	CALL	CMPNUM		; Power an integer?
3969   0947             	POP	HL		; Restore MSB of base
basic2.asm line 3969: unrecognized argument.             (HL)
3970   0947             	LD	A,H		; but don't affect flags
basic2.asm line 3970: unrecognized instruction.          (LD)
3971   0947             	RRA			; Exponent odd or even?
basic2.asm line 3971: unrecognized instruction.          (RRA)
3972   0947             POWER2:	POP	HL		; Restore MSB and exponent
basic2.asm line 3972: Label not found: (POWER2)
basic2.asm line 3972: label value misalligned.           (POWER2)
basic2.asm line 3972: unrecognized argument.             (POWER2)
3973   0947             	LD	(FPREG+2),HL	; Save base in FPREG
basic2.asm line 3973: unrecognized instruction.          (LD)
3974   0947             	POP	HL		; LSBs of base
basic2.asm line 3974: unrecognized argument.             (HL)
3975   0947             	LD	(FPREG),HL	; Save in FPREG
basic2.asm line 3975: unrecognized instruction.          (LD)
basic2.asm line 3976: Label not found: (C)
basic2.asm line 3976: Unknown token: (,)
basic2.asm line 3976: Unknown token.    
basic2.asm line 3976: Label not found: (NEGAFT)
basic2.asm line 3976: Unused data in MS byte of argument. (2)
3976   0947 CD 00 00    	CALL	C,NEGAFT		; Odd power - Negate result
basic2.asm line 3977: Label not found: (Z)
basic2.asm line 3977: Unknown token: (,)
basic2.asm line 3977: Unknown token.    
basic2.asm line 3977: Label not found: (INVSGN)
basic2.asm line 3977: Unused data in MS byte of argument. (2)
3977   094A CD 00 00    	CALL	Z,INVSGN		; Negative base - Negate it
3978   094D             	PUSH	DE		; Save power
basic2.asm line 3978: unrecognized argument.             (DE)
3979   094D             	PUSH	BC
basic2.asm line 3979: unrecognized argument.             (BC)
3980   094D CD C4 07    	CALL	LOG		; Get LOG of base
3981   0950             	POP	BC		; Restore power
basic2.asm line 3981: unrecognized argument.             (BC)
3982   0950             	POP	DE
basic2.asm line 3982: unrecognized argument.             (DE)
3983   0950 CD DE 07    	CALL	FPMULT		; Multiply LOG by power
3984   0953             ;------------------------------------------------------------------------------
3985   0953             ; EXP
3986   0953             ;------------------------------------------------------------------------------
basic2.asm line 3987: Label not found: (STAKFP)
basic2.asm line 3987: Unused data in MS byte of argument. (2)
3987   0953 CD 00 00    EXP:	CALL	STAKFP		; Put value on stack
3988   0956             	LD	BC,$8138		; BCDE = 1/Ln(2)
basic2.asm line 3988: unrecognized instruction.          (LD)
3989   0956             	LD	DE,$AA3B
basic2.asm line 3989: unrecognized instruction.          (LD)
3990   0956 CD DE 07    	CALL	FPMULT		; Multiply value by 1/LN(2)
3991   0959             	LD	A,(FPEXP)		; Get exponent
basic2.asm line 3991: unrecognized instruction.          (LD)
3992   0959 F4 88 00    	CP	80H+8		; Is it in range?
basic2.asm line 3993: Label not found: (NC)
basic2.asm line 3993: Unknown token: (,)
basic2.asm line 3993: Unknown token.    
3993   095C F2 12 08    	JP	NC,OVTST1		; No - Test for overflow
basic2.asm line 3994: Label not found: (INT)
basic2.asm line 3994: Unused data in MS byte of argument. (2)
3994   095F CD 00 00    	CALL	INT		; Get INT of FPREG
3995   0962             	ADD	A,80H		; For excess 128
basic2.asm line 3995: unrecognized argument.             (A,80H)
3996   0962             	ADD	A,2		; Exponent > 126?
basic2.asm line 3996: unrecognized argument.             (A,2)
basic2.asm line 3997: Label not found: (C)
basic2.asm line 3997: Unknown token: (,)
basic2.asm line 3997: Unknown token.    
3997   0962 F2 12 08    	JP	C,OVTST1		; Yes - Test for overflow
3998   0965             	PUSH	AF		; Save scaling factor
basic2.asm line 3998: unrecognized argument.             (AF)
3999   0965             	LD	HL,UNITY		; Point to 1.
basic2.asm line 3999: unrecognized instruction.          (LD)
4000   0965 CD 6A 07    	CALL	ADDPHL		; Add 1 to FPREG
basic2.asm line 4001: Label not found: (MULLN2)
basic2.asm line 4001: Unused data in MS byte of argument. (2)
4001   0968 CD 00 00    	CALL	MULLN2		; Multiply by LN(2)
4002   096B             	POP	AF		; Restore scaling factor
basic2.asm line 4002: unrecognized argument.             (AF)
4003   096B             	POP	BC		; Restore exponent
basic2.asm line 4003: unrecognized argument.             (BC)
4004   096B             	POP	DE
basic2.asm line 4004: unrecognized argument.             (DE)
4005   096B             	PUSH	AF		; Save scaling factor
basic2.asm line 4005: unrecognized argument.             (AF)
4006   096B CD 71 07    	CALL	SUBCDE		; Subtract exponent from FPREG
basic2.asm line 4007: Label not found: (INVSGN)
basic2.asm line 4007: Unused data in MS byte of argument. (2)
4007   096E CD 00 00    	CALL	INVSGN		; Negate result
4008   0971             	LD	HL,EXPTAB		; Coefficient table
basic2.asm line 4008: unrecognized instruction.          (LD)
4009   0971 CD A1 09    	CALL	SMSER1		; Sum the series
4010   0974             	LD	DE,0		; Zero LSBs
basic2.asm line 4010: unrecognized instruction.          (LD)
4011   0974             	POP	BC		; Scaling factor
basic2.asm line 4011: unrecognized argument.             (BC)
4012   0974             	LD	C,D		; Zero MSB
basic2.asm line 4012: unrecognized instruction.          (LD)
4013   0974 F2 DE 07    	JP	FPMULT		; Scale result to correct value
4014   0977             
4015   0977 08          EXPTAB:	.BYTE	8		; Table used by EXP
4016   0978 40 2E 94 74 	.BYTE	$40,$2E,$94,$74	; -1/7! (-1/5040)
4017   097C 70 4F 2E 77 	.BYTE	$70,$4F,$2E,$77	; 1/6! ( 1/720)
4018   0980 6E 02 88 7A 	.BYTE	$6E,$02,$88,$7A	; -1/5! (-1/120)
4019   0984 E6 A0 2A 7C 	.BYTE	$E6,$A0,$2A,$7C	; 1/4! ( 1/24)
4020   0988 50 AA AA 7E 	.BYTE	$50,$AA,$AA,$7E	; -1/3! (-1/6)
4021   098C FF FF 7F 7F 	.BYTE	$FF,$FF,$7F,$7F	; 1/2! ( 1/2)
4022   0990 00 00 80 81 	.BYTE	$00,$00,$80,$81	; -1/1! (-1/1)
4023   0994 00 00 00 81 	.BYTE	$00,$00,$00,$81	; 1/0! ( 1/1)
4024   0998             
basic2.asm line 4025: Label not found: (STAKFP)
basic2.asm line 4025: Unused data in MS byte of argument. (2)
4025   0998 CD 00 00    SUMSER:	CALL	STAKFP		; Put FPREG on stack
4026   099B             	LD	DE,MULT		; Multiply by "X"
basic2.asm line 4026: unrecognized instruction.          (LD)
4027   099B             	PUSH	DE		; To be done after
basic2.asm line 4027: unrecognized argument.             (DE)
4028   099B             	PUSH	HL		; Save address of table
basic2.asm line 4028: unrecognized argument.             (HL)
basic2.asm line 4029: Label not found: (BCDEFP)
basic2.asm line 4029: Unused data in MS byte of argument. (2)
4029   099B CD 00 00    	CALL	BCDEFP		; Move FPREG to BCDE
4030   099E CD DE 07    	CALL	FPMULT		; Square the value
4031   09A1             	POP	HL		; Restore address of table
basic2.asm line 4031: unrecognized argument.             (HL)
basic2.asm line 4032: Label not found: (STAKFP)
basic2.asm line 4032: Unused data in MS byte of argument. (2)
4032   09A1 CD 00 00    SMSER1:	CALL	STAKFP		; Put value on stack
4033   09A4             	LD	A,(HL)		; Get number of coefficients
basic2.asm line 4033: unrecognized instruction.          (LD)
4034   09A4             	INC	HL		; Point to start of table
basic2.asm line 4034: unrecognized instruction.          (INC)
4035   09A4 CD 34 08    	CALL	PHLTFP		; Move coefficient to FPREG
4036   09A7 06          	.BYTE	06H		; Skip "POP AF"
4037   09A8             SUMLP:	POP	AF		; Restore count
basic2.asm line 4037: Label not found: (SUMLP)
basic2.asm line 4037: label value misalligned.           (SUMLP)
basic2.asm line 4037: unrecognized argument.             (SUMLP)
4038   09A8             	POP	BC		; Restore number
basic2.asm line 4038: unrecognized argument.             (BC)
4039   09A8             	POP	DE
basic2.asm line 4039: unrecognized argument.             (DE)
4040   09A8             	DEC	A		; Cont coefficients
basic2.asm line 4040: unrecognized instruction.          (DEC)
4041   09A8             	RET	Z		; All done
basic2.asm line 4041: unrecognized argument.             (Z)
4042   09A8             	PUSH	DE		; Save number
basic2.asm line 4042: unrecognized argument.             (DE)
4043   09A8             	PUSH	BC
basic2.asm line 4043: unrecognized argument.             (BC)
4044   09A8             	PUSH	AF		; Save count
basic2.asm line 4044: unrecognized argument.             (AF)
4045   09A8             	PUSH	HL		; Save address in table
basic2.asm line 4045: unrecognized argument.             (HL)
4046   09A8 CD DE 07    	CALL	FPMULT		; Multiply FPREG by BCDE
4047   09AB             	POP	HL		; Restore address in table
basic2.asm line 4047: unrecognized argument.             (HL)
basic2.asm line 4048: Label not found: (LOADFP)
basic2.asm line 4048: Unused data in MS byte of argument. (2)
4048   09AB CD 00 00    	CALL	LOADFP		; Number at HL to BCDE
4049   09AE             	PUSH	HL		; Save address in table
basic2.asm line 4049: unrecognized argument.             (HL)
basic2.asm line 4050: Label not found: (FPADD)
basic2.asm line 4050: Unused data in MS byte of argument. (2)
4050   09AE CD 00 00    	CALL	FPADD		; Add coefficient to FPREG
4051   09B1             	POP	HL		; Restore address in table
basic2.asm line 4051: unrecognized argument.             (HL)
4052   09B1             	JR	SUMLP		; More coefficients
basic2.asm line 4052: unrecognized instruction.          (JR)
4053   09B1             ;------------------------------------------------------------------------------
4054   09B1             ; Random number generator
4055   09B1             ;------------------------------------------------------------------------------	
basic2.asm line 4056: Label not found: (TSTSGN)
basic2.asm line 4056: Unused data in MS byte of argument. (2)
4056   09B1 CD 00 00    RND:	CALL	TSTSGN		; Test sign of FPREG
4057   09B4             	LD	HL,SEED+2		; Random number seed
basic2.asm line 4057: unrecognized instruction.          (LD)
basic2.asm line 4058: Label not found: (M)
basic2.asm line 4058: Unknown token: (,)
basic2.asm line 4058: Unknown token.    
basic2.asm line 4058: Label not found: (RESEED)
basic2.asm line 4058: Unused data in MS byte of argument. (2)
4058   09B4 F2 00 00    	JP	M,RESEED		; Negative - Re-seed
4059   09B7             	LD	HL,LSTRND		; Last random number
basic2.asm line 4059: unrecognized instruction.          (LD)
4060   09B7 CD 34 08    	CALL	PHLTFP		; Move last RND to FPREG
4061   09BA             	LD	HL,SEED+2		; Random number seed
basic2.asm line 4061: unrecognized instruction.          (LD)
4062   09BA             	RET	Z		; Return if RND(0)
basic2.asm line 4062: unrecognized argument.             (Z)
4063   09BA             	ADD	A,(HL)		; Add (SEED)+2)
basic2.asm line 4063: unrecognized argument.             (A,(HL))
4064   09BA             	AND	00000111B		; 0 to 7
basic2.asm line 4064: unrecognized instruction.          (AND)
4065   09BA             	LD	B,0
basic2.asm line 4065: unrecognized instruction.          (LD)
4066   09BA             	LD	(HL),A		; Re-save seed
basic2.asm line 4066: unrecognized instruction.          (LD)
4067   09BA             	INC	HL		; Move to coefficient table
basic2.asm line 4067: unrecognized instruction.          (INC)
4068   09BA             	ADD	A,A		; 4 bytes
basic2.asm line 4068: unrecognized argument.             (A,A)
4069   09BA             	ADD	A,A		; per entry
basic2.asm line 4069: unrecognized argument.             (A,A)
4070   09BA             	LD	C,A		; BC = Offset into table
basic2.asm line 4070: unrecognized instruction.          (LD)
4071   09BA             	ADD	HL,BC		; Point to coefficient
basic2.asm line 4071: unrecognized argument.             (HL,BC)
basic2.asm line 4072: Label not found: (LOADFP)
basic2.asm line 4072: Unused data in MS byte of argument. (2)
4072   09BA CD 00 00    	CALL	LOADFP		; Coefficient to BCDE
4073   09BD CD DE 07    	CALL	FPMULT		; Multiply FPREG by coefficient
4074   09C0             	LD	A,(SEED+1)	; Get (SEED+1)
basic2.asm line 4074: unrecognized instruction.          (LD)
4075   09C0             	INC	A		; Add 1
basic2.asm line 4075: unrecognized instruction.          (INC)
4076   09C0             	AND	00000011B		; 0 to 3
basic2.asm line 4076: unrecognized instruction.          (AND)
4077   09C0             	LD	B,0
basic2.asm line 4077: unrecognized instruction.          (LD)
4078   09C0 F4 01 00    	CP	1		; Is it zero?
4079   09C3             	ADC	A,B		; Yes - Make it 1
basic2.asm line 4079: unrecognized argument.             (A,B)
4080   09C3             	LD	(SEED+1),A	; Re-save seed
basic2.asm line 4080: unrecognized instruction.          (LD)
4081   09C3             	LD	HL,RNDTAB-4	; Addition table
basic2.asm line 4081: unrecognized instruction.          (LD)
4082   09C3             	ADD	A,A		; 4 bytes
basic2.asm line 4082: unrecognized argument.             (A,A)
4083   09C3             	ADD	A,A		; per entry
basic2.asm line 4083: unrecognized argument.             (A,A)
4084   09C3             	LD	C,A		; BC = Offset into table
basic2.asm line 4084: unrecognized instruction.          (LD)
4085   09C3             	ADD	HL,BC		; Point to value
basic2.asm line 4085: unrecognized argument.             (HL,BC)
4086   09C3 CD 6A 07    	CALL	ADDPHL		; Add value to FPREG
basic2.asm line 4087: Label not found: (BCDEFP)
basic2.asm line 4087: Unused data in MS byte of argument. (2)
4087   09C6 CD 00 00    RND1:	CALL	BCDEFP		; Move FPREG to BCDE
4088   09C9             	LD	A,E		; Get LSB
basic2.asm line 4088: unrecognized instruction.          (LD)
4089   09C9             	LD	E,C		; LSB = MSB
basic2.asm line 4089: unrecognized instruction.          (LD)
4090   09C9             	XOR	01001111B		; Fiddle around
basic2.asm line 4090: unrecognized instruction.          (XOR)
4091   09C9             	LD	C,A		; New MSB
basic2.asm line 4091: unrecognized instruction.          (LD)
4092   09C9             	LD	(HL),80H		; Set exponent
basic2.asm line 4092: unrecognized instruction.          (LD)
4093   09C9             	DEC	HL		; Point to MSB
basic2.asm line 4093: unrecognized instruction.          (DEC)
4094   09C9             	LD	B,(HL)		; Get MSB
basic2.asm line 4094: unrecognized instruction.          (LD)
4095   09C9             	LD	(HL),80H		; Make value -0.5
basic2.asm line 4095: unrecognized instruction.          (LD)
4096   09C9             	LD	HL,SEED		; Random number seed
basic2.asm line 4096: unrecognized instruction.          (LD)
4097   09C9             	INC	(HL)		; Count seed
basic2.asm line 4097: unrecognized instruction.          (INC)
4098   09C9             	LD	A,(HL)		; Get seed
basic2.asm line 4098: unrecognized instruction.          (LD)
4099   09C9             	SUB	171		; Do it modulo 171
basic2.asm line 4099: unrecognized argument.             (171)
4100   09C9             	JR	NZ,RND2		; Non-zero - Ok
basic2.asm line 4100: unrecognized instruction.          (JR)
4101   09C9             	LD	(HL),A		; Zero seed
basic2.asm line 4101: unrecognized instruction.          (LD)
4102   09C9             	INC	C		; Fillde about
basic2.asm line 4102: unrecognized instruction.          (INC)
4103   09C9             	DEC	D		; with the
basic2.asm line 4103: unrecognized instruction.          (DEC)
4104   09C9             	INC	E		; number
basic2.asm line 4104: unrecognized instruction.          (INC)
basic2.asm line 4105: Label not found: (BNORM)
basic2.asm line 4105: Unused data in MS byte of argument. (2)
4105   09C9 CD 00 00    RND2:	CALL	BNORM		; Normalise number
4106   09CC             	LD	HL,LSTRND		; Save random number
basic2.asm line 4106: unrecognized instruction.          (LD)
basic2.asm line 4107: Label not found: (FPTHL)
basic2.asm line 4107: Unused data in MS byte of argument. (2)
4107   09CC F2 00 00    	JP	FPTHL		; Move FPREG to last and return
4108   09CF             
4109   09CF             RESEED:	LD	(HL),A		; Re-seed random numbers
basic2.asm line 4109: Label not found: (RESEED)
basic2.asm line 4109: label value misalligned.           (RESEED)
basic2.asm line 4109: unrecognized instruction.          (RESEED)
4110   09CF             	DEC	HL
basic2.asm line 4110: unrecognized instruction.          (DEC)
4111   09CF             	LD	(HL),A
basic2.asm line 4111: unrecognized instruction.          (LD)
4112   09CF             	DEC	HL
basic2.asm line 4112: unrecognized instruction.          (DEC)
4113   09CF             	LD	(HL),A
basic2.asm line 4113: unrecognized instruction.          (LD)
4114   09CF             	JR	RND1		; Return RND seed
basic2.asm line 4114: unrecognized instruction.          (JR)
4115   09CF             
4116   09CF 68 B1 46 68 RNDTAB:	.BYTE	068H,0B1H,046H,068H	; Table used by RND
4117   09D3 99 E9 92 69 	.BYTE	099H,0E9H,092H,069H
4118   09D7 10 D1 75 68 	.BYTE	010H,0D1H,075H,068H
4119   09DB             ;------------------------------------------------------------------------------
4120   09DB             ; COS, SIN
4121   09DB             ;------------------------------------------------------------------------------
4122   09DB             COS:	LD	HL,HALFPI		; Point to PI/2
basic2.asm line 4122: Label not found: (COS)
basic2.asm line 4122: label value misalligned.           (COS)
basic2.asm line 4122: unrecognized instruction.          (COS)
4123   09DB CD 6A 07    	CALL	ADDPHL		; Add it to PPREG
basic2.asm line 4124: Label not found: (STAKFP)
basic2.asm line 4124: Unused data in MS byte of argument. (2)
4124   09DE CD 00 00    SIN:	CALL	STAKFP		; Put angle on stack
4125   09E1             	LD	BC,8349H		; BCDE = 2 PI
basic2.asm line 4125: unrecognized instruction.          (LD)
4126   09E1             	LD	DE,0FDBH
basic2.asm line 4126: unrecognized instruction.          (LD)
basic2.asm line 4127: Label not found: (FPBCDE)
basic2.asm line 4127: Unused data in MS byte of argument. (2)
4127   09E1 CD 00 00    	CALL	FPBCDE		; Move 2 PI to FPREG
4128   09E4             	POP	BC		; Restore angle
basic2.asm line 4128: unrecognized argument.             (BC)
4129   09E4             	POP	DE
basic2.asm line 4129: unrecognized argument.             (DE)
4130   09E4 CD EF 07    	CALL	DVBCDE		; Divide angle by 2 PI
basic2.asm line 4131: Label not found: (STAKFP)
basic2.asm line 4131: Unused data in MS byte of argument. (2)
4131   09E7 CD 00 00    	CALL	STAKFP		; Put it on stack
basic2.asm line 4132: Label not found: (INT)
basic2.asm line 4132: Unused data in MS byte of argument. (2)
4132   09EA CD 00 00    	CALL	INT		; Get INT of result
4133   09ED             	POP	BC		; Restore number
basic2.asm line 4133: unrecognized argument.             (BC)
4134   09ED             	POP	DE
basic2.asm line 4134: unrecognized argument.             (DE)
4135   09ED CD 71 07    	CALL	SUBCDE		; Make it 0 <= value < 1
4136   09F0             	LD	HL,QUARTR		; Point to 0.25
basic2.asm line 4136: unrecognized instruction.          (LD)
4137   09F0 CD 6D 07    	CALL	SUBPHL		; Subtract value from 0.25
basic2.asm line 4138: Label not found: (TSTSGN)
basic2.asm line 4138: Unused data in MS byte of argument. (2)
4138   09F3 CD 00 00    	CALL	TSTSGN		; Test sign of value
4139   09F6             	SCF			; Flag positive
basic2.asm line 4139: unrecognized instruction.          (SCF)
basic2.asm line 4140: Label not found: (P)
basic2.asm line 4140: Unknown token: (,)
basic2.asm line 4140: Unknown token.    
basic2.asm line 4140: Label not found: (SIN1)
basic2.asm line 4140: Unused data in MS byte of argument. (2)
4140   09F6 F2 00 00    	JP	P,SIN1		; Positive - Ok
basic2.asm line 4141: Label not found: (ROUND)
basic2.asm line 4141: Unused data in MS byte of argument. (2)
4141   09F9 CD 00 00    	CALL	ROUND		; Add 0.5 to value
basic2.asm line 4142: Label not found: (TSTSGN)
basic2.asm line 4142: Unused data in MS byte of argument. (2)
4142   09FC CD 00 00    	CALL	TSTSGN		; Test sign of value
4143   09FF             	OR	A		; Flag negative
basic2.asm line 4143: unrecognized instruction.          (OR)
4144   09FF             SIN1:	PUSH	AF		; Save sign
basic2.asm line 4144: Label not found: (SIN1)
basic2.asm line 4144: label value misalligned.           (SIN1)
basic2.asm line 4144: unrecognized argument.             (SIN1)
basic2.asm line 4145: Label not found: (P)
basic2.asm line 4145: Unknown token: (,)
basic2.asm line 4145: Unknown token.    
basic2.asm line 4145: Label not found: (INVSGN)
basic2.asm line 4145: Unused data in MS byte of argument. (2)
4145   09FF CD 00 00    	CALL	P,INVSGN		; Negate value if positive
4146   0A02             	LD	HL,QUARTR		; Point to 0.25
basic2.asm line 4146: unrecognized instruction.          (LD)
4147   0A02 CD 6A 07    	CALL	ADDPHL		; Add 0.25 to value
4148   0A05             	POP	AF		; Restore sign
basic2.asm line 4148: unrecognized argument.             (AF)
basic2.asm line 4149: Label not found: (NC)
basic2.asm line 4149: Unknown token: (,)
basic2.asm line 4149: Unknown token.    
basic2.asm line 4149: Label not found: (INVSGN)
basic2.asm line 4149: Unused data in MS byte of argument. (2)
4149   0A05 CD 00 00    	CALL	NC,INVSGN		; Negative - Make positive
4150   0A08             	LD	HL,SINTAB		; Coefficient table
basic2.asm line 4150: unrecognized instruction.          (LD)
4151   0A08 F2 98 09    	JP	SUMSER		; Evaluate sum of series
4152   0A0B             
4153   0A0B DB 0F 49 81 HALFPI:	.BYTE	0DBH,00FH,049H,081H	; 1.5708 (PI/2)
4154   0A0F             
4155   0A0F 00 00 00 7F QUARTR:	.BYTE	000H,000H,000H,07FH	; 0.25
4156   0A13             
4157   0A13 05          SINTAB:	.BYTE	5		; Table used by SIN
4158   0A14 BA D7 1E 86 	.BYTE	0BAH,0D7H,01EH,086H	; 39.711
4159   0A18 64 26 99 87 	.BYTE	064H,026H,099H,087H	; -76.575
4160   0A1C 58 34 23 87 	.BYTE	058H,034H,023H,087H	; 81.602
4161   0A20 E0 5D A5 86 	.BYTE	0E0H,05DH,0A5H,086H	; -41.342
4162   0A24 DA 0F 49 83 	.BYTE	0DAH,00FH,049H,083H	; 6.2832
4163   0A28             ;------------------------------------------------------------------------------
4164   0A28             ; TANgent
4165   0A28             ;------------------------------------------------------------------------------
basic2.asm line 4166: Label not found: (STAKFP)
basic2.asm line 4166: Unused data in MS byte of argument. (2)
4166   0A28 CD 00 00    TAN:	CALL	STAKFP		; Put angle on stack
4167   0A2B CD DE 09    	CALL	SIN		; Get SIN of angle
4168   0A2E             	POP	BC		; Restore angle
basic2.asm line 4168: unrecognized argument.             (BC)
4169   0A2E             	POP	HL
basic2.asm line 4169: unrecognized argument.             (HL)
basic2.asm line 4170: Label not found: (STAKFP)
basic2.asm line 4170: Unused data in MS byte of argument. (2)
4170   0A2E CD 00 00    	CALL	STAKFP		; Save SIN of angle
4171   0A31             	EX	DE,HL		; BCDE = Angle
basic2.asm line 4171: unrecognized instruction.          (EX)
basic2.asm line 4172: Label not found: (FPBCDE)
basic2.asm line 4172: Unused data in MS byte of argument. (2)
4172   0A31 CD 00 00    	CALL	FPBCDE		; Angle to FPREG
basic2.asm line 4173: Label not found: (COS)
basic2.asm line 4173: Unused data in MS byte of argument. (2)
4173   0A34 CD 00 00    	CALL	COS		; Get COS of angle
basic2.asm line 4174: Label not found: (DIV)
basic2.asm line 4174: Unused data in MS byte of argument. (2)
4174   0A37 F2 00 00    	JP	DIV		; TAN = SIN / COS
4175   0A3A             ;------------------------------------------------------------------------------
4176   0A3A             ; Arctangent
4177   0A3A             ;------------------------------------------------------------------------------
basic2.asm line 4178: Label not found: (TSTSGN)
basic2.asm line 4178: Unused data in MS byte of argument. (2)
4178   0A3A CD 00 00    ATN:	CALL	TSTSGN		; Test sign of value
basic2.asm line 4179: Label not found: (M)
basic2.asm line 4179: Unknown token: (,)
basic2.asm line 4179: Unknown token.    
basic2.asm line 4179: Label not found: (NEGAFT)
basic2.asm line 4179: Unused data in MS byte of argument. (2)
4179   0A3D CD 00 00    	CALL	M,NEGAFT		; Negate result after if -ve
basic2.asm line 4180: Label not found: (M)
basic2.asm line 4180: Unknown token: (,)
basic2.asm line 4180: Unknown token.    
basic2.asm line 4180: Label not found: (INVSGN)
basic2.asm line 4180: Unused data in MS byte of argument. (2)
4180   0A40 CD 00 00    	CALL	M,INVSGN		; Negate value if -ve
4181   0A43             	LD	A,(FPEXP)		; Get exponent
basic2.asm line 4181: unrecognized instruction.          (LD)
4182   0A43 F4 81 00    	CP	81H		; Number less than 1?
basic2.asm line 4183: Label not found: (C)
basic2.asm line 4183: Unknown token: (,)
basic2.asm line 4183: Unknown token.    
basic2.asm line 4183: Label not found: (ATN1)
basic2.asm line 4183: Unused data in MS byte of argument. (2)
4183   0A46 F2 00 00    	JP	C,ATN1		; Yes - Get arc tangnt
4184   0A49             	LD	BC,8100H		; BCDE = 1
basic2.asm line 4184: unrecognized instruction.          (LD)
4185   0A49             	LD	D,C
basic2.asm line 4185: unrecognized instruction.          (LD)
4186   0A49             	LD	E,C
basic2.asm line 4186: unrecognized instruction.          (LD)
4187   0A49 CD EF 07    	CALL	DVBCDE		; Get reciprocal of number
4188   0A4C             	LD	HL,SUBPHL		; Sub angle from PI/2
basic2.asm line 4188: unrecognized instruction.          (LD)
4189   0A4C             	PUSH	HL		; Save for angle > 1
basic2.asm line 4189: unrecognized argument.             (HL)
4190   0A4C             ATN1:	LD	HL,ATNTAB		; Coefficient table
basic2.asm line 4190: Label not found: (ATN1)
basic2.asm line 4190: label value misalligned.           (ATN1)
basic2.asm line 4190: unrecognized instruction.          (ATN1)
4191   0A4C CD 98 09    	CALL	SUMSER		; Evaluate sum of series
4192   0A4F             	LD	HL,HALFPI		; PI/2 - angle in case > 1
basic2.asm line 4192: unrecognized instruction.          (LD)
4193   0A4F C9          	RET			; Number > 1 - Sub from PI/2
4194   0A50             
4195   0A50 09          ATNTAB:	.BYTE	9		; Table used by ATN
4196   0A51 4A D7 3B 78 	.BYTE	04AH,0D7H,03BH,078H	; 1/17
4197   0A55 02 6E 84 7B 	.BYTE	002H,06EH,084H,07BH	; -1/15
4198   0A59 FE C1 2F 7C 	.BYTE	0FEH,0C1H,02FH,07CH	; 1/13
4199   0A5D 74 31 9A 7D 	.BYTE	074H,031H,09AH,07DH	; -1/11
4200   0A61 84 3D 5A 7D 	.BYTE	084H,03DH,05AH,07DH	; 1/9
4201   0A65 C8 7F 91 7E 	.BYTE	0C8H,07FH,091H,07EH	; -1/7
4202   0A69 E4 BB 4C 7E 	.BYTE	0E4H,0BBH,04CH,07EH	; 1/5
4203   0A6D 6C AA AA 7F 	.BYTE	06CH,0AAH,0AAH,07FH	; -1/3
4204   0A71 00 00 00 81 	.BYTE	000H,000H,000H,081H	; 1/1
4205   0A75             ;------------------------------------------------------------------------------
4206   0A75             ;	End of F L O A T I N G	P O I N T	M A T H
4207   0A75             ;------------------------------------------------------------------------------	
4208   0A75             
4209   0A75             ;------------------------------------------------------------------------------
4210   0A75             ; HARDWARE SPECIFIC ROUTINES
4211   0A75             ;------------------------------------------------------------------------------
4212   0A75             WAITCR:	RST	10H		; Get a character in
basic2.asm line 4212: Label not found: (WAITCR)
basic2.asm line 4212: label value misalligned.           (WAITCR)
basic2.asm line 4212: unrecognized argument.             (WAITCR)
4213   0A75 F4 03 00    	CP	$03		; Is it <Break>?
basic2.asm line 4214: Label not found: (Z)
basic2.asm line 4214: Unknown token: (,)
basic2.asm line 4214: Unknown token.    
basic2.asm line 4214: Label not found: (PRNTOK)
basic2.asm line 4214: Unused data in MS byte of argument. (2)
4214   0A78 F2 00 00    	JP	Z,PRNTOK		; Go to prompt
4215   0A7B F4 0D 00    	CP	$0D		; Is it <Enter>?
4216   0A7E             	JR	NZ,WAITCR		; No, keep looking
basic2.asm line 4216: unrecognized instruction.          (JR)
4217   0A7E C9          	RET			; Yes, return to calling routine
4218   0A7F             ;------------------------------------------------------------------------------
4219   0A7F             ; OUTPUT CHARACTER ROUTINE
4220   0A7F             ;------------------------------------------------------------------------------
4221   0A7F             OUTC:	PUSH	AF		; Save character
basic2.asm line 4221: Label not found: (OUTC)
basic2.asm line 4221: label value misalligned.           (OUTC)
basic2.asm line 4221: unrecognized argument.             (OUTC)
4222   0A7F             	LD	A,(CTLOFG)	; Get control "O" flag
basic2.asm line 4222: unrecognized instruction.          (LD)
4223   0A7F             	OR	A		; Is it set?
basic2.asm line 4223: unrecognized instruction.          (OR)
basic2.asm line 4224: Label not found: (NZ)
basic2.asm line 4224: Unknown token: (,)
basic2.asm line 4224: Unknown token.    
basic2.asm line 4224: Label not found: (POPAF)
basic2.asm line 4224: Unused data in MS byte of argument. (2)
4224   0A7F F2 00 00    	JP	NZ,POPAF		; Yes - don't output
4225   0A82             	POP	AF		; Restore character
basic2.asm line 4225: unrecognized argument.             (AF)
4226   0A82             	PUSH	BC		; Save buffer length
basic2.asm line 4226: unrecognized argument.             (BC)
4227   0A82             	PUSH	AF		; Save character
basic2.asm line 4227: unrecognized argument.             (AF)
4228   0A82 F4 20 00    	CP	$20		; Is it a control code?
4229   0A85             	JR	C,DINPOS		; Yes - Don't INC POS(X)
basic2.asm line 4229: unrecognized instruction.          (JR)
4230   0A85             	LD	A,(LWIDTH)	; Get line width
basic2.asm line 4230: unrecognized instruction.          (LD)
4231   0A85             	LD	B,A		; To B
basic2.asm line 4231: unrecognized instruction.          (LD)
4232   0A85             	LD	A,(CURPOS)	; Get cursor position
basic2.asm line 4232: unrecognized instruction.          (LD)
4233   0A85             	INC	B		; Width 255?
basic2.asm line 4233: unrecognized instruction.          (INC)
4234   0A85             	JR	Z,INCLEN		; Yes - No width limit
basic2.asm line 4234: unrecognized instruction.          (JR)
4235   0A85             	DEC	B		; Restore width
basic2.asm line 4235: unrecognized instruction.          (DEC)
basic2.asm line 4236: Label not found: (B)
basic2.asm line 4236: Unused data in MS byte of argument. (2)
4236   0A85 F4 00 00    	CP	B		; At end of line?
basic2.asm line 4237: Label not found: (Z)
basic2.asm line 4237: Unknown token: (,)
basic2.asm line 4237: Unknown token.    
basic2.asm line 4237: Label not found: (PRNTCR)
basic2.asm line 4237: Unused data in MS byte of argument. (2)
4237   0A88 CD 00 00    	CALL	Z,PRNTCR		; Yes - output CRLF
4238   0A8B             INCLEN:	INC	A		; Move on one character
basic2.asm line 4238: Label not found: (INCLEN)
basic2.asm line 4238: label value misalligned.           (INCLEN)
basic2.asm line 4238: unrecognized instruction.          (INCLEN)
4239   0A8B             	LD	(CURPOS),A	; Save new position
basic2.asm line 4239: unrecognized instruction.          (LD)
4240   0A8B             DINPOS:	POP	AF		; Restore character
basic2.asm line 4240: Label not found: (DINPOS)
basic2.asm line 4240: label value misalligned.           (DINPOS)
basic2.asm line 4240: unrecognized argument.             (DINPOS)
4241   0A8B             	POP	BC		; Restore buffer length
basic2.asm line 4241: unrecognized argument.             (BC)
4242   0A8B             	PUSH	AF		; Save character
basic2.asm line 4242: unrecognized argument.             (AF)
4243   0A8B             	PUSH	BC		; Save buffer length
basic2.asm line 4243: unrecognized argument.             (BC)
4244   0A8B             	LD	C,A		; Character to C
basic2.asm line 4244: unrecognized instruction.          (LD)
4245   0A8B             
4246   0A8B             	RST	08H		; Send it
basic2.asm line 4246: unrecognized argument.             (08H)
4247   0A8B             
4248   0A8B             	POP	BC		; Restore buffer length
basic2.asm line 4248: unrecognized argument.             (BC)
4249   0A8B             	POP	AF		; Restore character
basic2.asm line 4249: unrecognized argument.             (AF)
4250   0A8B C9          	RET
4251   0A8C             ;------------------------------------------------------------------------------
4252   0A8C             ; INPUT CHARACTER ROUTINE
4253   0A8C             ;------------------------------------------------------------------------------
4254   0A8C             CLOTST:	RST	10H		; Get input character
basic2.asm line 4254: Label not found: (CLOTST)
basic2.asm line 4254: label value misalligned.           (CLOTST)
basic2.asm line 4254: unrecognized argument.             (CLOTST)
4255   0A8C F4 0F 00    	CP	CTRLO		; Is it control "O"?
4256   0A8F             	RET	NZ		; No don't flip flag
basic2.asm line 4256: unrecognized argument.             (NZ)
4257   0A8F             	LD	A,(CTLOFG)	; Get flag
basic2.asm line 4257: unrecognized instruction.          (LD)
4258   0A8F             	CPL			; Flip it
basic2.asm line 4258: unrecognized instruction.          (CPL)
4259   0A8F             	LD	(CTLOFG),A	; Put it back
basic2.asm line 4259: unrecognized instruction.          (LD)
4260   0A8F             	XOR	A		; Null character
basic2.asm line 4260: unrecognized instruction.          (XOR)
4261   0A8F C9          	RET
4262   0A90             ;------------------------------------------------------------------------------	
4263   0A90             ; NMI Vectors to here
4264   0A90             ;------------------------------------------------------------------------------	
4265   0A90             BREAK:	PUSH	AF		; Save character
basic2.asm line 4265: Label not found: (BREAK)
basic2.asm line 4265: label value misalligned.           (BREAK)
basic2.asm line 4265: unrecognized argument.             (BREAK)
4266   0A90             	LD	A,$FF		; Set the break flag
basic2.asm line 4266: unrecognized instruction.          (LD)
4267   0A90             	LD	(BRKFLG),A	; Flag break
basic2.asm line 4267: unrecognized instruction.          (LD)
4268   0A90             	POP	AF		; Restore character
basic2.asm line 4268: unrecognized argument.             (AF)
4269   0A90             
4270   0A90             ARETN:	RETN			; Return from NMI
basic2.asm line 4270: Label not found: (ARETN)
basic2.asm line 4270: label value misalligned.           (ARETN)
basic2.asm line 4270: unrecognized instruction.          (ARETN)
4271   0A90             ;------------------------------------------------------------------------------
4272   0A90             ; SCREEN (ABREVIATED, THIS ROUTINE USELESS FOR THIS SBC)
4273   0A90             ;------------------------------------------------------------------------------
4274   0A90 CD 21 07    SCREEN:	CALL	GETINT		; Get integer 0 to 255
4275   0A93             	PUSH	AF		; Save column
basic2.asm line 4275: unrecognized argument.             (AF)
basic2.asm line 4276: Label not found: (CHKSYN)
basic2.asm line 4276: Unused data in MS byte of argument. (2)
4276   0A93 CD 00 00    	CALL	CHKSYN		; Make sure "," follows
4277   0A96 2C          	.BYTE	','
4278   0A97 CD 21 07    	CALL	GETINT		; Get integer 0 to 255
4279   0A9A C9          	RET
4280   0A9B             ;------------------------------------------------------------------------------
4281   0A9B             ; Set a pixel at X,Y
4282   0A9B             ;------------------------------------------------------------------------------
4283   0A9B CD AD 0A    PSET:	CALL	GETXY		; GET (X,Y)
4284   0A9E 00          	NOP			; REST OF CODE HERE
4285   0A9F C9          	RET
4286   0AA0             ;------------------------------------------------------------------------------
4287   0AA0             ; Clear a pixel at X,Y
4288   0AA0             ;------------------------------------------------------------------------------
4289   0AA0 CD AD 0A    RESET:	CALL	GETXY		; GET (X,Y)
4290   0AA3 00          	NOP			; REST OF CODE HERE
4291   0AA4 C9          	RET
4292   0AA5             ;------------------------------------------------------------------------------
4293   0AA5             ; Check if pixel is set at X,Y
4294   0AA5             ;------------------------------------------------------------------------------
4295   0AA5 CD AD 0A    POINT:	CALL	GETXY		; GET (X,Y)
4296   0AA8             	XOR	A		; ZERO OUT A
basic2.asm line 4296: unrecognized instruction.          (XOR)
4297   0AA8             	LD	B,A		; SET AB TO $0000
basic2.asm line 4297: unrecognized instruction.          (LD)
basic2.asm line 4298: Label not found: (ABPASS)
basic2.asm line 4298: Unused data in MS byte of argument. (2)
4298   0AA8 CD 00 00    	CALL	ABPASS		; PASS THE ZERO BACK TO THE PROGRAM
4299   0AAB 00          	NOP		; REST OF CODE HERE
4300   0AAC C9          	RET
4301   0AAD             ;------------------------------------------------------------------------------
4302   0AAD CD 2B 04    GETXY:	CALL	GETNUM		; Get a number
basic2.asm line 4303: Label not found: (DEINT)
basic2.asm line 4303: Unused data in MS byte of argument. (2)
4303   0AB0 CD 00 00    	CALL	DEINT		; Get integer -32768 to 32767
4304   0AB3             	LD	(X1POS),DE		; Save X value
basic2.asm line 4304: unrecognized instruction.          (LD)
basic2.asm line 4305: Label not found: (CHKSYN)
basic2.asm line 4305: Unused data in MS byte of argument. (2)
4305   0AB3 CD 00 00    	CALL	CHKSYN		; Make sure "," follows
4306   0AB6 2C          	.BYTE	','
4307   0AB7 CD 2B 04    	CALL	GETNUM		; Get a number
basic2.asm line 4308: Label not found: (DEINT)
basic2.asm line 4308: Unused data in MS byte of argument. (2)
4308   0ABA CD 00 00    	CALL	DEINT		; Get integer -32768 to 32767
4309   0ABD             	LD	(Y1POS),DE		; Save Y value
basic2.asm line 4309: unrecognized instruction.          (LD)
4310   0ABD C9          	RET	
4311   0ABE             ;------------------------------------------------------------------------------
4312   0ABE             ; LOAD Program
4313   0ABE             ;------------------------------------------------------------------------------
4314   0ABE F4 AE 00    LOAD:	CP	ZTIMES		; "*" token?
basic2.asm line 4315: Label not found: (Z)
basic2.asm line 4315: Unknown token: (,)
basic2.asm line 4315: Unknown token.    
basic2.asm line 4315: Label not found: (SNERR)
basic2.asm line 4315: Unused data in MS byte of argument. (2)
4315   0AC1 F2 00 00    	JP	Z,SNERR		; Yes, Sorry we don't handle Array Loads
basic2.asm line 4316: Label not found: (CLRPTR)
basic2.asm line 4316: Unused data in MS byte of argument. (2)
4316   0AC4 CD 00 00    	CALL	CLRPTR		; No, it's a new program, perform "NEW"
4317   0AC7             	
4318   0AC7             	EX	AF,AF'		; Save registers to alternate set AF
basic2.asm line 4318: unrecognized instruction.          (EX)
4319   0AC7             	EXX			; Save BC,DE,HL
basic2.asm line 4319: unrecognized instruction.          (EXX)
4320   0AC7             	LD	HL,TLOAD		; Get "Send Program file now." text
basic2.asm line 4320: unrecognized instruction.          (LD)
4321   0AC7 CD 2A 06    	CALL	PRS		; Print it
4322   0ACA             
basic2.asm line 4323: Label not found: (LINTHX)
basic2.asm line 4323: Unused data in MS byte of argument. (2)
4323   0ACA CD 00 00    	CALL	LINTHX		; Load INTEL hex file	
4324   0ACD             
4325   0ACD             	EXX			; Reclaim the registers BC,DE,HL
basic2.asm line 4325: unrecognized instruction.          (EXX)
4326   0ACD             	EX	AF,AF'		; Reclaim registers AF
basic2.asm line 4326: unrecognized instruction.          (EX)
4327   0ACD F2 85 00    	JP	WSTART		; Warm start the new program
4328   0AD0             ;------------------------------------------------------------------------------
4329   0AD0             ; Load file in Intel Hex format
4330   0AD0             ; [Intel Hex Format is:
4331   0AD0             ; 1) Colon (Frame 0)
4332   0AD0             ; 2) Record Length Field (Frames 1 and 2)
4333   0AD0             ; 3) Load Address Field (Frames 3,4,5,6)
4334   0AD0             ; 4) Record Type Field (Frames 7 and 8)
4335   0AD0             ; 5) Data Field (Frames 9 to 9+2*(Record Length)-1
4336   0AD0             ; 6) Checksum Field - Sum of all byte values from Record Length to and 
4337   0AD0             ;   including Checksum Field = 0 ]
4338   0AD0             ;------------------------------------------------------------------------------
4339   0AD0             LINTHX:	LD	A,CR	; Transmit CR LF first
basic2.asm line 4339: Label not found: (LINTHX)
basic2.asm line 4339: label value misalligned.           (LINTHX)
basic2.asm line 4339: unrecognized instruction.          (LINTHX)
4340   0AD0             	RST	08H
basic2.asm line 4340: unrecognized argument.             (08H)
4341   0AD0             	LD	A,LF
basic2.asm line 4341: unrecognized instruction.          (LD)
4342   0AD0             	RST	08H
basic2.asm line 4342: unrecognized argument.             (08H)
basic2.asm line 4343: Label not found: (LOADC)
basic2.asm line 4343: Unused data in MS byte of argument. (2)
4343   0AD0 CD 00 00    LOAD0:	CALL	LOADC	; See if user types <ctrl-c>, or <spc>, else RET
4344   0AD3 F4 03 00    	CP	$03	; User must have chickened <ctrl-c> out	
4345   0AD6             	RET	Z	; Return him to the prompt
basic2.asm line 4345: unrecognized argument.             (Z)
4346   0AD6 F4 3A 00    LOAD1:	CP	$3A	; Colon <:>? Start of line of Intel Hex file
4347   0AD9             	JR	NZ,LOADERR	; If not, must be error, Tell him and quit
basic2.asm line 4347: unrecognized instruction.          (JR)
4348   0AD9             	LD	E,0	; First two Characters is the Record Length Field
basic2.asm line 4348: unrecognized instruction.          (LD)
4349   0AD9 CD FE 0A    	CALL	LOADC2	; Get us two characters into BC, convert it to a byte <A>
4350   0ADC             	LD	D,A	; Load Record Length count into D
basic2.asm line 4350: unrecognized instruction.          (LD)
4351   0ADC CD FE 0A    	CALL	LOADC2	; Get next two characters, Memory Load Address <H>
4352   0ADF             	LD	H,A	; put value in H register.
basic2.asm line 4352: unrecognized instruction.          (LD)
4353   0ADF CD FE 0A    	CALL	LOADC2	; Get next two characters, Memory Load Address <L>
4354   0AE2             	LD	L,A	; put value in L register.
basic2.asm line 4354: unrecognized instruction.          (LD)
4355   0AE2 CD FE 0A    	CALL	LOADC2	; Get next two characters, Record Field Type
4356   0AE5 F4 01 00    	CP	$01	; Record Field Type 00 is Data, 01 is End of File
4357   0AE8             	JR	NZ,LOAD2	; Must be the end of that file
basic2.asm line 4357: unrecognized instruction.          (JR)
4358   0AE8 CD FE 0A    	CALL	LOADC2	; Get next two characters, assemble into byte
4359   0AEB             	LD	A,E	; Recall the Checksum byte
basic2.asm line 4359: unrecognized instruction.          (LD)
4360   0AEB             	AND	A	; Is it Zero?
basic2.asm line 4360: unrecognized instruction.          (AND)
4361   0AEB             	RET	Z	; Must be o.k., go back for some more, else
basic2.asm line 4361: unrecognized argument.             (Z)
4362   0AEB             	JR	LOADERR	; Checksums don't add up, Error out
basic2.asm line 4362: unrecognized instruction.          (JR)
4363   0AEB             		
4364   0AEB             LOAD2:	LD	A,D	; Retrieve line character counter	
basic2.asm line 4364: Label not found: (LOAD2)
basic2.asm line 4364: label value misalligned.           (LOAD2)
basic2.asm line 4364: unrecognized instruction.          (LOAD2)
4365   0AEB             	AND	A	; Are we done with this line?
basic2.asm line 4365: unrecognized instruction.          (AND)
4366   0AEB             	JR	Z,LOAD3	; Get two more ascii characters, build a byte and checksum
basic2.asm line 4366: unrecognized instruction.          (JR)
4367   0AEB             
4368   0AEB CD FE 0A    	CALL	LOADC2	; Get next two chars, convert to byte in A, checksum it
4369   0AEE             	LD	(HL),A	; Checksum OK, move converted byte in A to memory location
basic2.asm line 4369: unrecognized instruction.          (LD)
4370   0AEE             	INC	HL	; Increment pointer to next memory location	
basic2.asm line 4370: unrecognized instruction.          (INC)
4371   0AEE             	DEC	D	; Decrement line character counter
basic2.asm line 4371: unrecognized instruction.          (DEC)
4372   0AEE             	JR	LOAD2	; and keep loading into memory until line is complete
basic2.asm line 4372: unrecognized instruction.          (JR)
4373   0AEE             		
4374   0AEE CD FE 0A    LOAD3:	CALL	LOADC2	; Get two chars, build byte and checksum
4375   0AF1             	LD	A,E	; Check the checksum value
basic2.asm line 4375: unrecognized instruction.          (LD)
4376   0AF1             	AND	A	; Is it zero?
basic2.asm line 4376: unrecognized instruction.          (AND)
4377   0AF1             	JR	Z,LOAD0	; If the checksum is still ok, continue on, else
basic2.asm line 4377: unrecognized instruction.          (JR)
4378   0AF1             
4379   0AF1             LOADERR:	LD	HL,CKSUMERR	; Get "Checksum Error" message
basic2.asm line 4379: Label not found: (LOADERR)
basic2.asm line 4379: label value misalligned.           (LOADERR)
basic2.asm line 4379: unrecognized instruction.          (LOADERR)
4380   0AF1 CD 2A 06    	CALL	PRS	; Print Message from (HL) and terminate the load
4381   0AF4 F2 85 00    	JP	WSTART	; Restart BASIC warm
4382   0AF7             ;------------------------------------------------------------------------------
4383   0AF7             ; Load a character from the console, 
4384   0AF7             ; must be $20-$7F to be valid (no control characters)
4385   0AF7             ; <Ctrl-c> breaks with the Zero Flag set
4386   0AF7             ;------------------------------------------------------------------------------	
4387   0AF7             LOADC:	RST  10H		; RX a Character
basic2.asm line 4387: Label not found: (LOADC)
basic2.asm line 4387: label value misalligned.           (LOADC)
basic2.asm line 4387: unrecognized argument.             (LOADC)
4388   0AF7 F4 03 00    	CP   $03		; <ctrl-c> User break?
4389   0AFA             	RET  Z			
basic2.asm line 4389: unrecognized argument.             (Z)
4390   0AFA F4 20 00    	CP   $20		; <space> or better?
4391   0AFD             	JR   C,LOADC	; Do it again until we get something usable
basic2.asm line 4391: unrecognized instruction.          (JR)
4392   0AFD C9          	RET
4393   0AFE             ;------------------------------------------------------------------------------
4394   0AFE             ; Loads two ASCII characters from the console (assuming them to be HEX 0-9 A-F)
4395   0AFE             ; into B and C, converts them into a byte value in A and updates Checksum in E
4396   0AFE             ;------------------------------------------------------------------------------
basic2.asm line 4397: Label not found: (LOADC)
basic2.asm line 4397: Unused data in MS byte of argument. (2)
4397   0AFE CD 00 00    LOADC2:	CALL LOADC	; Get us a valid character to work with
4398   0B01             	LD   B,A		; Load it in B
basic2.asm line 4398: unrecognized instruction.          (LD)
basic2.asm line 4399: Label not found: (LOADC)
basic2.asm line 4399: Unused data in MS byte of argument. (2)
4399   0B01 CD 00 00    	CALL LOADC	; Get us another character
4400   0B04             	LD   C,A		; load it in C
basic2.asm line 4400: unrecognized instruction.          (LD)
basic2.asm line 4401: Label not found: (BCTOA)
basic2.asm line 4401: Unused data in MS byte of argument. (2)
4401   0B04 CD 00 00    	CALL BCTOA	; Convert ASCII to byte
4402   0B07             	LD   C,A		; Build the checksum
basic2.asm line 4402: unrecognized instruction.          (LD)
4403   0B07             	LD   A,E
basic2.asm line 4403: unrecognized instruction.          (LD)
4404   0B07 91          	SUB  C		; The checksum should always equal zero when checked
4405   0B08             	LD   E,A		; Save the checksum back where it came from
basic2.asm line 4405: unrecognized instruction.          (LD)
4406   0B08             	LD   A,C		; Retrieve the byte and go back
basic2.asm line 4406: unrecognized instruction.          (LD)
4407   0B08 C9          	RET
4408   0B09             ;------------------------------------------------------------------------------
4409   0B09             ; Convert ASCII characters in B C registers to a byte value in A
4410   0B09             ;------------------------------------------------------------------------------
4411   0B09             BCTOA:	LD   A,B		; Move the hi order byte to A
basic2.asm line 4411: Label not found: (BCTOA)
basic2.asm line 4411: label value misalligned.           (BCTOA)
basic2.asm line 4411: unrecognized instruction.          (BCTOA)
4412   0B09             	SUB  $30		; Take it down from Ascii
basic2.asm line 4412: unrecognized argument.             ($30)
4413   0B09 F4 0A 00    	CP   $0A		; Are we in the 0-9 range here?
4414   0B0C             	JR   C,BCTOA1	; If so, get the next nybble
basic2.asm line 4414: unrecognized instruction.          (JR)
4415   0B0C             	SUB  $07		; But if A-F, take it down some more
basic2.asm line 4415: unrecognized argument.             ($07)
4416   0B0C             BCTOA1:	RLCA		; Rotate the nybble from low to high
basic2.asm line 4416: Label not found: (BCTOA1)
basic2.asm line 4416: label value misalligned.           (BCTOA1)
basic2.asm line 4416: unrecognized instruction.          (BCTOA1)
4417   0B0C             	RLCA		; One bit at a time
basic2.asm line 4417: unrecognized instruction.          (RLCA)
4418   0B0C             	RLCA		; Until we
basic2.asm line 4418: unrecognized instruction.          (RLCA)
4419   0B0C             	RLCA		; Get there with it
basic2.asm line 4419: unrecognized instruction.          (RLCA)
4420   0B0C             	LD   B,A		; Save the converted high nybble
basic2.asm line 4420: unrecognized instruction.          (LD)
4421   0B0C             	LD   A,C		; Now get the low order byte
basic2.asm line 4421: unrecognized instruction.          (LD)
4422   0B0C             	SUB  $30		; Convert it down from Ascii
basic2.asm line 4422: unrecognized argument.             ($30)
4423   0B0C F4 0A 00    	CP   $0A		; 0-9 at this point?
4424   0B0F             	JR   C,BCTOA2	; Good enough then, but
basic2.asm line 4424: unrecognized instruction.          (JR)
4425   0B0F             	SUB  $07		; Take off 7 more if it's A-F
basic2.asm line 4425: unrecognized argument.             ($07)
4426   0B0F             BCTOA2:	ADD  A,B		; Add in the high order nybble
basic2.asm line 4426: Label not found: (BCTOA2)
basic2.asm line 4426: label value misalligned.           (BCTOA2)
basic2.asm line 4426: unrecognized argument.             (BCTOA2)
4427   0B0F C9          	RET	
4428   0B10             ;------------------------------------------------------------------------------
4429   0B10             ; SAVE Program 
4430   0B10             ;------------------------------------------------------------------------------
4431   0B10 F4 AE 00    SAVE:	CP	ZTIMES		; "*" Token following? ("SAVE*")
basic2.asm line 4432: Label not found: (Z)
basic2.asm line 4432: Unknown token: (,)
basic2.asm line 4432: Unknown token.    
basic2.asm line 4432: Label not found: (SNERR)
basic2.asm line 4432: Unused data in MS byte of argument. (2)
4432   0B13 F2 00 00    	JP	Z,SNERR		; Yes, We have no Array SAve
4433   0B16             	PUSH	HL		; Save code string address
basic2.asm line 4433: unrecognized argument.             (HL)
4434   0B16             	EX	AF,AF'		; Save registers AF	
basic2.asm line 4434: unrecognized instruction.          (EX)
4435   0B16             	EXX			; Save BC,DE,HL
basic2.asm line 4435: unrecognized instruction.          (EXX)
4436   0B16             	LD	DE,$3120		; Start of BASIC vars storage	
basic2.asm line 4436: unrecognized instruction.          (LD)
4437   0B16             	LD	HL,(ARREND)	; End of Arrays
basic2.asm line 4437: unrecognized instruction.          (LD)
4438   0B16             	
basic2.asm line 4439: Label not found: (SINTLX)
basic2.asm line 4439: Unused data in MS byte of argument. (2)
4439   0B16 CD 00 00    	CALL	SINTLX		; DO THE INTEL HEX SAVE
4440   0B19             	
4441   0B19             	EXX			; Reclaim BC,DE,HL
basic2.asm line 4441: unrecognized instruction.          (EXX)
4442   0B19             	EX	AF,AF'		; Reclaim AF
basic2.asm line 4442: unrecognized instruction.          (EX)
4443   0B19             	POP	HL		; Reclaim code string address
basic2.asm line 4443: unrecognized argument.             (HL)
4444   0B19 C9          	RET			; Finished, return to BASIC
4445   0B1A             ;------------------------------------------------------------------------------
4446   0B1A             ; SAVE DE thru HL in Intel Hex format
4447   0B1A             ;------------------------------------------------------------------------------
4448   0B1A             SINTLX:	XOR	A		; CLEAR ACCUM AND FLAGS
basic2.asm line 4448: Label not found: (SINTLX)
basic2.asm line 4448: label value misalligned.           (SINTLX)
basic2.asm line 4448: unrecognized instruction.          (SINTLX)
4449   0B1A             	PUSH	DE		; TEMP SAVE START ADDRESS
basic2.asm line 4449: unrecognized argument.             (DE)
4450   0B1A             	SBC	HL,DE		; HL= END-START
basic2.asm line 4450: unrecognized instruction.          (SBC)
4451   0B1A             	LD	D,H		; TRANSFER TO DE
basic2.asm line 4451: unrecognized instruction.          (LD)
4452   0B1A             	LD	E,L
basic2.asm line 4452: unrecognized instruction.          (LD)
4453   0B1A             	POP	HL		; PUT START ADDRESS INTO HL
basic2.asm line 4453: unrecognized argument.             (HL)
4454   0B1A             SAVE1:	LD	A,D		; ARE WE SAVING < $100 BYTES?
basic2.asm line 4454: Label not found: (SAVE1)
basic2.asm line 4454: label value misalligned.           (SAVE1)
basic2.asm line 4454: unrecognized instruction.          (SAVE1)
4455   0B1A             	OR	A		; TEST D
basic2.asm line 4455: unrecognized instruction.          (OR)
4456   0B1A             	JR	Z,LSTREC		; LAST RECORD
basic2.asm line 4456: unrecognized instruction.          (JR)
4457   0B1A             
4458   0B1A             	LD	A,$FF		; OTHERWISE, RECORD LENGTH = $FF
basic2.asm line 4458: unrecognized instruction.          (LD)
basic2.asm line 4459: Label not found: (DMPREC)
basic2.asm line 4459: Unused data in MS byte of argument. (2)
4459   0B1A CD 00 00    	CALL	DMPREC		; WRITE THE NEXT $FF BYTES RECORD
4460   0B1D             	JR	SAVE1		; KEEP GOING UNTIL FINISHED	
basic2.asm line 4460: unrecognized instruction.          (JR)
4461   0B1D             
4462   0B1D             LSTREC:	LD	A,E		; BETWEEN $00 AND $FF BYTES LEFT TO SAVE
basic2.asm line 4462: Label not found: (LSTREC)
basic2.asm line 4462: label value misalligned.           (LSTREC)
basic2.asm line 4462: unrecognized instruction.          (LSTREC)
basic2.asm line 4463: Label not found: (DMPREC)
basic2.asm line 4463: Unused data in MS byte of argument. (2)
4463   0B1D CD 00 00    	CALL	DMPREC		; DUMP THE FINAL RECORD
4464   0B20             
4465   0B20             	LD	A,$0D		; CREATE THE CLOSING LINE
basic2.asm line 4465: unrecognized instruction.          (LD)
4466   0B20             	RST	08H		; PRINT THE CR
basic2.asm line 4466: unrecognized argument.             (08H)
4467   0B20             	LD	A,$0A		; LOAD A LF
basic2.asm line 4467: unrecognized instruction.          (LD)
4468   0B20             	RST	08H		; PRINT IT
basic2.asm line 4468: unrecognized argument.             (08H)
4469   0B20             	LD	A,':'		; EOF LINE
basic2.asm line 4469: unrecognized instruction.          (LD)
4470   0B20             	RST	08H		; PRINT THE COLON AT START OF LINE
basic2.asm line 4470: unrecognized argument.             (08H)
4471   0B20             	XOR	A		; RECORD LENGTH = $00
basic2.asm line 4471: unrecognized instruction.          (XOR)
basic2.asm line 4472: Label not found: (HEXOUT)
basic2.asm line 4472: Unused data in MS byte of argument. (2)
4472   0B20 CD 00 00    	CALL 	HEXOUT		; OUTPUT IT
4473   0B23             	XOR	A		; ADDRESS=$0000
basic2.asm line 4473: unrecognized instruction.          (XOR)
basic2.asm line 4474: Label not found: (HEXOUT)
basic2.asm line 4474: Unused data in MS byte of argument. (2)
4474   0B23 CD 00 00    	CALL	HEXOUT		; OUTPUT IT
4475   0B26             	XOR	A		; OUTPUT IT AGAIN
basic2.asm line 4475: unrecognized instruction.          (XOR)
basic2.asm line 4476: Label not found: (HEXOUT)
basic2.asm line 4476: Unused data in MS byte of argument. (2)
4476   0B26 CD 00 00    	CALL	HEXOUT		; FINISH ADDRESS
4477   0B29             	LD	A,$01		; EOF INDICATION
basic2.asm line 4477: unrecognized instruction.          (LD)
basic2.asm line 4478: Label not found: (HEXOUT)
basic2.asm line 4478: Unused data in MS byte of argument. (2)
4478   0B29 CD 00 00    	CALL	HEXOUT		; OUTPUT THAT
4479   0B2C             	LD	A,$FF		; FAKE THE CHECKSUM
basic2.asm line 4479: unrecognized instruction.          (LD)
basic2.asm line 4480: Label not found: (HEXOUT)
basic2.asm line 4480: Unused data in MS byte of argument. (2)
4480   0B2C CD 00 00    	CALL	HEXOUT		; OUTPUT THE FINAL BYTE
4481   0B2F             	LD	A,$0D		; CARRIAGE RET
basic2.asm line 4481: unrecognized instruction.          (LD)
4482   0B2F             	RST	08H
basic2.asm line 4482: unrecognized argument.             (08H)
4483   0B2F             	LD	A,$0A		; LF
basic2.asm line 4483: unrecognized instruction.          (LD)
4484   0B2F             	RST	08H
basic2.asm line 4484: unrecognized argument.             (08H)
4485   0B2F C9          	RET			; FINISHED AT LAST
4486   0B30             ;------------------------------------------------------------------------------
4487   0B30             ; ENTER WITH A=# OF BYTES IN RECORD, HL POINTS AT START OF RECORD TO SAVE
4488   0B30             ;------------------------------------------------------------------------------
4489   0B30             DMPREC:	LD	B,A		; SAVE LENGTH IN B
basic2.asm line 4489: Label not found: (DMPREC)
basic2.asm line 4489: label value misalligned.           (DMPREC)
basic2.asm line 4489: unrecognized instruction.          (DMPREC)
4490   0B30             	LD	A,$0D		; PRINT CR
basic2.asm line 4490: unrecognized instruction.          (LD)
4491   0B30             	RST	08H		; OUTPUT
basic2.asm line 4491: unrecognized argument.             (08H)
4492   0B30             	LD	A,$0A		; PRINT LF
basic2.asm line 4492: unrecognized instruction.          (LD)
4493   0B30             	RST	08H		; OUTPUT
basic2.asm line 4493: unrecognized argument.             (08H)
4494   0B30             	LD	A,':'		; COLON IS START OF LINE
basic2.asm line 4494: unrecognized instruction.          (LD)
4495   0B30             	RST	08H		; OUTPUT IT
basic2.asm line 4495: unrecognized argument.             (08H)
4496   0B30             	LD	A,B		; GET LENGTH BACK
basic2.asm line 4496: unrecognized instruction.          (LD)
4497   0B30             	LD	C,A		; START THE CHECKSUM
basic2.asm line 4497: unrecognized instruction.          (LD)
basic2.asm line 4498: Label not found: (HEXOUT)
basic2.asm line 4498: Unused data in MS byte of argument. (2)
4498   0B30 CD 00 00    	CALL	HEXOUT		; WRITE (ACCUM) THE LENGTH OUT
basic2.asm line 4499: Label not found: (HLHEX)
basic2.asm line 4499: Unused data in MS byte of argument. (2)
4499   0B33 CD 00 00    	CALL	HLHEX		; OUTPUT HL IN HEX
4500   0B36             	LD	A,C		; GET CHECKSUM
basic2.asm line 4500: unrecognized instruction.          (LD)
4501   0B36             	ADD	A,H		; ADD HIGH ADDRESS
basic2.asm line 4501: unrecognized argument.             (A,H)
4502   0B36             	ADD	A,L		; ADD LOW  ADDRESS
basic2.asm line 4502: unrecognized argument.             (A,L)
4503   0B36             	LD	C,A		; SAVE NEW CHECKSUM
basic2.asm line 4503: unrecognized instruction.          (LD)
4504   0B36             	XOR	A		; DATA TYPE = $00
basic2.asm line 4504: unrecognized instruction.          (XOR)
basic2.asm line 4505: Label not found: (HEXOUT)
basic2.asm line 4505: Unused data in MS byte of argument. (2)
4505   0B36 CD 00 00    	CALL	HEXOUT		; OUTPUT THE BYTE
4506   0B39             
4507   0B39             ; Removed INC B from this line
4508   0B39             	
4509   0B39             MEMHEX:	LD	A,(HL)		; GET MEMORY CONTENTS
basic2.asm line 4509: Label not found: (MEMHEX)
basic2.asm line 4509: label value misalligned.           (MEMHEX)
basic2.asm line 4509: unrecognized instruction.          (MEMHEX)
basic2.asm line 4510: Label not found: (HEXOUT)
basic2.asm line 4510: Unused data in MS byte of argument. (2)
4510   0B39 CD 00 00    	CALL	HEXOUT		; AND OUTPUT
4511   0B3C             	LD	A,(HL)		; GET MEMORY CONTENTS AGAIN
basic2.asm line 4511: unrecognized instruction.          (LD)
4512   0B3C             	ADD	A,C		; ADD TO CHECKSUM
basic2.asm line 4512: unrecognized argument.             (A,C)
4513   0B3C             	LD	C,A		; STORE NEW CHECKSUM
basic2.asm line 4513: unrecognized instruction.          (LD)
4514   0B3C             	INC	HL		; NEXT MEMORY LOCATION
basic2.asm line 4514: unrecognized instruction.          (INC)
4515   0B3C             	
4516   0B3C             	DEC	DE		; REDUCE THE POINTER
basic2.asm line 4516: unrecognized instruction.          (DEC)
4517   0B3C             	
4518   0B3C             	DJNZ	MEMHEX		; CONTINUE UNTIL RECORD SAVED
basic2.asm line 4518: unrecognized instruction.          (DJNZ)
4519   0B3C             	LD	A,C		; RETRIEVE CHECKSUM
basic2.asm line 4519: unrecognized instruction.          (LD)
4520   0B3C             	CPL			; INVERT TO CREATE ONE'S COMPLEMENT
basic2.asm line 4520: unrecognized instruction.          (CPL)
4521   0B3C             	INC	A		; CREATE TWO'S COMPLEMENT
basic2.asm line 4521: unrecognized instruction.          (INC)
basic2.asm line 4522: Label not found: (HEXOUT)
basic2.asm line 4522: Unused data in MS byte of argument. (2)
4522   0B3C CD 00 00    	CALL	HEXOUT		; WRITE CHECKSUM OUT
4523   0B3F C9          	RET	
4524   0B40             
4525   0B40             HLHEX:	LD	A,H		; GET H
basic2.asm line 4525: Label not found: (HLHEX)
basic2.asm line 4525: label value misalligned.           (HLHEX)
basic2.asm line 4525: unrecognized instruction.          (HLHEX)
basic2.asm line 4526: Label not found: (HEXOUT)
basic2.asm line 4526: Unused data in MS byte of argument. (2)
4526   0B40 CD 00 00    	CALL	HEXOUT		; CONVERT IT
4527   0B43             	LD	A,L
basic2.asm line 4527: unrecognized instruction.          (LD)
4528   0B43             HEXOUT:	PUSH 	AF		;Convert the upper nybble to Hex ASCII first
basic2.asm line 4528: Label not found: (HEXOUT)
basic2.asm line 4528: label value misalligned.           (HEXOUT)
basic2.asm line 4528: unrecognized argument.             (HEXOUT)
4529   0B43                    	RRA			;Slowly
basic2.asm line 4529: unrecognized instruction.          (RRA)
4530   0B43                    	RRA			; Rotate
basic2.asm line 4530: unrecognized instruction.          (RRA)
4531   0B43                    	RRA			;  It
basic2.asm line 4531: unrecognized instruction.          (RRA)
4532   0B43                    	RRA			;   Over to the right
basic2.asm line 4532: unrecognized instruction.          (RRA)
basic2.asm line 4533: Label not found: (HEXOP)
basic2.asm line 4533: Unused data in MS byte of argument. (2)
4533   0B43 CD 00 00           	CALL 	HEXOP		;Convert the nybble D3-D0 to Hex ASCII
4534   0B46                    	POP 	AF		;Retrieve the original value and convert the lower nybble
basic2.asm line 4534: unrecognized argument.             (AF)
4535   0B46             HEXOP:  	AND 	$0F		;Convert the nybble at D3-D2-D1-D0 to Hex ASCII char
basic2.asm line 4535: Label not found: (HEXOP)
basic2.asm line 4535: label value misalligned.           (HEXOP)
basic2.asm line 4535: unrecognized instruction.          (HEXOP)
4536   0B46 F4 0A 00           	CP 	10		;Neat trick for converting nybble to ASCII
4537   0B49                    	SBC 	A,$69
basic2.asm line 4537: unrecognized instruction.          (SBC)
4538   0B49 27                 	DAA			;Uses DAA trick
4539   0B4A             	RST	08H
basic2.asm line 4539: unrecognized argument.             (08H)
4540   0B4A C9          	RET
4541   0B4B             ;------------------------------------------------------------------------------
4542   0B4B             ; The EXIT command used to exit BASIC to monitor, now it just resets BASIC
4543   0B4B             ;------------------------------------------------------------------------------
4544   0B4B F2 00 00    EXIT:	JP	$0000		; No monitor to Exit to...
4545   0B4E             ;------------------------------------------------------------------------------
4546   0B4E             ;------------------------------------------------------------------------------
4547   0B4E             ; FUNCTION ADDRESS TABLE
4548   0B4E             ;------------------------------------------------------------------------------
4549   0B4E             ;------------------------------------------------------------------------------
4550   0B4E 29 08       FNCTAB:	.WORD	SGN
basic2.asm line 4551: Label not found: (INT)
basic2.asm line 4551: Label not found: (INT)
4551   0B50 00 00       	.WORD	INT
4552   0B52 2F 08       	.WORD	ABS
4553   0B54 23 31       	.WORD	USR
basic2.asm line 4554: Label not found: (FRE)
basic2.asm line 4554: Label not found: (FRE)
4554   0B56 00 00       	.WORD	FRE
4555   0B58 F4 06       	.WORD	INP
basic2.asm line 4556: Label not found: (POS)
basic2.asm line 4556: Label not found: (POS)
4556   0B5A 00 00       	.WORD	POS
4557   0B5C 29 09       	.WORD	SQR
4558   0B5E B1 09       	.WORD	RND
4559   0B60 C4 07       	.WORD	LOG
4560   0B62 53 09       	.WORD	EXP
basic2.asm line 4561: Label not found: (COS)
basic2.asm line 4561: Label not found: (COS)
4561   0B64 00 00       	.WORD	COS
4562   0B66 DE 09       	.WORD	SIN
4563   0B68 28 0A       	.WORD	TAN
4564   0B6A 3A 0A       	.WORD	ATN
4565   0B6C 2E 07       	.WORD	PEEK
4566   0B6E 42 07       	.WORD	HEX		; Was "DEEK"
4567   0B70 A5 0A       	.WORD	POINT
basic2.asm line 4568: Label not found: (LEN)
basic2.asm line 4568: Label not found: (LEN)
4568   0B72 00 00       	.WORD	LEN
4569   0B74 F8 05       	.WORD	STR
4570   0B76 E5 06       	.WORD	VAL
basic2.asm line 4571: Label not found: (ASC)
basic2.asm line 4571: Label not found: (ASC)
4571   0B78 00 00       	.WORD	ASC
basic2.asm line 4572: Label not found: (CHR)
basic2.asm line 4572: Label not found: (CHR)
4572   0B7A 00 00       	.WORD	CHR
4573   0B7C AF 06       	.WORD	LEFT
4574   0B7E C5 06       	.WORD	RIGHT
basic2.asm line 4575: Label not found: (MID)
basic2.asm line 4575: Label not found: (MID)
4575   0B80 00 00       	.WORD	MID
4576   0B82             ;------------------------------------------------------------------------------
4577   0B82             ; RESERVED WORD LIST
4578   0B82             ;------------------------------------------------------------------------------
4579   0B82 C5 4E 44    WORDS:	.BYTE	'E'+ $80,"ND"
4580   0B85 C6 4F 52    	.BYTE	'F'+80H,"OR"
4581   0B88 CE 45 58 54 	.BYTE	'N'+80H,"EXT"
4582   0B8C C4 41 54 41 	.BYTE	'D'+80H,"ATA"
4583   0B90 C9 4E 50 55 	.BYTE	'I'+80H,"NPUT"
4583   0B94 54 
4584   0B95 C4 49 4D    	.BYTE	'D'+80H,"IM"
4585   0B98 D2 45 41 44 	.BYTE	'R'+80H,"EAD"
4586   0B9C CC 45 54    	.BYTE	'L'+80H,"ET"
4587   0B9F C7 4F 54 4F 	.BYTE	'G'+80H,"OTO"
4588   0BA3 D2 55 4E    	.BYTE	'R'+80H,"UN"
4589   0BA6 C9 46       	.BYTE	'I'+80H,"F"
4590   0BA8 D2 45 53 54 	.BYTE	'R'+80H,"ESTORE"
4590   0BAC 4F 52 45 
4591   0BAF C7 4F 53 55 	.BYTE	'G'+80H,"OSUB"
4591   0BB3 42 
4592   0BB4 D2 45 54 55 	.BYTE	'R'+80H,"ETURN"
4592   0BB8 52 4E 
4593   0BBA D2 45 4D    	.BYTE	'R'+80H,"EM"
4594   0BBD D3 54 4F 50 	.BYTE	'S'+80H,"TOP"
4595   0BC1 CF 55 54    	.BYTE	'O'+80H,"UT"
4596   0BC4 CF 4E       	.BYTE	'O'+80H,"N"
4597   0BC6 CE 55 4C 4C 	.BYTE	'N'+80H,"ULL"
4598   0BCA D7 41 49 54 	.BYTE	'W'+80H,"AIT"
4599   0BCE C4 45 46    	.BYTE	'D'+80H,"EF"
4600   0BD1 D0 4F 4B 45 	.BYTE	'P'+80H,"OKE"
4601   0BD5 D6 45 43 54 	.BYTE	'V'+80H,"ECTOR"
4601   0BD9 4F 52 
4602   0BDB D3 43 52 45 	.BYTE	'S'+80H,"CREEN"
4602   0BDF 45 4E 
4603   0BE1 CC 49 4E 45 	.BYTE	'L'+80H,"INES"
4603   0BE5 53 
4604   0BE6 C3 4C 53    	.BYTE	'C'+80H,"LS"
4605   0BE9 D7 49 44 54 	.BYTE	'W'+80H,"IDTH"
4605   0BED 48 
4606   0BEE C5 58 49 54 	.BYTE	'E'+80H,"XIT"		; formerly MONITR
4607   0BF2 D3 45 54    	.BYTE	'S'+80H,"ET"
4608   0BF5 D2 45 53 45 	.BYTE	'R'+80H,"ESET"
4608   0BF9 54 
4609   0BFA D0 52 49 4E 	.BYTE	'P'+80H,"RINT"
4609   0BFE 54 
4610   0BFF C3 4F 4E 54 	.BYTE	'C'+80H,"ONT"
4611   0C03 CC 49 53 54 	.BYTE	'L'+80H,"IST"
4612   0C07 C3 4C 45 41 	.BYTE	'C'+80H,"LEAR"
4612   0C0B 52 
4613   0C0C CC 4F 41 44 	.BYTE	'L'+80H,"OAD"
4614   0C10 D3 41 56 45 	.BYTE	'S'+80H,"AVE"
4615   0C14 CE 45 57    	.BYTE	'N'+80H,"EW"
4616   0C17 D4 41 42 28 	.BYTE	'T'+80H,"AB("
4617   0C1B D4 4F       	.BYTE	'T'+80H,"O"
4618   0C1D C6 4E       	.BYTE	'F'+80H,"N"
4619   0C1F D3 50 43 28 	.BYTE	'S'+80H,"PC("
4620   0C23 D4 48 45 4E 	.BYTE	'T'+80H,"HEN"
4621   0C27 CE 4F 54    	.BYTE	'N'+80H,"OT"
4622   0C2A D3 54 45 50 	.BYTE	'S'+80H,"TEP"
4623   0C2E             ;------------------------------------------------------------------------------
4624   0C2E AB          	.BYTE	'+'+80H
4625   0C2F AD          	.BYTE	'-'+80H
4626   0C30 AA          	.BYTE	'*'+80H
4627   0C31 AF          	.BYTE	'/'+80H
4628   0C32 DE          	.BYTE	'^'+80H
4629   0C33 C1 4E 44    	.BYTE	'A'+80H,"ND"
4630   0C36 CF 52       	.BYTE	'O'+80H,"R"
4631   0C38 BE          	.BYTE	'>'+80H
4632   0C39 BD          	.BYTE	'='+80H
4633   0C3A BC          	.BYTE	'<'+80H
4634   0C3B             ;------------------------------------------------------------------------------
4635   0C3B D3 47 4E    	.BYTE	'S'+80H,"GN"
4636   0C3E C9 4E 54    	.BYTE	'I'+80H,"NT"
4637   0C41 C1 42 53    	.BYTE	'A'+80H,"BS"
4638   0C44 D5 53 52    	.BYTE	'U'+80H,"SR"
4639   0C47 C6 52 45    	.BYTE	'F'+80H,"RE"
4640   0C4A C9 4E 50    	.BYTE	'I'+80H,"NP"
4641   0C4D D0 4F 53    	.BYTE	'P'+80H,"OS"
4642   0C50 D3 51 52    	.BYTE	'S'+80H,"QR"
4643   0C53 D2 4E 44    	.BYTE	'R'+80H,"ND"
4644   0C56 CC 4F 47    	.BYTE	'L'+80H,"OG"
4645   0C59 C5 58 50    	.BYTE	'E'+80H,"XP"
4646   0C5C C3 4F 53    	.BYTE	'C'+80H,"OS"
4647   0C5F D3 49 4E    	.BYTE	'S'+80H,"IN"
4648   0C62 D4 41 4E    	.BYTE	'T'+80H,"AN"
4649   0C65 C1 54 4E    	.BYTE	'A'+80H,"TN"
4650   0C68 D0 45 45 4B 	.BYTE	'P'+80H,"EEK"
4651   0C6C C8 45 58    	.BYTE	'H'+80H,"EX"		;Was DEEK
4652   0C6F D0 4F 49 4E 	.BYTE	'P'+80H,"OINT"
4652   0C73 54 
4653   0C74 CC 45 4E    	.BYTE	'L'+80H,"EN"
4654   0C77 D3 54 52 24 	.BYTE	'S'+80H,"TR$"
4655   0C7B D6 41 4C    	.BYTE	'V'+80H,"AL"
4656   0C7E C1 53 43    	.BYTE	'A'+80H,"SC"
4657   0C81 C3 48 52 24 	.BYTE	'C'+80H,"HR$"
4658   0C85 CC 45 46 54 	.BYTE	'L'+80H,"EFT$"
4658   0C89 24 
4659   0C8A D2 49 47 48 	.BYTE	'R'+80H,"IGHT$"
4659   0C8E 54 24 
4660   0C90 CD 49 44 24 	.BYTE	'M'+80H,"ID$"
4661   0C94 80          	.BYTE	80H			; End of list marker
4662   0C95             ;------------------------------------------------------------------------------
4663   0C95             ; KEYWORD ADDRESS TABLE
4664   0C95             ;------------------------------------------------------------------------------
basic2.asm line 4665: Label not found: (PEND)
basic2.asm line 4665: Label not found: (PEND)
4665   0C95 00 00       WORDTB:	.WORD	PEND
basic2.asm line 4666: Label not found: (FOR)
basic2.asm line 4666: Label not found: (FOR)
4666   0C97 00 00       	.WORD	FOR
basic2.asm line 4667: Label not found: (NEXT)
basic2.asm line 4667: Label not found: (NEXT)
4667   0C99 00 00       	.WORD	NEXT
4668   0C9B D8 02       	.WORD	DATA
4669   0C9D 8C 03       	.WORD	INPUT
basic2.asm line 4670: Label not found: (DIM)
basic2.asm line 4670: Label not found: (DIM)
4670   0C9F 00 00       	.WORD	DIM
basic2.asm line 4671: Label not found: (READ)
basic2.asm line 4671: Label not found: (READ)
4671   0CA1 00 00       	.WORD	READ
4672   0CA3 E0 02       	.WORD	LET
4673   0CA5 B6 02       	.WORD	GOTO
4674   0CA7 AD 02       	.WORD	RUN
4675   0CA9 1B 03       	.WORD	IF
basic2.asm line 4676: Label not found: (RESTOR)
basic2.asm line 4676: Label not found: (RESTOR)
4676   0CAB 00 00       	.WORD	RESTOR
basic2.asm line 4677: Label not found: (GOSUB)
basic2.asm line 4677: Label not found: (GOSUB)
4677   0CAD 00 00       	.WORD	GOSUB
basic2.asm line 4678: Label not found: (RETURN)
basic2.asm line 4678: Label not found: (RETURN)
4678   0CAF 00 00       	.WORD	RETURN
basic2.asm line 4679: Label not found: (REM)
basic2.asm line 4679: Label not found: (REM)
4679   0CB1 00 00       	.WORD	REM
basic2.asm line 4680: Label not found: (STOP)
basic2.asm line 4680: Label not found: (STOP)
4680   0CB3 00 00       	.WORD	STOP
4681   0CB5 FD 06       	.WORD	POUT
4682   0CB7 08 03       	.WORD	ON
4683   0CB9 5E 02       	.WORD	NULL
4684   0CBB 03 07       	.WORD	WAIT
4685   0CBD B7 05       	.WORD	DEF
4686   0CBF 34 07       	.WORD	POKE
4687   0CC1 58 07       	.WORD	VECTOR
4688   0CC3 90 0A       	.WORD	SCREEN
4689   0CC5 63 07       	.WORD	LINES
basic2.asm line 4690: Label not found: (CLS)
basic2.asm line 4690: Label not found: (CLS)
4690   0CC7 00 00       	.WORD	CLS
4691   0CC9 5F 07       	.WORD	WIDTH
4692   0CCB 4B 0B       	.WORD	EXIT
4693   0CCD 9B 0A       	.WORD	PSET
4694   0CCF A0 0A       	.WORD	RESET
4695   0CD1 3A 03       	.WORD	PRINT
basic2.asm line 4696: Label not found: (CONT)
basic2.asm line 4696: Label not found: (CONT)
4696   0CD3 00 00       	.WORD	CONT
4697   0CD5 92 01       	.WORD	LIST
4698   0CD7 8A 02       	.WORD	CLEAR
4699   0CD9 BE 0A       	.WORD	LOAD
4700   0CDB 10 0B       	.WORD	SAVE
basic2.asm line 4701: Label not found: (NEW)
basic2.asm line 4701: Label not found: (NEW)
4701   0CDD 00 00       	.WORD	NEW
4702   0CDF             ;------------------------------------------------------------------------------
4703   0CDF             ; ARITHMETIC PRECEDENCE TABLE
4704   0CDF             ;------------------------------------------------------------------------------
4705   0CDF 79          PRITAB:	.BYTE	$79		; Precedence value
basic2.asm line 4706: Label not found: (PADD)
basic2.asm line 4706: Label not found: (PADD)
4706   0CE0 00 00       	.WORD	PADD		; FPREG = <last> + FPREG
4707   0CE2             
4708   0CE2 79          	.BYTE	$79		; Precedence value
basic2.asm line 4709: Label not found: (PSUB)
basic2.asm line 4709: Label not found: (PSUB)
4709   0CE3 00 00       	.WORD	PSUB		; FPREG = <last> - FPREG
4710   0CE5             
4711   0CE5 7C          	.BYTE	$7C		; Precedence value
basic2.asm line 4712: Label not found: (MULT)
basic2.asm line 4712: Label not found: (MULT)
4712   0CE6 00 00       	.WORD	MULT		; PPREG = <last> * FPREG
4713   0CE8             
4714   0CE8 7C          	.BYTE	$7C		; Precedence value
basic2.asm line 4715: Label not found: (DIV)
basic2.asm line 4715: Label not found: (DIV)
4715   0CE9 00 00       	.WORD	DIV		; FPREG = <last> / FPREG
4716   0CEB             
4717   0CEB 7F          	.BYTE	$7F		; Precedence value
basic2.asm line 4718: Label not found: (POWER)
basic2.asm line 4718: Label not found: (POWER)
4718   0CEC 00 00       	.WORD	POWER		; FPREG = <last> ^ FPREG
4719   0CEE             
4720   0CEE 50          	.BYTE	$50		; Precedence value
basic2.asm line 4721: Label not found: (PAND)
basic2.asm line 4721: Label not found: (PAND)
4721   0CEF 00 00       	.WORD	PAND		; FPREG = <last> AND FPREG
4722   0CF1             
4723   0CF1 46          	.BYTE	$46		; Precedence value
4724   0CF2 E4 04       	.WORD	POR		; FPREG = <last> OR FPREG
4725   0CF4             ;------------------------------------------------------------------------------
4726   0CF4             ; BASIC VARIABLES INITIALIZATION TABLE
4727   0CF4             ;	This "parametric data" is copied into the BASICV block on Cold Start
4728   0CF4             ;------------------------------------------------------------------------------
4729   0CF4 F2 85 00    INITAB:	JP	WSTART		; Warm start jump, located at BASICV	$00-$02
basic2.asm line 4730: Label not found: (FCERR)
basic2.asm line 4730: Unused data in MS byte of argument. (2)
4730   0CF7 F2 00 00    	JP	FCERR		; "USR (X)" jump (Set to Error)	$03-$05
4731   0CFA             
basic2.asm line 4732: Unknown token: (,)
basic2.asm line 4732: Unknown token.    
basic2.asm line 4732: Label not found: (A)
basic2.asm line 4732: Unused data in MS byte of argument. (200)
4732   0CFA D3 00       	OUT	(0),A		; "OUT p,n" skeleton	$06-$07
4733   0CFC C9          	RET			; $08
4734   0CFD             
4735   0CFD             	SUB	0		; Division support routine	$09-16
basic2.asm line 4735: unrecognized argument.             (0)
4736   0CFD             	LD	L,A	
basic2.asm line 4736: unrecognized instruction.          (LD)
4737   0CFD             	LD	A,H
basic2.asm line 4737: unrecognized instruction.          (LD)
4738   0CFD             	SBC	A,0
basic2.asm line 4738: unrecognized instruction.          (SBC)
4739   0CFD             	LD	H,A
basic2.asm line 4739: unrecognized instruction.          (LD)
4740   0CFD             	LD	A,B
basic2.asm line 4740: unrecognized instruction.          (LD)
4741   0CFD             	SBC	A,0
basic2.asm line 4741: unrecognized instruction.          (SBC)
4742   0CFD             	LD	B,A
basic2.asm line 4742: unrecognized instruction.          (LD)
4743   0CFD             	LD	A,0
basic2.asm line 4743: unrecognized instruction.          (LD)
4744   0CFD C9          	RET
4745   0CFE             
4746   0CFE 00 00 00    	.BYTE	$00,$00,$00		; Random number seed $17-19
4747   0D01             
4748   0D01             		; Table used by RND
4749   0D01 35 4A CA 99 	.BYTE	$35,$4A,$CA,$99		; -2.65145E+07 $1A-3D
4750   0D05 39 1C 76 98 	.BYTE	$39,$1C,$76,$98		;  1.61291E+07
4751   0D09 22 95 B3 98 	.BYTE	$22,$95,$B3,$98		; -1.17691E+07
4752   0D0D 0A DD 47 98 	.BYTE	$0A,$DD,$47,$98		;  1.30983E+07
4753   0D11 53 D1 99 99 	.BYTE	$53,$D1,$99,$99		; -2-01612E+07
4754   0D15 0A 1A 9F 98 	.BYTE	$0A,$1A,$9F,$98		; -1.04269E+07
4755   0D19 65 BC CD 98 	.BYTE	$65,$BC,$CD,$98		; -1.34831E+07
4756   0D1D D6 77 3E 98 	.BYTE	$D6,$77,$3E,$98		;  1.24825E+07
4757   0D21 52 C7 4F 80 	.BYTE	$52,$C7,$4F,$80		; Last random number
4758   0D25             
basic2.asm line 4759: Label not found: (A)
basic2.asm line 4759: Unknown token: (,)
basic2.asm line 4759: Unknown token.    
4759   0D25 DB 00       	IN	A,(0)		; INP (x) skeleton $3E-3F
4760   0D27 C9          	RET			; $40
4761   0D28             
4762   0D28 01          	.BYTE	$01		; Number of NULLs		$41
4763   0D29 4F          	.BYTE	79		; Terminal width (79)	$42
4764   0D2A 05          	.BYTE	5		; Width for commas (16 columns)$43
4765   0D2B 00          	.BYTE	$00		; Null after input byte flag	$44
4766   0D2C 00          	.BYTE	$00		; Output enabled (CTRLOFG)	$45
4767   0D2D 14 00       	.WORD	$0014		; Initial lines counter(20)	$46-47
4768   0D2F 14 00       	.WORD	$0014		; Initial lines number (20)	$48-49
4769   0D31 00 00       	.WORD	$0000		; Array load/save check sum	$4A-$4B
4770   0D33 00          	.BYTE	$00		; Break not by NMI		$4C
4771   0D34 00          	.BYTE	$00		; Break flag		$4D
4772   0D35 00          	.BYTE	$00		; CURPOS	$4E
4773   0D36 00          	.BYTE	$00		; LCRFLG Locate/Create Flag	$4F
4774   0D37 00          	.BYTE	$00		; TYPE Data type flag	$50
4775   0D38 00          	.BYTE	$00		; DATFLG literal statement flag	$51
4776   0D39 00          	.BYTE	$00		; FORFLG "FOR" loop flag	$52
4777   0D3A 00          	.BYTE	$00		; Last byte entered		$53
4778   0D3B 00          	.BYTE	$00		; READ/INPUT flag		$54
4779   0D3C FE FF       	.WORD	-2		; Current LINE NUMBER	$55-$56
4780   0D3E 00          INITX	.BYTE	$00		; END OF INITIALISATION TABLE
4781   0D3F             ;------------------------------------------------------------------------------
4782   0D3F             ; BASIC ERROR CODE LIST
4783   0D3F             ;------------------------------------------------------------------------------
4784   0D3F 01 4E 45 58 ERRORS:	.BYTE	$01,"NEXT without FOR"
4784   0D43 54 20 77 69 
4784   0D47 74 68 6F 75 
4784   0D4B 74 20 46 4F 
4784   0D4F 52 
4785   0D50 00 02 53 79 	.BYTE	$00,$02,"Syntax"
4785   0D54 6E 74 61 78 
4786   0D58 00 03 52 45 	.BYTE	$00,$03,"RETURN without GOSUB"
4786   0D5C 54 55 52 4E 
4786   0D60 20 77 69 74 
4786   0D64 68 6F 75 74 
4786   0D68 20 47 4F 53 
4786   0D6C 55 42 
4787   0D6E 00 04 4F 75 	.BYTE	$00,$04,"Out of DATA"
4787   0D72 74 20 6F 66 
4787   0D76 20 44 41 54 
4787   0D7A 41 
4788   0D7B 00 05 49 6C 	.BYTE	$00,$05,"Illegal function call"
4788   0D7F 6C 65 67 61 
4788   0D83 6C 20 66 75 
4788   0D87 6E 63 74 69 
4788   0D8B 6F 6E 20 63 
4788   0D8F 61 6C 6C 
4789   0D92 00 06 4F 76 	.BYTE	$00,$06,"Overflow"
4789   0D96 65 72 66 6C 
4789   0D9A 6F 77 
4790   0D9C 00 07 4F 75 	.BYTE	$00,$07,"Out of Memory"
4790   0DA0 74 20 6F 66 
4790   0DA4 20 4D 65 6D 
4790   0DA8 6F 72 79 
4791   0DAB 00 08 55 6E 	.BYTE	$00,$08,"Undefined Line"
4791   0DAF 64 65 66 69 
4791   0DB3 6E 65 64 20 
4791   0DB7 4C 69 6E 65 
4792   0DBB 00 09 42 61 	.BYTE	$00,$09,"Bad Subscript"
4792   0DBF 64 20 53 75 
4792   0DC3 62 73 63 72 
4792   0DC7 69 70 74 
4793   0DCA 00 0A 52 65 	.BYTE	$00,$0A,"Re-DIM'd array"
4793   0DCE 2D 44 49 4D 
4793   0DD2 27 64 20 61 
4793   0DD6 72 72 61 79 
4794   0DDA 00 0B 44 69 	.BYTE	$00,$0B,"Division by zero"
4794   0DDE 76 69 73 69 
4794   0DE2 6F 6E 20 62 
4794   0DE6 79 20 7A 65 
4794   0DEA 72 6F 
4795   0DEC 00 0C 49 6C 	.BYTE	$00,$0C,"Illegal direct"
4795   0DF0 6C 65 67 61 
4795   0DF4 6C 20 64 69 
4795   0DF8 72 65 63 74 
4796   0DFC 00 0D 54 79 	.BYTE	$00,$0D,"Type Mismatch"
4796   0E00 70 65 20 4D 
4796   0E04 69 73 6D 61 
4796   0E08 74 63 68 
4797   0E0B 00 0E 4F 75 	.BYTE	$00,$0E,"Out of string space"
4797   0E0F 74 20 6F 66 
4797   0E13 20 73 74 72 
4797   0E17 69 6E 67 20 
4797   0E1B 73 70 61 63 
4797   0E1F 65 
4798   0E20 00 0F 53 74 	.BYTE	$00,$0F,"String too long"
4798   0E24 72 69 6E 67 
4798   0E28 20 74 6F 6F 
4798   0E2C 20 6C 6F 6E 
4798   0E30 67 
4799   0E31 00 10 53 74 	.BYTE	$00,$10,"String too complex"
4799   0E35 72 69 6E 67 
4799   0E39 20 74 6F 6F 
4799   0E3D 20 63 6F 6D 
4799   0E41 70 6C 65 78 
4800   0E45 00 11 43 61 	.BYTE	$00,$11,"Can't CONTinue"
4800   0E49 6E 27 74 20 
4800   0E4D 43 4F 4E 54 
4800   0E51 69 6E 75 65 
4801   0E55 00 12 55 6E 	.BYTE	$00,$12,"Undefined Function"
4801   0E59 64 65 66 69 
4801   0E5D 6E 65 64 20 
4801   0E61 46 75 6E 63 
4801   0E65 74 69 6F 6E 
4802   0E69 00 13 4D 69 	.BYTE	$00,$13,"Missing Operand"
4802   0E6D 73 73 69 6E 
4802   0E71 67 20 4F 70 
4802   0E75 65 72 61 6E 
4802   0E79 64 
4803   0E7A 00 14 53 74 	.BYTE	$00,$14,"Stack Overflow"
4803   0E7E 61 63 6B 20 
4803   0E82 4F 76 65 72 
4803   0E86 66 6C 6F 77 
4804   0E8A 00 15 4E 6F 	.BYTE	$00,$15,"Not valid HEX"
4804   0E8E 74 20 76 61 
4804   0E92 6C 69 64 20 
4804   0E96 48 45 58 
4805   0E99 00          	.BYTE	$00
4806   0E9A             ;------------------------------------------------------------------------------
4807   0E9A             ; TEXT MESSAGES
4808   0E9A             ;------------------------------------------------------------------------------
4809   0E9A 0C          SIGNON:	.BYTE	$0C
4810   0E9B 53 70 61 63 	.BYTE	"Space-Time Productions MCB    "
4810   0E9F 65 2D 54 69 
4810   0EA3 6D 65 20 50 
4810   0EA7 72 6F 64 75 
4810   0EAB 63 74 69 6F 
4810   0EAF 6E 73 20 4D 
4810   0EB3 43 42 20 20 
4810   0EB7 20 20 
4811   0EB9 A9 31 39 38 	.BYTE	$A9,"1982"
4811   0EBD 32 
4812   0EBE 0D 0A       	.BYTE	CR,LF
4813   0EC0 4D 69 63 72 	.BYTE	"Microsoft BASIC V4.7 [Nascom] "
4813   0EC4 6F 73 6F 66 
4813   0EC8 74 20 42 41 
4813   0ECC 53 49 43 20 
4813   0ED0 56 34 2E 37 
4813   0ED4 20 5B 4E 61 
4813   0ED8 73 63 6F 6D 
4813   0EDC 5D 20 
4814   0EDE A9 31 39 37 	.BYTE	$A9,"1978"
4814   0EE2 38 
4815   0EE3 0D 0A       	.BYTE	CR,LF
4816   0EE5 27 42 6F 6F 	.BYTE	"'Boot to BASIC' V1.0 portover "
4816   0EE9 74 20 74 6F 
4816   0EED 20 42 41 53 
4816   0EF1 49 43 27 20 
4816   0EF5 56 31 2E 30 
4816   0EF9 20 70 6F 72 
4816   0EFD 74 6F 76 65 
4816   0F01 72 20 
4817   0F03 A9 32 30 31 	.BYTE	$A9,"2011"
4817   0F07 31 
4818   0F08 0D 0A 00 00 	.BYTE	CR,LF,0,0
4819   0F0C             	
4820   0F0C 20 42 79 74 SRAM:	.BYTE	" Bytes System Ram"
4820   0F10 65 73 20 53 
4820   0F14 79 73 74 65 
4820   0F18 6D 20 52 61 
4820   0F1C 6D 
4821   0F1D 0D 0A 00 00 	.BYTE	CR,LF,0,0
4822   0F21 20 42 79 74 BFREE:	.BYTE	" Bytes BASIC Available"
4822   0F25 65 73 20 42 
4822   0F29 41 53 49 43 
4822   0F2D 20 41 76 61 
4822   0F31 69 6C 61 62 
4822   0F35 6C 65 
4823   0F37 0D 0A 00 00 	.BYTE	CR,LF,0,0
4824   0F3B 4F 6B 0D 0A OKMSG:	.BYTE	"Ok",CR,LF,0,0
4824   0F3F 00 00 
4825   0F41 20 65 72 72 ERRMSG:	.BYTE	" error",0
4825   0F45 6F 72 00 
4826   0F48 42 72 65 61 BRKMSG:	.BYTE	"Break",0
4826   0F4C 6B 00 
4827   0F4E 20 69 6E 20 INMSG:	.BYTE	" in ",0
4827   0F52 00 
4828   0F53 3F 20 52 65 REDO:	.BYTE	"? Redo from start",CR,LF,0
4828   0F57 64 6F 20 66 
4828   0F5B 72 6F 6D 20 
4828   0F5F 73 74 61 72 
4828   0F63 74 0D 0A 00 
4829   0F67 3F 20 45 78 EXTIG:	.BYTE	"? Extra ignored",CR,LF,0
4829   0F6B 74 72 61 20 
4829   0F6F 69 67 6E 6F 
4829   0F73 72 65 64 0D 
4829   0F77 0A 00 
4830   0F79 43 61 70 74 TSAVE:	.BYTE	"Capture text file now.",CR,LF,0,0
4830   0F7D 75 72 65 20 
4830   0F81 74 65 78 74 
4830   0F85 20 66 69 6C 
4830   0F89 65 20 6E 6F 
4830   0F8D 77 2E 0D 0A 
4830   0F91 00 00 
4831   0F93 53 65 6E 64 TLOAD:	.BYTE	"Send Program file now.",CR,LF,0,0
4831   0F97 20 50 72 6F 
4831   0F9B 67 72 61 6D 
4831   0F9F 20 66 69 6C 
4831   0FA3 65 20 6E 6F 
4831   0FA7 77 2E 0D 0A 
4831   0FAB 00 00 
4832   0FAD 43 68 65 63 CKSUMERR:	.BYTE	"Checksum Error in file.",CR,LF,0,0
4832   0FB1 6B 73 75 6D 
4832   0FB5 20 45 72 72 
4832   0FB9 6F 72 20 69 
4832   0FBD 6E 20 66 69 
4832   0FC1 6C 65 2E 0D 
4832   0FC5 0A 00 00 
4833   0FC8             ;------------------------------------------------------------------------------
4834   0FC8             ; RXA - Receive a byte over SIO/0 Ch A
4835   0FC8             ;------------------------------------------------------------------------------
basic2.asm line 4836: Label not found: (CKSIOA)
basic2.asm line 4836: Unused data in MS byte of argument. (2)
4836   0FC8 CD 00 00    RXA:	CALL	CKSIOA		; Get the status word
4837   0FCB             	JR	NC,RXA		; Loop until a character arrives
basic2.asm line 4837: unrecognized instruction.          (JR)
basic2.asm line 4838: Label not found: (A)
basic2.asm line 4838: Unknown token: (,)
basic2.asm line 4838: Unknown token.    
4838   0FCB DB 74       	IN	A,($74)		; Get the character
4839   0FCD C9          	RET			; Char ready in A
4840   0FCE             ;------------------------------------------------------------------------------
4841   0FCE             ; TXA - Transmit a byte over SIO/0 Ch A
4842   0FCE             ;------------------------------------------------------------------------------
4843   0FCE             TXA:	PUSH	AF		; Store character
basic2.asm line 4843: Label not found: (TXA)
basic2.asm line 4843: label value misalligned.           (TXA)
basic2.asm line 4843: unrecognized argument.             (TXA)
basic2.asm line 4844: Label not found: (CKSIOA)
basic2.asm line 4844: Unused data in MS byte of argument. (2)
4844   0FCE CD 00 00    	CALL	CKSIOA		; See if SIO channel A is finished transmitting
4845   0FD1             	JR	Z,TXA+1		; Loop until SIO flag signals ready
basic2.asm line 4845: unrecognized instruction.          (JR)
4846   0FD1             	POP	AF		; Retrieve character
basic2.asm line 4846: unrecognized argument.             (AF)
basic2.asm line 4847: Unknown token: (,)
basic2.asm line 4847: Unknown token.    
basic2.asm line 4847: Label not found: (A)
basic2.asm line 4847: Unused data in MS byte of argument. (200)
4847   0FD1 D3 00       	OUT	($74),A		; Output the character
4848   0FD3 C9          	RET
4849   0FD4             ;------------------------------------------------------------------------------
4850   0FD4             ; RXB - Receive a byte over SIO/0 Ch B
4851   0FD4             ;------------------------------------------------------------------------------
basic2.asm line 4852: Label not found: (CKSIOB)
basic2.asm line 4852: Unused data in MS byte of argument. (2)
4852   0FD4 CD 00 00    RXB:	CALL	CKSIOB		; Get the status word
4853   0FD7             	JR	NC,RXB		; Loop until character arrives
basic2.asm line 4853: unrecognized instruction.          (JR)
basic2.asm line 4854: Label not found: (A)
basic2.asm line 4854: Unknown token: (,)
basic2.asm line 4854: Unknown token.    
4854   0FD7 DB 75       	IN	A,($75)		; Get the character
4855   0FD9 C9          	RET			; Char ready in A	
4856   0FDA             ;------------------------------------------------------------------------------
4857   0FDA             ; TXB - Transmit a byte over SIO/0 Ch B
4858   0FDA             ;------------------------------------------------------------------------------
4859   0FDA             TXB:	PUSH	AF		; Store character
basic2.asm line 4859: Label not found: (TXB)
basic2.asm line 4859: label value misalligned.           (TXB)
basic2.asm line 4859: unrecognized argument.             (TXB)
basic2.asm line 4860: Label not found: (CKSIOB)
basic2.asm line 4860: Unused data in MS byte of argument. (2)
4860   0FDA CD 00 00    	CALL	CKSIOB		; See if SIO channel B is finished transmitting
4861   0FDD             	JR	Z,TXB+1		; Loop until SIO flag signals ready
basic2.asm line 4861: unrecognized instruction.          (JR)
4862   0FDD             	POP	AF		; Retrieve character
basic2.asm line 4862: unrecognized argument.             (AF)
basic2.asm line 4863: Unknown token: (,)
basic2.asm line 4863: Unknown token.    
basic2.asm line 4863: Label not found: (A)
basic2.asm line 4863: Unused data in MS byte of argument. (200)
4863   0FDD D3 00       	OUT	($75),A		; Output the character
4864   0FDF C9          	RET
4865   0FE0             ;------------------------------------------------------------------------------
4866   0FE0             ; Check SIO Channel A status flag, RX char ready=CY, TX buffer clear=NZ
4867   0FE0             ;------------------------------------------------------------------------------
4868   0FE0             CKSIOA:	XOR	A		; Zeroize A
basic2.asm line 4868: Label not found: (CKSIOA)
basic2.asm line 4868: label value misalligned.           (CKSIOA)
basic2.asm line 4868: unrecognized instruction.          (CKSIOA)
basic2.asm line 4869: Unknown token: (,)
basic2.asm line 4869: Unknown token.    
basic2.asm line 4869: Label not found: (A)
basic2.asm line 4869: Unused data in MS byte of argument. (200)
4869   0FE0 D3 00       	OUT	($76),A		; Select Register 0
basic2.asm line 4870: Label not found: (A)
basic2.asm line 4870: Unknown token: (,)
basic2.asm line 4870: Unknown token.    
4870   0FE2 DB 76       	IN	A,($76)		;Retrieve Status Word
4871   0FE4             	RRCA			;RX status into CY flag
basic2.asm line 4871: unrecognized instruction.          (RRCA)
4872   0FE4             	BIT	1,A		;TX Buffer Empty into Z flag
basic2.asm line 4872: unrecognized instruction.          (BIT)
4873   0FE4 C9          	RET
4874   0FE5             ;------------------------------------------------------------------------------
4875   0FE5             ; Check SIO Channel B status flag, RX char ready=CY, TX buffer clear=NZ
4876   0FE5             ;------------------------------------------------------------------------------
4877   0FE5             CKSIOB:	XOR	A		; Zeroize A
basic2.asm line 4877: Label not found: (CKSIOB)
basic2.asm line 4877: label value misalligned.           (CKSIOB)
basic2.asm line 4877: unrecognized instruction.          (CKSIOB)
basic2.asm line 4878: Unknown token: (,)
basic2.asm line 4878: Unknown token.    
basic2.asm line 4878: Label not found: (A)
basic2.asm line 4878: Unused data in MS byte of argument. (200)
4878   0FE5 D3 00       	OUT	($77),A		; Select Register 0
basic2.asm line 4879: Label not found: (A)
basic2.asm line 4879: Unknown token: (,)
basic2.asm line 4879: Unknown token.    
4879   0FE7 DB 77       	IN	A,($77)		; Retrieve Status Word
4880   0FE9             	RRCA			; RX status into CY flag
basic2.asm line 4880: unrecognized instruction.          (RRCA)
4881   0FE9             	BIT	1,A		; TX Buffer Empty into Z flag
basic2.asm line 4881: unrecognized instruction.          (BIT)
4882   0FE9 C9          	RET
4883   0FEA             
4884   0FEA             ;------------------------------------------------------------------------------
4885   0FEA             ; INITIALIZE HARDWARE
4886   0FEA             ;------------------------------------------------------------------------------
4887   0FEA             HWINIT:	XOR	A		; Start by clearing ram
basic2.asm line 4887: Label not found: (HWINIT)
basic2.asm line 4887: label value misalligned.           (HWINIT)
basic2.asm line 4887: unrecognized instruction.          (HWINIT)
4888   0FEA             	LD	HL,$3000
basic2.asm line 4888: unrecognized instruction.          (LD)
4889   0FEA             	LD	DE,$3001
basic2.asm line 4889: unrecognized instruction.          (LD)
4890   0FEA             	LD	BC,$0800
basic2.asm line 4890: unrecognized instruction.          (LD)
4891   0FEA             	LD	(HL),A
basic2.asm line 4891: unrecognized instruction.          (LD)
4892   0FEA             	LDIR
basic2.asm line 4892: unrecognized instruction.          (LDIR)
4893   0FEA             	
4894   0FEA             	LD	SP,$3080		; Set the Stack Pointer low in ram
basic2.asm line 4894: unrecognized instruction.          (LD)
4895   0FEA             ;------------------------------------------------------------------------------
4896   0FEA             ; The new PIT settings for this Rev Monitor Rom jacks up CTC0 to generate 
4897   0FEA             ; PIT0=38400 baud, PIT1 to gen 4800 Baud, and PIT2 to generate a MIDI clock.
4898   0FEA             ; - CTC0 and CTC1 must be driven off the 1.8432MHz Xtal, 
4899   0FEA             ; - The MIDI clock must be driven off the 2.0MHz system clock.
4900   0FEA             ;------------------------------------------------------------------------------
4901   0FEA             ; Set the Programmable Interval Timer
4902   0FEA             ;------------------------------------------------------------------------------
4903   0FEA             PIT:	LD   E,$02	; PIT(CTC) # 2	
basic2.asm line 4903: Label not found: (PIT)
basic2.asm line 4903: label value misalligned.           (PIT)
basic2.asm line 4903: unrecognized instruction.          (PIT)
4904   0FEA             	LD   HL,$4E20	; 20,000 X 0.5 uSec =100 Hz if desired NMI/RTC
basic2.asm line 4904: unrecognized instruction.          (LD)
4905   0FEA CD F3 0F    	CALL PIT1		; Write it to PIT
4906   0FED             	LD   E,$01	; PIT(CTC) # 1	
basic2.asm line 4906: unrecognized instruction.          (LD)
4907   0FED             	LD   HL,$01A1	; 417 x 0.5 uSec =4796 Hz / 16 = 299 (300 Baud)	
basic2.asm line 4907: unrecognized instruction.          (LD)
4908   0FED CD F3 0F    	CALL PIT1		; Write it to PIT
4909   0FF0             	LD   E,$00	; PIT(CTC) # 0	
basic2.asm line 4909: unrecognized instruction.          (LD)
4910   0FF0             	LD   HL,$001A	; 26 x 0.5 uSec = 76,923 Hz / 16 = 4807 (4800 Baud)
basic2.asm line 4910: unrecognized instruction.          (LD)
4911   0FF0 CD F3 0F    	CALL PIT1		; Write it to PIT
4912   0FF3             	JR   INITSIO	; Jump over the PIT routines, continue
basic2.asm line 4912: unrecognized instruction.          (JR)
4913   0FF3             ;------------------------------------------------------------------------------
4914   0FF3             ; This routine sets up the Programmable Interval Timer
4915   0FF3             ;------------------------------------------------------------------------------
4916   0FF3 97          PIT1:	SUB  A			; Zero out A and clear the flags
basic2.asm line 4917: Label not found: (E)
basic2.asm line 4917: Unused data in MS byte of argument. (2)
4917   0FF4 F4 00 00    	CP   E			; E contains PIT #
4918   0FF7             	LD   A,$36		; Data for PIT control
basic2.asm line 4918: unrecognized instruction.          (LD)
4919   0FF7             	LD   C,$6C		; PIT Counter 0
basic2.asm line 4919: unrecognized instruction.          (LD)
4920   0FF7             	LD   B,E
basic2.asm line 4920: unrecognized instruction.          (LD)
4921   0FF7             	JR   Z,PIT3		; Program that particular counter
basic2.asm line 4921: unrecognized instruction.          (JR)
4922   0FF7             PIT2:	ADD  A,$40		; Next PIT counter
basic2.asm line 4922: Label not found: (PIT2)
basic2.asm line 4922: label value misalligned.           (PIT2)
basic2.asm line 4922: unrecognized argument.             (PIT2)
4923   0FF7             	INC  C			; Next I/O Port address
basic2.asm line 4923: unrecognized instruction.          (INC)
4924   0FF7             	DJNZ PIT2            		
basic2.asm line 4924: unrecognized instruction.          (DJNZ)
4925   0FF7             
basic2.asm line 4926: Unknown token: (,)
basic2.asm line 4926: Unknown token.    
basic2.asm line 4926: Label not found: (A)
basic2.asm line 4926: Unused data in MS byte of argument. (200)
4926   0FF7 D3 00       PIT3:	OUT  ($6F),A		; Output PIT control byte
basic2.asm line 4927: Label not found: (C)
basic2.asm line 4927: Unknown token: (,)
basic2.asm line 4927: Unknown token.    
basic2.asm line 4927: Label not found: (L)
basic2.asm line 4927: Unused data in MS byte of argument. (200)
4927   0FF9 D3 00       	OUT  (C),L		; and load the counter low order byte
basic2.asm line 4928: Label not found: (C)
basic2.asm line 4928: Unknown token: (,)
basic2.asm line 4928: Unknown token.    
basic2.asm line 4928: Label not found: (H)
basic2.asm line 4928: Unused data in MS byte of argument. (200)
4928   0FFB D3 00       	OUT  (C),H		; Then the high order byte
4929   0FFD C9          	RET 	
4930   0FFE             ;------------------------------------------------------------------------------
4931   0FFE             ; Set the SIO device settings
4932   0FFE             ;------------------------------------------------------------------------------
4933   0FFE             INITSIO:	LD	HL,SIODAT		; Location of SIO control strings
basic2.asm line 4933: Label not found: (INITSIO)
basic2.asm line 4933: label value misalligned.           (INITSIO)
basic2.asm line 4933: unrecognized instruction.          (INITSIO)
4934   0FFE             	LD	C,$76		; Z80 SIO Port A Ctrl
basic2.asm line 4934: unrecognized instruction.          (LD)
4935   0FFE             	LD	B,$0A		; Number of control characters           		
basic2.asm line 4935: unrecognized instruction.          (LD)
4936   0FFE             	OUTI			; Output it to the port
basic2.asm line 4936: unrecognized instruction.          (OUTI)
4937   0FFE 00          	NOP			; Brief time delay
4938   0FFF             	OUTI			; Output the next byte
basic2.asm line 4938: unrecognized instruction.          (OUTI)
4939   0FFF 00          	NOP			; Again, delay briefly
4940   1000             	OTIR			; Then dump the rest of them to the SIO
basic2.asm line 4940: unrecognized instruction.          (OTIR)
4941   1000             ;------------------------------------------------------------------------------
4942   1000             ; Note here that we don't initialize the following:
4943   1000             ; IC-20 p8279	Don't know how the user has this wired, 3D/4K or 8 column
4944   1000             ; IC-14 p8255	Don't know how the user has this configured for his hdw
4945   1000             ; IC-15 p8255	Ditto
4946   1000             ; IC-16 p8255	Ditto
4947   1000             ; IC-17 Am9511	Don't know if it exists, BASIC isn't using it anyway
4948   1000             ; IC-19 Am9513	Don't know if it exists, BASIC isn't using it either
4949   1000             ;------------------------------------------------------------------------------
4950   1000             ; End of Hardware Initialization
4951   1000             ;------------------------------------------------------------------------------
basic2.asm line 4952: Label not found: (CSTART)
basic2.asm line 4952: Unused data in MS byte of argument. (2)
4952   1000 F2 00 00    HDEND:	JP	CSTART		; Jump to BASIC Coldstart
4953   1003             ;------------------------------------------------------------------------------
4954   1003             ; Data bytes for the SIO
4955   1003             ;------------------------------------------------------------------------------
4956   1003 18          SIODAT: 	.BYTE	$18		; SIO CONTROL, RST CH, SEL REGISTER 0
4957   1004 18          	.BYTE	$18		; WRITE DATA TO REGISTER 0
4958   1005 04          	.BYTE	$04		; SELECT REGISTER 4
4959   1006 44          	.BYTE	$44		; X 16 CLK, 1 STOP, No parity
4960   1007 05          	.BYTE	$05		; SELECT REGISTER 5
4961   1008 EA          	.BYTE	$EA		; DTR, TX 8 BITS/1 STOP, RTS, TX ENABLE
4962   1009 03          	.BYTE	$03		; SELECT REGISTER 3
4963   100A C1          	.BYTE	$C1		; RX 8 BITS/CHAR, RX ENABLE
4964   100B 01          	.BYTE	$01		; SELECT REGISTER 1
4965   100C 00          	.BYTE	$00		; DISABLE WAIT/READY AND INTERRUPT MODES
4966   100D             ;------------------------------------------------------------------------------		
4967   100D             ; These are the default jump vectors for Z80 \INT and \NMI
4968   100D             ;  They are copied to $3214 JP, $3215 L, $3216 H for INT
4969   100D             ;                     $3217 JP, $3218 L, $3219 H for NMI
4970   100D             ; The user can change these after bootup to alter the destination of INT, NMI
4971   100D             ;  for own purposes. Beware of vectoring off to the weeds.
4972   100D             ;------------------------------------------------------------------------------
4973   1FE0             VECTORS:	.ORG	$1FE0		; Soft configurable NMI and INT
4974   1FE0 F2 85 00    INTSRC:	JP	WSTART		; BASIC Warmstart until user changes
4975   1FE3 F2 85 00    NMISRC:	JP	WSTART		; Basic Warmstart until user changes
4976   1FE6 00          	NOP
4977   1FE7 00          	NOP
4978   1FE8 00          	NOP
4979   1FE9 00          	NOP
4980   1FEA 00          	NOP
4981   1FEB 00          	NOP
4982   1FEC 00          	NOP
4983   1FED 00          	NOP
4984   1FEE 00          	NOP
4985   1FEF 00          	NOP
4986   1FF0             ;------------------------------------------------------------------------------
4987   1FF0             ; The following vectors are positioned at the top of BASIC's Rom so that 
4988   1FF0             ;  users of USR(x) can easily locate DEINT and PASSA and ABPASS, regardless
4989   1FF0             ;  of updates to BASIC.ASM which would shift their position inside code.
4990   1FF0             ; DEINT takes the value x from USR(x) -32768 to 32767 from FPREG into regs DE
4991   1FF0             ; ABPASS returns value from user's code 16-bit signed int and returns it to
4992   1FF0             ;   Basic, so Z=USR(X), Z will contain result of user's program
4993   1FF0             ; PASSA returns unsigned 8 bit integer 0 to 255 in reg A back to Basic.
4994   1FF0             ;------------------------------------------------------------------------------
4995   1FF0             ; Notes on using Machine Code with BASIC:
4996   1FF0             ;------------------------------------------------------------------------------
4997   1FF0             ; CLEAR 100,14235 causes basic to create a 100 byte string space, and to
4998   1FF0             ;   set LSTRAM from $37FF to $379B (14235), leaving 100 bytes for your machine
4999   1FF0             ;   code program which won't be overwritten by BASIC text.
5000   1FF0             ; Be sure to set the location of your machine code program with VECTOR(x)
5001   1FF0             ;   because the default USR vector will return a Function Call Error.
5002   1FF0             ; Then Z=USR(X) is the format for passing variables to/from your program.
5003   1FF0             ;   X is the signed 16-bit value you pass to your program, Z is the value ret'd.
5004   1FF0             ;   Your program should first CALL DEINT to get the value into registers DE.
5005   1FF0             ;   Then, if you are returning a signed 16-bit value, CALL this 
5006   1FF0             ;   vector for JP ABPASS, then finish your program with a RET command.
5007   1FF0             ;   If you are returning only an unsigned 8-bit value 0-255, call this
5008   1FF0             ;   vector for JP PASSA,  then finish your program with a RET commmand.
5009   1FF0             ;------------------------------------------------------------------------------		
5010   1FF0             	.ORG	$1FF0	; Standardized location of User Vectors
basic2.asm line 5011: Label not found: (CSTART)
basic2.asm line 5011: Unused data in MS byte of argument. (2)
5011   1FF0 F2 00 00    	JP	CSTART	; BASIC Cold Start (clears ram, resets all)
5012   1FF3 F2 85 00    	JP	WSTART	; BASIC Warm Start (returns to OK prompt)
5013   1FF6             	
basic2.asm line 5014: Label not found: (DEINT)
basic2.asm line 5014: Unused data in MS byte of argument. (2)
5014   1FF6 F2 00 00    	JP	DEINT	; Pass Integer variable to user program in DE
basic2.asm line 5015: Label not found: (ABPASS)
basic2.asm line 5015: Unused data in MS byte of argument. (2)
5015   1FF9 F2 00 00    	JP	ABPASS	; Pass 16-bit int from user back to BASIC
basic2.asm line 5016: Label not found: (PASSA)
basic2.asm line 5016: Unused data in MS byte of argument. (2)
5016   1FFC F2 00 00    	JP	PASSA	; PASS INT 0-255 IN A	  (var back to bas)
5017   1FFF             ;------------------------------------------------------------------------------
5018   1FFF             ;------------------------------------------------------------------------------
5019   1FFF             FINIS	.END			;END OF ASSEMBLY
5020   1FFF             ;------------------------------------------------------------------------------
5021   1FFF             ;------------------------------------------------------------------------------
tasm: Number of errors = 5240
